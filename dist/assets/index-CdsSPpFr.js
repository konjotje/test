var Z9=Object.defineProperty;var pP=t=>{throw TypeError(t)};var eH=(t,e,n)=>e in t?Z9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var kt=(t,e,n)=>eH(t,typeof e!="symbol"?e+"":e,n),tH=(t,e,n)=>e.has(t)||pP("Cannot "+n);var mP=(t,e,n)=>e.has(t)?pP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var qd=(t,e,n)=>(tH(t,e,"access private method"),n);function nH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e_={exports:{}},Fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function rH(){if(gP)return Fd;gP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var l in i)l!=="key"&&(a[l]=i[l])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Fd.Fragment=e,Fd.jsx=n,Fd.jsxs=n,Fd}var yP;function iH(){return yP||(yP=1,e_.exports=rH()),e_.exports}var v=iH(),t_={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP;function aH(){if(vP)return tt;vP=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function b(H){return H===null||typeof H!="object"?null:(H=m&&H[m]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function E(H,X,ne){this.props=H,this.context=X,this.refs=S,this.updater=ne||T}E.prototype.isReactComponent={},E.prototype.setState=function(H,X){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,X,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=E.prototype;function C(H,X,ne){this.props=H,this.context=X,this.refs=S,this.updater=ne||T}var N=C.prototype=new I;N.constructor=C,w(N,E.prototype),N.isPureReactComponent=!0;var D=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function P(H,X,ne,se,_e,Ie){return ne=Ie.ref,{$$typeof:t,type:H,key:X,ref:ne!==void 0?ne:null,props:Ie}}function M(H,X){return P(H.type,X,void 0,void 0,void 0,H.props)}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var X={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ne){return X[ne]})}var V=/\/+/g;function F(H,X){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):X.toString(36)}function B(){}function te(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(B,B):(H.status="pending",H.then(function(X){H.status==="pending"&&(H.status="fulfilled",H.value=X)},function(X){H.status==="pending"&&(H.status="rejected",H.reason=X)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Z(H,X,ne,se,_e){var Ie=typeof H;(Ie==="undefined"||Ie==="boolean")&&(H=null);var Ce=!1;if(H===null)Ce=!0;else switch(Ie){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(H.$$typeof){case t:case e:Ce=!0;break;case h:return Ce=H._init,Z(Ce(H._payload),X,ne,se,_e)}}if(Ce)return _e=_e(H),Ce=se===""?"."+F(H,0):se,D(_e)?(ne="",Ce!=null&&(ne=Ce.replace(V,"$&/")+"/"),Z(_e,X,ne,"",function(we){return we})):_e!=null&&(O(_e)&&(_e=M(_e,ne+(_e.key==null||H&&H.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+Ce)),X.push(_e)),1;Ce=0;var ft=se===""?".":se+":";if(D(H))for(var Be=0;Be<H.length;Be++)se=H[Be],Ie=ft+F(se,Be),Ce+=Z(se,X,ne,Ie,_e);else if(Be=b(H),typeof Be=="function")for(H=Be.call(H),Be=0;!(se=H.next()).done;)se=se.value,Ie=ft+F(se,Be++),Ce+=Z(se,X,ne,Ie,_e);else if(Ie==="object"){if(typeof H.then=="function")return Z(te(H),X,ne,se,_e);throw X=String(H),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function W(H,X,ne){if(H==null)return H;var se=[],_e=0;return Z(H,se,"","",function(Ie){return X.call(ne,Ie,_e++)}),se}function Q(H){if(H._status===-1){var X=H._result;X=X(),X.then(function(ne){(H._status===0||H._status===-1)&&(H._status=1,H._result=ne)},function(ne){(H._status===0||H._status===-1)&&(H._status=2,H._result=ne)}),H._status===-1&&(H._status=0,H._result=X)}if(H._status===1)return H._result.default;throw H._result}var le=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ae(){}return tt.Children={map:W,forEach:function(H,X,ne){W(H,function(){X.apply(this,arguments)},ne)},count:function(H){var X=0;return W(H,function(){X++}),X},toArray:function(H){return W(H,function(X){return X})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},tt.Component=E,tt.Fragment=n,tt.Profiler=i,tt.PureComponent=C,tt.StrictMode=r,tt.Suspense=c,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,tt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},tt.cache=function(H){return function(){return H.apply(null,arguments)}},tt.cloneElement=function(H,X,ne){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var se=w({},H.props),_e=H.key,Ie=void 0;if(X!=null)for(Ce in X.ref!==void 0&&(Ie=void 0),X.key!==void 0&&(_e=""+X.key),X)!j.call(X,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&X.ref===void 0||(se[Ce]=X[Ce]);var Ce=arguments.length-2;if(Ce===1)se.children=ne;else if(1<Ce){for(var ft=Array(Ce),Be=0;Be<Ce;Be++)ft[Be]=arguments[Be+2];se.children=ft}return P(H.type,_e,void 0,void 0,Ie,se)},tt.createContext=function(H){return H={$$typeof:o,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},tt.createElement=function(H,X,ne){var se,_e={},Ie=null;if(X!=null)for(se in X.key!==void 0&&(Ie=""+X.key),X)j.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(_e[se]=X[se]);var Ce=arguments.length-2;if(Ce===1)_e.children=ne;else if(1<Ce){for(var ft=Array(Ce),Be=0;Be<Ce;Be++)ft[Be]=arguments[Be+2];_e.children=ft}if(H&&H.defaultProps)for(se in Ce=H.defaultProps,Ce)_e[se]===void 0&&(_e[se]=Ce[se]);return P(H,Ie,void 0,void 0,null,_e)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(H){return{$$typeof:l,render:H}},tt.isValidElement=O,tt.lazy=function(H){return{$$typeof:h,_payload:{_status:-1,_result:H},_init:Q}},tt.memo=function(H,X){return{$$typeof:f,type:H,compare:X===void 0?null:X}},tt.startTransition=function(H){var X=R.T,ne={};R.T=ne;try{var se=H(),_e=R.S;_e!==null&&_e(ne,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ae,le)}catch(Ie){le(Ie)}finally{R.T=X}},tt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},tt.use=function(H){return R.H.use(H)},tt.useActionState=function(H,X,ne){return R.H.useActionState(H,X,ne)},tt.useCallback=function(H,X){return R.H.useCallback(H,X)},tt.useContext=function(H){return R.H.useContext(H)},tt.useDebugValue=function(){},tt.useDeferredValue=function(H,X){return R.H.useDeferredValue(H,X)},tt.useEffect=function(H,X,ne){var se=R.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(H,X)},tt.useId=function(){return R.H.useId()},tt.useImperativeHandle=function(H,X,ne){return R.H.useImperativeHandle(H,X,ne)},tt.useInsertionEffect=function(H,X){return R.H.useInsertionEffect(H,X)},tt.useLayoutEffect=function(H,X){return R.H.useLayoutEffect(H,X)},tt.useMemo=function(H,X){return R.H.useMemo(H,X)},tt.useOptimistic=function(H,X){return R.H.useOptimistic(H,X)},tt.useReducer=function(H,X,ne){return R.H.useReducer(H,X,ne)},tt.useRef=function(H){return R.H.useRef(H)},tt.useState=function(H){return R.H.useState(H)},tt.useSyncExternalStore=function(H,X,ne){return R.H.useSyncExternalStore(H,X,ne)},tt.useTransition=function(){return R.H.useTransition()},tt.version="19.1.0",tt}var bP;function DC(){return bP||(bP=1,t_.exports=aH()),t_.exports}var q=DC();const Y=Rt(q),oH=nH({__proto__:null,default:Y},[q]);var n_={exports:{}},zd={},r_={exports:{}},i_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function sH(){return xP||(xP=1,function(t){function e(W,Q){var le=W.length;W.push(Q);e:for(;0<le;){var ae=le-1>>>1,H=W[ae];if(0<i(H,Q))W[ae]=Q,W[le]=H,le=ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Q=W[0],le=W.pop();if(le!==Q){W[0]=le;e:for(var ae=0,H=W.length,X=H>>>1;ae<X;){var ne=2*(ae+1)-1,se=W[ne],_e=ne+1,Ie=W[_e];if(0>i(se,le))_e<H&&0>i(Ie,se)?(W[ae]=Ie,W[_e]=le,ae=_e):(W[ae]=se,W[ne]=le,ae=ne);else if(_e<H&&0>i(Ie,le))W[ae]=Ie,W[_e]=le,ae=_e;else break e}}return Q}function i(W,Q){var le=W.sortIndex-Q.sortIndex;return le!==0?le:W.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],h=1,m=null,b=3,T=!1,w=!1,S=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(W){for(var Q=n(f);Q!==null;){if(Q.callback===null)r(f);else if(Q.startTime<=W)r(f),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(f)}}function R(W){if(S=!1,D(W),!w)if(n(c)!==null)w=!0,j||(j=!0,F());else{var Q=n(f);Q!==null&&Z(R,Q.startTime-W)}}var j=!1,P=-1,M=5,O=-1;function $(){return E?!0:!(t.unstable_now()-O<M)}function V(){if(E=!1,j){var W=t.unstable_now();O=W;var Q=!0;try{e:{w=!1,S&&(S=!1,C(P),P=-1),T=!0;var le=b;try{t:{for(D(W),m=n(c);m!==null&&!(m.expirationTime>W&&$());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,b=m.priorityLevel;var H=ae(m.expirationTime<=W);if(W=t.unstable_now(),typeof H=="function"){m.callback=H,D(W),Q=!0;break t}m===n(c)&&r(c),D(W)}else r(c);m=n(c)}if(m!==null)Q=!0;else{var X=n(f);X!==null&&Z(R,X.startTime-W),Q=!1}}break e}finally{m=null,b=le,T=!1}Q=void 0}}finally{Q?F():j=!1}}}var F;if(typeof N=="function")F=function(){N(V)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=V,F=function(){te.postMessage(null)}}else F=function(){I(V,0)};function Z(W,Q){P=I(function(){W(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(W){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var le=b;b=Q;try{return W()}finally{b=le}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=b;b=W;try{return Q()}finally{b=le}},t.unstable_scheduleCallback=function(W,Q,le){var ae=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ae+le:ae):le=ae,W){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=le+H,W={id:h++,callback:Q,priorityLevel:W,startTime:le,expirationTime:H,sortIndex:-1},le>ae?(W.sortIndex=le,e(f,W),n(c)===null&&W===n(f)&&(S?(C(P),P=-1):S=!0,Z(R,le-ae))):(W.sortIndex=H,e(c,W),w||T||(w=!0,j||(j=!0,F()))),W},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(W){var Q=b;return function(){var le=b;b=Q;try{return W.apply(this,arguments)}finally{b=le}}}}(i_)),i_}var _P;function lH(){return _P||(_P=1,r_.exports=sH()),r_.exports}var a_={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP;function uH(){if(TP)return ur;TP=1;var t=DC();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(c,f,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(c,f,null,h)},ur.flushSync=function(c){var f=o.T,h=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=f,r.p=h,r.d.f()}},ur.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},ur.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},ur.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,T=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:b,fetchPriority:T}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:b,fetchPriority:T,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ur.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},ur.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,m=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ur.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},ur.requestFormReset=function(c){r.d.r(c)},ur.unstable_batchedUpdates=function(c,f){return c(f)},ur.useFormState=function(c,f,h){return o.H.useFormState(c,f,h)},ur.useFormStatus=function(){return o.H.useHostTransitionStatus()},ur.version="19.1.0",ur}var wP;function zB(){if(wP)return a_.exports;wP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),a_.exports=uH(),a_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP;function cH(){if(EP)return zd;EP=1;var t=lH(),e=DC(),n=zB();function r(s){var u="https://react.dev/errors/"+s;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var u=s,d=s;if(s.alternate)for(;u.return;)u=u.return;else{s=u;do u=s,(u.flags&4098)!==0&&(d=u.return),s=u.return;while(s)}return u.tag===3?d:null}function o(s){if(s.tag===13){var u=s.memoizedState;if(u===null&&(s=s.alternate,s!==null&&(u=s.memoizedState)),u!==null)return u.dehydrated}return null}function l(s){if(a(s)!==s)throw Error(r(188))}function c(s){var u=s.alternate;if(!u){if(u=a(s),u===null)throw Error(r(188));return u!==s?null:s}for(var d=s,y=u;;){var _=d.return;if(_===null)break;var A=_.alternate;if(A===null){if(y=_.return,y!==null){d=y;continue}break}if(_.child===A.child){for(A=_.child;A;){if(A===d)return l(_),s;if(A===y)return l(_),u;A=A.sibling}throw Error(r(188))}if(d.return!==y.return)d=_,y=A;else{for(var U=!1,z=_.child;z;){if(z===d){U=!0,d=_,y=A;break}if(z===y){U=!0,y=_,d=A;break}z=z.sibling}if(!U){for(z=A.child;z;){if(z===d){U=!0,d=A,y=_;break}if(z===y){U=!0,y=A,d=_;break}z=z.sibling}if(!U)throw Error(r(189))}}if(d.alternate!==y)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:u}function f(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s;for(s=s.child;s!==null;){if(u=f(s),u!==null)return u;s=s.sibling}return null}var h=Object.assign,m=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function te(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case j:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case N:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case D:var u=s.render;return s=s.displayName,s||(s=u.displayName||u.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return u=s.displayName||null,u!==null?u:te(s.type)||"Memo";case M:u=s._payload,s=s._init;try{return te(s(u))}catch{}}return null}var Z=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ae=[],H=-1;function X(s){return{current:s}}function ne(s){0>H||(s.current=ae[H],ae[H]=null,H--)}function se(s,u){H++,ae[H]=s.current,s.current=u}var _e=X(null),Ie=X(null),Ce=X(null),ft=X(null);function Be(s,u){switch(se(Ce,u),se(Ie,s),se(_e,null),u.nodeType){case 9:case 11:s=(s=u.documentElement)&&(s=s.namespaceURI)?qR(s):0;break;default:if(s=u.tagName,u=u.namespaceURI)u=qR(u),s=FR(u,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ne(_e),se(_e,s)}function we(){ne(_e),ne(Ie),ne(Ce)}function Me(s){s.memoizedState!==null&&se(ft,s);var u=_e.current,d=FR(u,s.type);u!==d&&(se(Ie,s),se(_e,d))}function je(s){Ie.current===s&&(ne(_e),ne(Ie)),ft.current===s&&(ne(ft),Ld._currentValue=le)}var ge=Object.prototype.hasOwnProperty,lt=t.unstable_scheduleCallback,ze=t.unstable_cancelCallback,xe=t.unstable_shouldYield,Ge=t.unstable_requestPaint,Qe=t.unstable_now,Bt=t.unstable_getCurrentPriorityLevel,Pt=t.unstable_ImmediatePriority,Cn=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,br=t.unstable_LowPriority,kn=t.unstable_IdlePriority,Xn=t.log,ai=t.unstable_setDisableYieldValue,Mt=null,bt=null;function be(s){if(typeof Xn=="function"&&ai(s),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Mt,s)}catch{}}var De=Math.clz32?Math.clz32:xr,xt=Math.log,fn=Math.LN2;function xr(s){return s>>>=0,s===0?32:31-(xt(s)/fn|0)|0}var sr=256,_r=4194304;function In(s){var u=s&42;if(u!==0)return u;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ir(s,u,d){var y=s.pendingLanes;if(y===0)return 0;var _=0,A=s.suspendedLanes,U=s.pingedLanes;s=s.warmLanes;var z=y&134217727;return z!==0?(y=z&~A,y!==0?_=In(y):(U&=z,U!==0?_=In(U):d||(d=z&~s,d!==0&&(_=In(d))))):(z=y&~A,z!==0?_=In(z):U!==0?_=In(U):d||(d=y&~s,d!==0&&(_=In(d)))),_===0?0:u!==0&&u!==_&&(u&A)===0&&(A=_&-_,d=u&-u,A>=d||A===32&&(d&4194048)!==0)?u:_}function Rr(s,u){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&u)===0}function Ks(s,u){switch(s){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pa(){var s=sr;return sr<<=1,(sr&4194048)===0&&(sr=256),s}function Uf(){var s=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),s}function Ma(s){for(var u=[],d=0;31>d;d++)u.push(s);return u}function Da(s,u){s.pendingLanes|=u,u!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function $f(s,u,d,y,_,A){var U=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var z=s.entanglements,K=s.expirationTimes,oe=s.hiddenUpdates;for(d=U&~d;0<d;){var he=31-De(d),ye=1<<he;z[he]=0,K[he]=-1;var ue=oe[he];if(ue!==null)for(oe[he]=null,he=0;he<ue.length;he++){var ce=ue[he];ce!==null&&(ce.lane&=-536870913)}d&=~ye}y!==0&&Yi(s,y,0),A!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=A&~(U&~u))}function Yi(s,u,d){s.pendingLanes|=u,s.suspendedLanes&=~u;var y=31-De(u);s.entangledLanes|=u,s.entanglements[y]=s.entanglements[y]|1073741824|d&4194090}function Bf(s,u){var d=s.entangledLanes|=u;for(s=s.entanglements;d;){var y=31-De(d),_=1<<y;_&u|s[y]&u&&(s[y]|=u),d&=~_}}function Ro(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function pu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Po(){var s=Q.p;return s!==0?s:(s=window.event,s===void 0?32:lP(s.type))}function nm(s,u){var d=Q.p;try{return Q.p=s,u()}finally{Q.p=d}}var Zt=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Zt,yn="__reactProps$"+Zt,oi="__reactContainer$"+Zt,qf="__reactEvents$"+Zt,rx="__reactListeners$"+Zt,Mo="__reactHandles$"+Zt,rm="__reactResources$"+Zt,Ys="__reactMarker$"+Zt;function Do(s){delete s[Rn],delete s[yn],delete s[qf],delete s[rx],delete s[Mo]}function Oa(s){var u=s[Rn];if(u)return u;for(var d=s.parentNode;d;){if(u=d[oi]||d[Rn]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(s=WR(s);s!==null;){if(d=s[Rn])return d;s=WR(s)}return u}s=d,d=s.parentNode}return null}function Ji(s){if(s=s[Rn]||s[oi]){var u=s.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return s}return null}function Xi(s){var u=s.tag;if(u===5||u===26||u===27||u===6)return s.stateNode;throw Error(r(33))}function Tr(s){var u=s[rm];return u||(u=s[rm]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function dn(s){s[Ys]=!0}var Ff=new Set,mu={};function Mi(s,u){ja(s,u),ja(s+"Capture",u)}function ja(s,u){for(mu[s]=u,s=0;s<u.length;s++)Ff.add(u[s])}var im=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),am={},Js={};function om(s){return ge.call(Js,s)?!0:ge.call(am,s)?!1:im.test(s)?Js[s]=!0:(am[s]=!0,!1)}function Oo(s,u,d){if(om(u))if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){s.removeAttribute(u);return}}s.setAttribute(u,""+d)}}function Qi(s,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttribute(u,""+d)}}function Qn(s,u,d,y){if(y===null)s.removeAttribute(d);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(u,d,""+y)}}var Xs,sm;function La(s){if(Xs===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);Xs=u&&u[1]||"",sm=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+s+sm}var gu=!1;function yu(s,u){if(!s||gu)return"";gu=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ce){var ue=ce}Reflect.construct(s,[],ye)}else{try{ye.call()}catch(ce){ue=ce}s.call(ye.prototype)}}else{try{throw Error()}catch(ce){ue=ce}(ye=s())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ce){if(ce&&ue&&typeof ce.stack=="string")return[ce.stack,ue.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=y.DetermineComponentFrameRoot(),U=A[0],z=A[1];if(U&&z){var K=U.split(`
`),oe=z.split(`
`);for(_=y=0;y<K.length&&!K[y].includes("DetermineComponentFrameRoot");)y++;for(;_<oe.length&&!oe[_].includes("DetermineComponentFrameRoot");)_++;if(y===K.length||_===oe.length)for(y=K.length-1,_=oe.length-1;1<=y&&0<=_&&K[y]!==oe[_];)_--;for(;1<=y&&0<=_;y--,_--)if(K[y]!==oe[_]){if(y!==1||_!==1)do if(y--,_--,0>_||K[y]!==oe[_]){var he=`
`+K[y].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=y&&0<=_);break}}}finally{gu=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?La(d):""}function zf(s){switch(s.tag){case 26:case 27:case 5:return La(s.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 15:return yu(s.type,!1);case 11:return yu(s.type.render,!1);case 1:return yu(s.type,!0);case 31:return La("Activity");default:return""}}function vu(s){try{var u="";do u+=zf(s),s=s.return;while(s);return u}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function wr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Gf(s){var u=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function ix(s){var u=Gf(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,u),y=""+s[u];if(!s.hasOwnProperty(u)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,A=d.set;return Object.defineProperty(s,u,{configurable:!0,get:function(){return _.call(this)},set:function(U){y=""+U,A.call(this,U)}}),Object.defineProperty(s,u,{enumerable:d.enumerable}),{getValue:function(){return y},setValue:function(U){y=""+U},stopTracking:function(){s._valueTracker=null,delete s[u]}}}}function bu(s){s._valueTracker||(s._valueTracker=ix(s))}function Hf(s){if(!s)return!1;var u=s._valueTracker;if(!u)return!0;var d=u.getValue(),y="";return s&&(y=Gf(s)?s.checked?"true":"false":s.value),s=y,s!==d?(u.setValue(s),!0):!1}function Qs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ax=/[\n"\\]/g;function vn(s){return s.replace(ax,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function qr(s,u,d,y,_,A,U,z){s.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.type=U:s.removeAttribute("type"),u!=null?U==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+wr(u)):s.value!==""+wr(u)&&(s.value=""+wr(u)):U!=="submit"&&U!=="reset"||s.removeAttribute("value"),u!=null?jo(s,U,wr(u)):d!=null?jo(s,U,wr(d)):y!=null&&s.removeAttribute("value"),_==null&&A!=null&&(s.defaultChecked=!!A),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.name=""+wr(z):s.removeAttribute("name")}function Zs(s,u,d,y,_,A,U,z){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.type=A),u!=null||d!=null){if(!(A!=="submit"&&A!=="reset"||u!=null))return;d=d!=null?""+wr(d):"",u=u!=null?""+wr(u):d,z||u===s.value||(s.value=u),s.defaultValue=u}y=y??_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,s.checked=z?s.checked:!!y,s.defaultChecked=!!y,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.name=U)}function jo(s,u,d){u==="number"&&Qs(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Va(s,u,d,y){if(s=s.options,u){u={};for(var _=0;_<d.length;_++)u["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=u.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&y&&(s[d].defaultSelected=!0)}else{for(d=""+wr(d),u=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,y&&(s[_].defaultSelected=!0);return}u!==null||s[_].disabled||(u=s[_])}u!==null&&(u.selected=!0)}}function Dt(s,u,d){if(u!=null&&(u=""+wr(u),u!==s.value&&(s.value=u),d==null)){s.defaultValue!==u&&(s.defaultValue=u);return}s.defaultValue=d!=null?""+wr(d):""}function el(s,u,d,y){if(u==null){if(y!=null){if(d!=null)throw Error(r(92));if(Z(y)){if(1<y.length)throw Error(r(93));y=y[0]}d=y}d==null&&(d=""),u=d}d=wr(u),s.defaultValue=d,y=s.textContent,y===d&&y!==""&&y!==null&&(s.value=y)}function si(s,u){if(u){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=u;return}}s.textContent=u}var tl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lm(s,u,d){var y=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?y?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="":y?s.setProperty(u,d):typeof d!="number"||d===0||tl.has(u)?u==="float"?s.cssFloat=d:s[u]=(""+d).trim():s[u]=d+"px"}function Wf(s,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(s=s.style,d!=null){for(var y in d)!d.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?s.setProperty(y,""):y==="float"?s.cssFloat="":s[y]="");for(var _ in u)y=u[_],u.hasOwnProperty(_)&&d[_]!==y&&lm(s,_,y)}else for(var A in u)u.hasOwnProperty(A)&&lm(s,A,u[A])}function Kf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ox=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(s){return sx.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ua=null;function li(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $a=null,Ba=null;function Yf(s){var u=Ji(s);if(u&&(s=u.stateNode)){var d=s[yn]||null;e:switch(s=u.stateNode,u.type){case"input":if(qr(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+vn(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var y=d[u];if(y!==s&&y.form===s.form){var _=y[yn]||null;if(!_)throw Error(r(90));qr(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(u=0;u<d.length;u++)y=d[u],y.form===s.form&&Hf(y)}break e;case"textarea":Dt(s,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&Va(s,!!d.multiple,u,!1)}}}var Zi=!1;function um(s,u,d){if(Zi)return s(u,d);Zi=!0;try{var y=s(u);return y}finally{if(Zi=!1,($a!==null||Ba!==null)&&(ng(),$a&&(u=$a,s=Ba,Ba=$a=null,Yf(u),s)))for(u=0;u<s.length;u++)Yf(s[u])}}function nl(s,u){var d=s.stateNode;if(d===null)return null;var y=d[yn]||null;if(y===null)return null;d=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(s=s.type,y=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!y;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Di)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){ui=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{ui=!1}var ea=null,Lo=null,qa=null;function Jf(){if(qa)return qa;var s,u=Lo,d=u.length,y,_="value"in ea?ea.value:ea.textContent,A=_.length;for(s=0;s<d&&u[s]===_[s];s++);var U=d-s;for(y=1;y<=U&&u[d-y]===_[A-y];y++);return qa=_.slice(s,1<y?1-y:void 0)}function ta(s){var u=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&u===13&&(s=13)):s=u,s===10&&(s=13),32<=s||s===13?s:0}function na(){return!0}function Xf(){return!1}function Fn(s){function u(d,y,_,A,U){this._reactName=d,this._targetInst=_,this.type=y,this.nativeEvent=A,this.target=U,this.currentTarget=null;for(var z in s)s.hasOwnProperty(z)&&(d=s[z],this[z]=d?d(A):A[z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?na:Xf,this.isPropagationStopped=Xf,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=na)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=na)},persist:function(){},isPersistent:na}),u}var wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=Fn(wt),il=h({},wt,{view:0,detail:0}),cm=Fn(il),Tu,wu,ra,al=h({},il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ra&&(ra&&s.type==="mousemove"?(Tu=s.screenX-ra.screenX,wu=s.screenY-ra.screenY):wu=Tu=0,ra=s),Tu)},movementY:function(s){return"movementY"in s?s.movementY:wu}}),ci=Fn(al),fm=h({},al,{dataTransfer:0}),lx=Fn(fm),ol=h({},il,{relatedTarget:0}),Eu=Fn(ol),Qf=h({},wt,{animationName:0,elapsedTime:0,pseudoElement:0}),Su=Fn(Qf),dm=h({},wt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Au=Fn(dm),ux=h({},wt,{data:0}),Zf=Fn(ux),sl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ed(s){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(s):(s=pm[s])?!!u[s]:!1}function ll(){return ed}var mm=h({},il,{key:function(s){if(s.key){var u=sl[s.key]||s.key;if(u!=="Unidentified")return u}return s.type==="keypress"?(s=ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(s){return s.type==="keypress"?ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Cu=Fn(mm),gm=h({},al,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=Fn(gm),Fa=h({},il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),ym=Fn(Fa),vm=h({},wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bm=Fn(vm),xm=h({},al,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Nu=Fn(xm),Er=h({},wt,{newState:0,oldState:0}),_m=Fn(Er),Tm=[9,13,27,32],ia=Di&&"CompositionEvent"in window,x=null;Di&&"documentMode"in document&&(x=document.documentMode);var k=Di&&"TextEvent"in window&&!x,L=Di&&(!ia||x&&8<x&&11>=x),G=" ",re=!1;function fe(s,u){switch(s){case"keyup":return Tm.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Se(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var dt=!1;function Pn(s,u){switch(s){case"compositionend":return Se(u);case"keypress":return u.which!==32?null:(re=!0,G);case"textInput":return s=u.data,s===G&&re?null:s;default:return null}}function ht(s,u){if(dt)return s==="compositionend"||!ia&&fe(s,u)?(s=Jf(),qa=Lo=ea=null,dt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return L&&u.locale!=="ko"?null:u.data;default:return null}}var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mn(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u==="input"?!!zn[s.type]:u==="textarea"}function za(s,u,d,y){$a?Ba?Ba.push(y):Ba=[y]:$a=y,u=lg(u,"onChange"),0<u.length&&(d=new _u("onChange","change",null,d,y),s.push({event:d,listeners:u}))}var Zn=null,aa=null;function nd(s){LR(s,0)}function wm(s){var u=Xi(s);if(Hf(u))return s}function ik(s,u){if(s==="change")return u}var ak=!1;if(Di){var cx;if(Di){var fx="oninput"in document;if(!fx){var ok=document.createElement("div");ok.setAttribute("oninput","return;"),fx=typeof ok.oninput=="function"}cx=fx}else cx=!1;ak=cx&&(!document.documentMode||9<document.documentMode)}function sk(){Zn&&(Zn.detachEvent("onpropertychange",lk),aa=Zn=null)}function lk(s){if(s.propertyName==="value"&&wm(aa)){var u=[];za(u,aa,s,li(s)),um(nd,u)}}function kG(s,u,d){s==="focusin"?(sk(),Zn=u,aa=d,Zn.attachEvent("onpropertychange",lk)):s==="focusout"&&sk()}function IG(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wm(aa)}function RG(s,u){if(s==="click")return wm(u)}function PG(s,u){if(s==="input"||s==="change")return wm(u)}function MG(s,u){return s===u&&(s!==0||1/s===1/u)||s!==s&&u!==u}var Fr=typeof Object.is=="function"?Object.is:MG;function rd(s,u){if(Fr(s,u))return!0;if(typeof s!="object"||s===null||typeof u!="object"||u===null)return!1;var d=Object.keys(s),y=Object.keys(u);if(d.length!==y.length)return!1;for(y=0;y<d.length;y++){var _=d[y];if(!ge.call(u,_)||!Fr(s[_],u[_]))return!1}return!0}function uk(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ck(s,u){var d=uk(s);s=0;for(var y;d;){if(d.nodeType===3){if(y=s+d.textContent.length,s<=u&&y>=u)return{node:d,offset:u-s};s=y}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=uk(d)}}function fk(s,u){return s&&u?s===u?!0:s&&s.nodeType===3?!1:u&&u.nodeType===3?fk(s,u.parentNode):"contains"in s?s.contains(u):s.compareDocumentPosition?!!(s.compareDocumentPosition(u)&16):!1:!1}function dk(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var u=Qs(s.document);u instanceof s.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)s=u.contentWindow;else break;u=Qs(s.document)}return u}function dx(s){var u=s&&s.nodeName&&s.nodeName.toLowerCase();return u&&(u==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||u==="textarea"||s.contentEditable==="true")}var DG=Di&&"documentMode"in document&&11>=document.documentMode,ku=null,hx=null,id=null,px=!1;function hk(s,u,d){var y=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;px||ku==null||ku!==Qs(y)||(y=ku,"selectionStart"in y&&dx(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),id&&rd(id,y)||(id=y,y=lg(hx,"onSelect"),0<y.length&&(u=new _u("onSelect","select",null,u,d),s.push({event:u,listeners:y}),u.target=ku)))}function ul(s,u){var d={};return d[s.toLowerCase()]=u.toLowerCase(),d["Webkit"+s]="webkit"+u,d["Moz"+s]="moz"+u,d}var Iu={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionrun:ul("Transition","TransitionRun"),transitionstart:ul("Transition","TransitionStart"),transitioncancel:ul("Transition","TransitionCancel"),transitionend:ul("Transition","TransitionEnd")},mx={},pk={};Di&&(pk=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function cl(s){if(mx[s])return mx[s];if(!Iu[s])return s;var u=Iu[s],d;for(d in u)if(u.hasOwnProperty(d)&&d in pk)return mx[s]=u[d];return s}var mk=cl("animationend"),gk=cl("animationiteration"),yk=cl("animationstart"),OG=cl("transitionrun"),jG=cl("transitionstart"),LG=cl("transitioncancel"),vk=cl("transitionend"),bk=new Map,gx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gx.push("scrollEnd");function Oi(s,u){bk.set(s,u),Mi(u,[s])}var xk=new WeakMap;function fi(s,u){if(typeof s=="object"&&s!==null){var d=xk.get(s);return d!==void 0?d:(u={value:s,source:u,stack:vu(u)},xk.set(s,u),u)}return{value:s,source:u,stack:vu(u)}}var di=[],Ru=0,yx=0;function Em(){for(var s=Ru,u=yx=Ru=0;u<s;){var d=di[u];di[u++]=null;var y=di[u];di[u++]=null;var _=di[u];di[u++]=null;var A=di[u];if(di[u++]=null,y!==null&&_!==null){var U=y.pending;U===null?_.next=_:(_.next=U.next,U.next=_),y.pending=_}A!==0&&_k(d,_,A)}}function Sm(s,u,d,y){di[Ru++]=s,di[Ru++]=u,di[Ru++]=d,di[Ru++]=y,yx|=y,s.lanes|=y,s=s.alternate,s!==null&&(s.lanes|=y)}function vx(s,u,d,y){return Sm(s,u,d,y),Am(s)}function Pu(s,u){return Sm(s,null,null,u),Am(s)}function _k(s,u,d){s.lanes|=d;var y=s.alternate;y!==null&&(y.lanes|=d);for(var _=!1,A=s.return;A!==null;)A.childLanes|=d,y=A.alternate,y!==null&&(y.childLanes|=d),A.tag===22&&(s=A.stateNode,s===null||s._visibility&1||(_=!0)),s=A,A=A.return;return s.tag===3?(A=s.stateNode,_&&u!==null&&(_=31-De(d),s=A.hiddenUpdates,y=s[_],y===null?s[_]=[u]:y.push(u),u.lane=d|536870912),A):null}function Am(s){if(50<kd)throw kd=0,E0=null,Error(r(185));for(var u=s.return;u!==null;)s=u,u=s.return;return s.tag===3?s.stateNode:null}var Mu={};function VG(s,u,d,y){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(s,u,d,y){return new VG(s,u,d,y)}function bx(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ga(s,u){var d=s.alternate;return d===null?(d=zr(s.tag,u,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=u,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,u=s.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Tk(s,u){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=u,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,u=d.dependencies,s.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),s}function Cm(s,u,d,y,_,A){var U=0;if(y=s,typeof s=="function")bx(s)&&(U=1);else if(typeof s=="string")U=$9(s,d,_e.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case O:return s=zr(31,d,u,_),s.elementType=O,s.lanes=A,s;case w:return fl(d.children,_,A,u);case S:U=8,_|=24;break;case E:return s=zr(12,d,u,_|2),s.elementType=E,s.lanes=A,s;case R:return s=zr(13,d,u,_),s.elementType=R,s.lanes=A,s;case j:return s=zr(19,d,u,_),s.elementType=j,s.lanes=A,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case I:case N:U=10;break e;case C:U=9;break e;case D:U=11;break e;case P:U=14;break e;case M:U=16,y=null;break e}U=29,d=Error(r(130,s===null?"null":typeof s,"")),y=null}return u=zr(U,d,u,_),u.elementType=s,u.type=y,u.lanes=A,u}function fl(s,u,d,y){return s=zr(7,s,y,u),s.lanes=d,s}function xx(s,u,d){return s=zr(6,s,null,u),s.lanes=d,s}function _x(s,u,d){return u=zr(4,s.children!==null?s.children:[],s.key,u),u.lanes=d,u.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},u}var Du=[],Ou=0,Nm=null,km=0,hi=[],pi=0,dl=null,Ha=1,Wa="";function hl(s,u){Du[Ou++]=km,Du[Ou++]=Nm,Nm=s,km=u}function wk(s,u,d){hi[pi++]=Ha,hi[pi++]=Wa,hi[pi++]=dl,dl=s;var y=Ha;s=Wa;var _=32-De(y)-1;y&=~(1<<_),d+=1;var A=32-De(u)+_;if(30<A){var U=_-_%5;A=(y&(1<<U)-1).toString(32),y>>=U,_-=U,Ha=1<<32-De(u)+_|d<<_|y,Wa=A+s}else Ha=1<<A|d<<_|y,Wa=s}function Tx(s){s.return!==null&&(hl(s,1),wk(s,1,0))}function wx(s){for(;s===Nm;)Nm=Du[--Ou],Du[Ou]=null,km=Du[--Ou],Du[Ou]=null;for(;s===dl;)dl=hi[--pi],hi[pi]=null,Wa=hi[--pi],hi[pi]=null,Ha=hi[--pi],hi[pi]=null}var Sr=null,on=null,_t=!1,pl=null,oa=!1,Ex=Error(r(519));function ml(s){var u=Error(r(418,""));throw sd(fi(u,s)),Ex}function Ek(s){var u=s.stateNode,d=s.type,y=s.memoizedProps;switch(u[Rn]=s,u[yn]=y,d){case"dialog":ot("cancel",u),ot("close",u);break;case"iframe":case"object":case"embed":ot("load",u);break;case"video":case"audio":for(d=0;d<Rd.length;d++)ot(Rd[d],u);break;case"source":ot("error",u);break;case"img":case"image":case"link":ot("error",u),ot("load",u);break;case"details":ot("toggle",u);break;case"input":ot("invalid",u),Zs(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),bu(u);break;case"select":ot("invalid",u);break;case"textarea":ot("invalid",u),el(u,y.value,y.defaultValue,y.children),bu(u)}d=y.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||y.suppressHydrationWarning===!0||BR(u.textContent,d)?(y.popover!=null&&(ot("beforetoggle",u),ot("toggle",u)),y.onScroll!=null&&ot("scroll",u),y.onScrollEnd!=null&&ot("scrollend",u),y.onClick!=null&&(u.onclick=ug),u=!0):u=!1,u||ml(s)}function Sk(s){for(Sr=s.return;Sr;)switch(Sr.tag){case 5:case 13:oa=!1;return;case 27:case 3:oa=!0;return;default:Sr=Sr.return}}function ad(s){if(s!==Sr)return!1;if(!_t)return Sk(s),_t=!0,!1;var u=s.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||$0(s.type,s.memoizedProps)),d=!d),d&&on&&ml(s),Sk(s),u===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,u=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(u===0){on=Li(s.nextSibling);break e}u--}else d!=="$"&&d!=="$!"&&d!=="$?"||u++;s=s.nextSibling}on=null}}else u===27?(u=on,Zo(s.type)?(s=z0,z0=null,on=s):on=u):on=Sr?Li(s.stateNode.nextSibling):null;return!0}function od(){on=Sr=null,_t=!1}function Ak(){var s=pl;return s!==null&&(Dr===null?Dr=s:Dr.push.apply(Dr,s),pl=null),s}function sd(s){pl===null?pl=[s]:pl.push(s)}var Sx=X(null),gl=null,Ka=null;function Vo(s,u,d){se(Sx,u._currentValue),u._currentValue=d}function Ya(s){s._currentValue=Sx.current,ne(Sx)}function Ax(s,u,d){for(;s!==null;){var y=s.alternate;if((s.childLanes&u)!==u?(s.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),s===d)break;s=s.return}}function Cx(s,u,d,y){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var A=_.dependencies;if(A!==null){var U=_.child;A=A.firstContext;e:for(;A!==null;){var z=A;A=_;for(var K=0;K<u.length;K++)if(z.context===u[K]){A.lanes|=d,z=A.alternate,z!==null&&(z.lanes|=d),Ax(A.return,d,s),y||(U=null);break e}A=z.next}}else if(_.tag===18){if(U=_.return,U===null)throw Error(r(341));U.lanes|=d,A=U.alternate,A!==null&&(A.lanes|=d),Ax(U,d,s),U=null}else U=_.child;if(U!==null)U.return=_;else for(U=_;U!==null;){if(U===s){U=null;break}if(_=U.sibling,_!==null){_.return=U.return,U=_;break}U=U.return}_=U}}function ld(s,u,d,y){s=null;for(var _=u,A=!1;_!==null;){if(!A){if((_.flags&524288)!==0)A=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var U=_.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var z=_.type;Fr(_.pendingProps.value,U.value)||(s!==null?s.push(z):s=[z])}}else if(_===ft.current){if(U=_.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(Ld):s=[Ld])}_=_.return}s!==null&&Cx(u,s,d,y),u.flags|=262144}function Im(s){for(s=s.firstContext;s!==null;){if(!Fr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function yl(s){gl=s,Ka=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function lr(s){return Ck(gl,s)}function Rm(s,u){return gl===null&&yl(s),Ck(s,u)}function Ck(s,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},Ka===null){if(s===null)throw Error(r(308));Ka=u,s.dependencies={lanes:0,firstContext:u},s.flags|=524288}else Ka=Ka.next=u;return d}var UG=typeof AbortController<"u"?AbortController:function(){var s=[],u=this.signal={aborted:!1,addEventListener:function(d,y){s.push(y)}};this.abort=function(){u.aborted=!0,s.forEach(function(d){return d()})}},$G=t.unstable_scheduleCallback,BG=t.unstable_NormalPriority,Dn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nx(){return{controller:new UG,data:new Map,refCount:0}}function ud(s){s.refCount--,s.refCount===0&&$G(BG,function(){s.controller.abort()})}var cd=null,kx=0,ju=0,Lu=null;function qG(s,u){if(cd===null){var d=cd=[];kx=0,ju=R0(),Lu={status:"pending",value:void 0,then:function(y){d.push(y)}}}return kx++,u.then(Nk,Nk),u}function Nk(){if(--kx===0&&cd!==null){Lu!==null&&(Lu.status="fulfilled");var s=cd;cd=null,ju=0,Lu=null;for(var u=0;u<s.length;u++)(0,s[u])()}}function FG(s,u){var d=[],y={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return s.then(function(){y.status="fulfilled",y.value=u;for(var _=0;_<d.length;_++)(0,d[_])(u)},function(_){for(y.status="rejected",y.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),y}var kk=W.S;W.S=function(s,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&qG(s,u),kk!==null&&kk(s,u)};var vl=X(null);function Ix(){var s=vl.current;return s!==null?s:Gt.pooledCache}function Pm(s,u){u===null?se(vl,vl.current):se(vl,u.pool)}function Ik(){var s=Ix();return s===null?null:{parent:Dn._currentValue,pool:s}}var fd=Error(r(460)),Rk=Error(r(474)),Mm=Error(r(542)),Rx={then:function(){}};function Pk(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Dm(){}function Mk(s,u,d){switch(d=s[d],d===void 0?s.push(u):d!==u&&(u.then(Dm,Dm),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,Ok(s),s;default:if(typeof u.status=="string")u.then(Dm,Dm);else{if(s=Gt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=u,s.status="pending",s.then(function(y){if(u.status==="pending"){var _=u;_.status="fulfilled",_.value=y}},function(y){if(u.status==="pending"){var _=u;_.status="rejected",_.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw s=u.reason,Ok(s),s}throw dd=u,fd}}var dd=null;function Dk(){if(dd===null)throw Error(r(459));var s=dd;return dd=null,s}function Ok(s){if(s===fd||s===Mm)throw Error(r(483))}var Uo=!1;function Px(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mx(s,u){s=s.updateQueue,u.updateQueue===s&&(u.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function $o(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Bo(s,u,d){var y=s.updateQueue;if(y===null)return null;if(y=y.shared,(Ct&2)!==0){var _=y.pending;return _===null?u.next=u:(u.next=_.next,_.next=u),y.pending=u,u=Am(s),_k(s,null,d),u}return Sm(s,y,u,d),Am(s)}function hd(s,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var y=u.lanes;y&=s.pendingLanes,d|=y,u.lanes=d,Bf(s,d)}}function Dx(s,u){var d=s.updateQueue,y=s.alternate;if(y!==null&&(y=y.updateQueue,d===y)){var _=null,A=null;if(d=d.firstBaseUpdate,d!==null){do{var U={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};A===null?_=A=U:A=A.next=U,d=d.next}while(d!==null);A===null?_=A=u:A=A.next=u}else _=A=u;d={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:A,shared:y.shared,callbacks:y.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=u}var Ox=!1;function pd(){if(Ox){var s=Lu;if(s!==null)throw s}}function md(s,u,d,y){Ox=!1;var _=s.updateQueue;Uo=!1;var A=_.firstBaseUpdate,U=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var K=z,oe=K.next;K.next=null,U===null?A=oe:U.next=oe,U=K;var he=s.alternate;he!==null&&(he=he.updateQueue,z=he.lastBaseUpdate,z!==U&&(z===null?he.firstBaseUpdate=oe:z.next=oe,he.lastBaseUpdate=K))}if(A!==null){var ye=_.baseState;U=0,he=oe=K=null,z=A;do{var ue=z.lane&-536870913,ce=ue!==z.lane;if(ce?(pt&ue)===ue:(y&ue)===ue){ue!==0&&ue===ju&&(Ox=!0),he!==null&&(he=he.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ke=s,$e=z;ue=u;var Lt=d;switch($e.tag){case 1:if(Ke=$e.payload,typeof Ke=="function"){ye=Ke.call(Lt,ye,ue);break e}ye=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=$e.payload,ue=typeof Ke=="function"?Ke.call(Lt,ye,ue):Ke,ue==null)break e;ye=h({},ye,ue);break e;case 2:Uo=!0}}ue=z.callback,ue!==null&&(s.flags|=64,ce&&(s.flags|=8192),ce=_.callbacks,ce===null?_.callbacks=[ue]:ce.push(ue))}else ce={lane:ue,tag:z.tag,payload:z.payload,callback:z.callback,next:null},he===null?(oe=he=ce,K=ye):he=he.next=ce,U|=ue;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;ce=z,z=ce.next,ce.next=null,_.lastBaseUpdate=ce,_.shared.pending=null}}while(!0);he===null&&(K=ye),_.baseState=K,_.firstBaseUpdate=oe,_.lastBaseUpdate=he,A===null&&(_.shared.lanes=0),Yo|=U,s.lanes=U,s.memoizedState=ye}}function jk(s,u){if(typeof s!="function")throw Error(r(191,s));s.call(u)}function Lk(s,u){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)jk(d[s],u)}var Vu=X(null),Om=X(0);function Vk(s,u){s=no,se(Om,s),se(Vu,u),no=s|u.baseLanes}function jx(){se(Om,no),se(Vu,Vu.current)}function Lx(){no=Om.current,ne(Vu),ne(Om)}var qo=0,rt=null,Ot=null,bn=null,jm=!1,Uu=!1,bl=!1,Lm=0,gd=0,$u=null,zG=0;function hn(){throw Error(r(321))}function Vx(s,u){if(u===null)return!1;for(var d=0;d<u.length&&d<s.length;d++)if(!Fr(s[d],u[d]))return!1;return!0}function Ux(s,u,d,y,_,A){return qo=A,rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=s===null||s.memoizedState===null?_I:TI,bl=!1,A=d(y,_),bl=!1,Uu&&(A=$k(u,d,y,_)),Uk(s),A}function Uk(s){W.H=Fm;var u=Ot!==null&&Ot.next!==null;if(qo=0,bn=Ot=rt=null,jm=!1,gd=0,$u=null,u)throw Error(r(300));s===null||Gn||(s=s.dependencies,s!==null&&Im(s)&&(Gn=!0))}function $k(s,u,d,y){rt=s;var _=0;do{if(Uu&&($u=null),gd=0,Uu=!1,25<=_)throw Error(r(301));if(_+=1,bn=Ot=null,s.updateQueue!=null){var A=s.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}W.H=XG,A=u(d,y)}while(Uu);return A}function GG(){var s=W.H,u=s.useState()[0];return u=typeof u.then=="function"?yd(u):u,s=s.useState()[0],(Ot!==null?Ot.memoizedState:null)!==s&&(rt.flags|=1024),u}function $x(){var s=Lm!==0;return Lm=0,s}function Bx(s,u,d){u.updateQueue=s.updateQueue,u.flags&=-2053,s.lanes&=~d}function qx(s){if(jm){for(s=s.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}jm=!1}qo=0,bn=Ot=rt=null,Uu=!1,gd=Lm=0,$u=null}function Pr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?rt.memoizedState=bn=s:bn=bn.next=s,bn}function xn(){if(Ot===null){var s=rt.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var u=bn===null?rt.memoizedState:bn.next;if(u!==null)bn=u,Ot=s;else{if(s===null)throw rt.alternate===null?Error(r(467)):Error(r(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},bn===null?rt.memoizedState=bn=s:bn=bn.next=s}return bn}function Fx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yd(s){var u=gd;return gd+=1,$u===null&&($u=[]),s=Mk($u,s,u),u=rt,(bn===null?u.memoizedState:bn.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?_I:TI),s}function Vm(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return yd(s);if(s.$$typeof===N)return lr(s)}throw Error(r(438,String(s)))}function zx(s){var u=null,d=rt.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var y=rt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(_){return _.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=Fx(),rt.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(s),y=0;y<s;y++)d[y]=$;return u.index++,d}function Ja(s,u){return typeof u=="function"?u(s):u}function Um(s){var u=xn();return Gx(u,Ot,s)}function Gx(s,u,d){var y=s.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var _=s.baseQueue,A=y.pending;if(A!==null){if(_!==null){var U=_.next;_.next=A.next,A.next=U}u.baseQueue=_=A,y.pending=null}if(A=s.baseState,_===null)s.memoizedState=A;else{u=_.next;var z=U=null,K=null,oe=u,he=!1;do{var ye=oe.lane&-536870913;if(ye!==oe.lane?(pt&ye)===ye:(qo&ye)===ye){var ue=oe.revertLane;if(ue===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ye===ju&&(he=!0);else if((qo&ue)===ue){oe=oe.next,ue===ju&&(he=!0);continue}else ye={lane:0,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(z=K=ye,U=A):K=K.next=ye,rt.lanes|=ue,Yo|=ue;ye=oe.action,bl&&d(A,ye),A=oe.hasEagerState?oe.eagerState:d(A,ye)}else ue={lane:ye,revertLane:oe.revertLane,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},K===null?(z=K=ue,U=A):K=K.next=ue,rt.lanes|=ye,Yo|=ye;oe=oe.next}while(oe!==null&&oe!==u);if(K===null?U=A:K.next=z,!Fr(A,s.memoizedState)&&(Gn=!0,he&&(d=Lu,d!==null)))throw d;s.memoizedState=A,s.baseState=U,s.baseQueue=K,y.lastRenderedState=A}return _===null&&(y.lanes=0),[s.memoizedState,y.dispatch]}function Hx(s){var u=xn(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var y=d.dispatch,_=d.pending,A=u.memoizedState;if(_!==null){d.pending=null;var U=_=_.next;do A=s(A,U.action),U=U.next;while(U!==_);Fr(A,u.memoizedState)||(Gn=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),d.lastRenderedState=A}return[A,y]}function Bk(s,u,d){var y=rt,_=xn(),A=_t;if(A){if(d===void 0)throw Error(r(407));d=d()}else d=u();var U=!Fr((Ot||_).memoizedState,d);U&&(_.memoizedState=d,Gn=!0),_=_.queue;var z=zk.bind(null,y,_,s);if(vd(2048,8,z,[s]),_.getSnapshot!==u||U||bn!==null&&bn.memoizedState.tag&1){if(y.flags|=2048,Bu(9,$m(),Fk.bind(null,y,_,d,u),null),Gt===null)throw Error(r(349));A||(qo&124)!==0||qk(y,u,d)}return d}function qk(s,u,d){s.flags|=16384,s={getSnapshot:u,value:d},u=rt.updateQueue,u===null?(u=Fx(),rt.updateQueue=u,u.stores=[s]):(d=u.stores,d===null?u.stores=[s]:d.push(s))}function Fk(s,u,d,y){u.value=d,u.getSnapshot=y,Gk(u)&&Hk(s)}function zk(s,u,d){return d(function(){Gk(u)&&Hk(s)})}function Gk(s){var u=s.getSnapshot;s=s.value;try{var d=u();return!Fr(s,d)}catch{return!0}}function Hk(s){var u=Pu(s,2);u!==null&&Yr(u,s,2)}function Wx(s){var u=Pr();if(typeof s=="function"){var d=s;if(s=d(),bl){be(!0);try{d()}finally{be(!1)}}}return u.memoizedState=u.baseState=s,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:s},u}function Wk(s,u,d,y){return s.baseState=d,Gx(s,Ot,typeof y=="function"?y:Ja)}function HG(s,u,d,y,_){if(qm(s))throw Error(r(485));if(s=u.action,s!==null){var A={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){A.listeners.push(U)}};W.T!==null?d(!0):A.isTransition=!1,y(A),d=u.pending,d===null?(A.next=u.pending=A,Kk(u,A)):(A.next=d.next,u.pending=d.next=A)}}function Kk(s,u){var d=u.action,y=u.payload,_=s.state;if(u.isTransition){var A=W.T,U={};W.T=U;try{var z=d(_,y),K=W.S;K!==null&&K(U,z),Yk(s,u,z)}catch(oe){Kx(s,u,oe)}finally{W.T=A}}else try{A=d(_,y),Yk(s,u,A)}catch(oe){Kx(s,u,oe)}}function Yk(s,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(y){Jk(s,u,y)},function(y){return Kx(s,u,y)}):Jk(s,u,d)}function Jk(s,u,d){u.status="fulfilled",u.value=d,Xk(u),s.state=d,u=s.pending,u!==null&&(d=u.next,d===u?s.pending=null:(d=d.next,u.next=d,Kk(s,d)))}function Kx(s,u,d){var y=s.pending;if(s.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=d,Xk(u),u=u.next;while(u!==y)}s.action=null}function Xk(s){s=s.listeners;for(var u=0;u<s.length;u++)(0,s[u])()}function Qk(s,u){return u}function Zk(s,u){if(_t){var d=Gt.formState;if(d!==null){e:{var y=rt;if(_t){if(on){t:{for(var _=on,A=oa;_.nodeType!==8;){if(!A){_=null;break t}if(_=Li(_.nextSibling),_===null){_=null;break t}}A=_.data,_=A==="F!"||A==="F"?_:null}if(_){on=Li(_.nextSibling),y=_.data==="F!";break e}}ml(y)}y=!1}y&&(u=d[0])}}return d=Pr(),d.memoizedState=d.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qk,lastRenderedState:u},d.queue=y,d=vI.bind(null,rt,y),y.dispatch=d,y=Wx(!1),A=Zx.bind(null,rt,!1,y.queue),y=Pr(),_={state:u,dispatch:null,action:s,pending:null},y.queue=_,d=HG.bind(null,rt,_,A,d),_.dispatch=d,y.memoizedState=s,[u,d,!1]}function eI(s){var u=xn();return tI(u,Ot,s)}function tI(s,u,d){if(u=Gx(s,u,Qk)[0],s=Um(Ja)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=yd(u)}catch(U){throw U===fd?Mm:U}else y=u;u=xn();var _=u.queue,A=_.dispatch;return d!==u.memoizedState&&(rt.flags|=2048,Bu(9,$m(),WG.bind(null,_,d),null)),[y,A,s]}function WG(s,u){s.action=u}function nI(s){var u=xn(),d=Ot;if(d!==null)return tI(u,d,s);xn(),u=u.memoizedState,d=xn();var y=d.queue.dispatch;return d.memoizedState=s,[u,y,!1]}function Bu(s,u,d,y){return s={tag:s,create:d,deps:y,inst:u,next:null},u=rt.updateQueue,u===null&&(u=Fx(),rt.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=s.next=s:(y=d.next,d.next=s,s.next=y,u.lastEffect=s),s}function $m(){return{destroy:void 0,resource:void 0}}function rI(){return xn().memoizedState}function Bm(s,u,d,y){var _=Pr();y=y===void 0?null:y,rt.flags|=s,_.memoizedState=Bu(1|u,$m(),d,y)}function vd(s,u,d,y){var _=xn();y=y===void 0?null:y;var A=_.memoizedState.inst;Ot!==null&&y!==null&&Vx(y,Ot.memoizedState.deps)?_.memoizedState=Bu(u,A,d,y):(rt.flags|=s,_.memoizedState=Bu(1|u,A,d,y))}function iI(s,u){Bm(8390656,8,s,u)}function aI(s,u){vd(2048,8,s,u)}function oI(s,u){return vd(4,2,s,u)}function sI(s,u){return vd(4,4,s,u)}function lI(s,u){if(typeof u=="function"){s=s();var d=u(s);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return s=s(),u.current=s,function(){u.current=null}}function uI(s,u,d){d=d!=null?d.concat([s]):null,vd(4,4,lI.bind(null,u,s),d)}function Yx(){}function cI(s,u){var d=xn();u=u===void 0?null:u;var y=d.memoizedState;return u!==null&&Vx(u,y[1])?y[0]:(d.memoizedState=[s,u],s)}function fI(s,u){var d=xn();u=u===void 0?null:u;var y=d.memoizedState;if(u!==null&&Vx(u,y[1]))return y[0];if(y=s(),bl){be(!0);try{s()}finally{be(!1)}}return d.memoizedState=[y,u],y}function Jx(s,u,d){return d===void 0||(qo&1073741824)!==0?s.memoizedState=u:(s.memoizedState=d,s=pR(),rt.lanes|=s,Yo|=s,d)}function dI(s,u,d,y){return Fr(d,u)?d:Vu.current!==null?(s=Jx(s,d,y),Fr(s,u)||(Gn=!0),s):(qo&42)===0?(Gn=!0,s.memoizedState=d):(s=pR(),rt.lanes|=s,Yo|=s,u)}function hI(s,u,d,y,_){var A=Q.p;Q.p=A!==0&&8>A?A:8;var U=W.T,z={};W.T=z,Zx(s,!1,u,d);try{var K=_(),oe=W.S;if(oe!==null&&oe(z,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var he=FG(K,y);bd(s,u,he,Kr(s))}else bd(s,u,y,Kr(s))}catch(ye){bd(s,u,{then:function(){},status:"rejected",reason:ye},Kr())}finally{Q.p=A,W.T=U}}function KG(){}function Xx(s,u,d,y){if(s.tag!==5)throw Error(r(476));var _=pI(s).queue;hI(s,_,u,le,d===null?KG:function(){return mI(s),d(y)})}function pI(s){var u=s.memoizedState;if(u!==null)return u;u={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:le},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:d},next:null},s.memoizedState=u,s=s.alternate,s!==null&&(s.memoizedState=u),u}function mI(s){var u=pI(s).next.queue;bd(s,u,{},Kr())}function Qx(){return lr(Ld)}function gI(){return xn().memoizedState}function yI(){return xn().memoizedState}function YG(s){for(var u=s.return;u!==null;){switch(u.tag){case 24:case 3:var d=Kr();s=$o(d);var y=Bo(u,s,d);y!==null&&(Yr(y,u,d),hd(y,u,d)),u={cache:Nx()},s.payload=u;return}u=u.return}}function JG(s,u,d){var y=Kr();d={lane:y,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},qm(s)?bI(u,d):(d=vx(s,u,d,y),d!==null&&(Yr(d,s,y),xI(d,u,y)))}function vI(s,u,d){var y=Kr();bd(s,u,d,y)}function bd(s,u,d,y){var _={lane:y,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(qm(s))bI(u,_);else{var A=s.alternate;if(s.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var U=u.lastRenderedState,z=A(U,d);if(_.hasEagerState=!0,_.eagerState=z,Fr(z,U))return Sm(s,u,_,0),Gt===null&&Em(),!1}catch{}finally{}if(d=vx(s,u,_,y),d!==null)return Yr(d,s,y),xI(d,u,y),!0}return!1}function Zx(s,u,d,y){if(y={lane:2,revertLane:R0(),action:y,hasEagerState:!1,eagerState:null,next:null},qm(s)){if(u)throw Error(r(479))}else u=vx(s,d,y,2),u!==null&&Yr(u,s,2)}function qm(s){var u=s.alternate;return s===rt||u!==null&&u===rt}function bI(s,u){Uu=jm=!0;var d=s.pending;d===null?u.next=u:(u.next=d.next,d.next=u),s.pending=u}function xI(s,u,d){if((d&4194048)!==0){var y=u.lanes;y&=s.pendingLanes,d|=y,u.lanes=d,Bf(s,d)}}var Fm={readContext:lr,use:Vm,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},_I={readContext:lr,use:Vm,useCallback:function(s,u){return Pr().memoizedState=[s,u===void 0?null:u],s},useContext:lr,useEffect:iI,useImperativeHandle:function(s,u,d){d=d!=null?d.concat([s]):null,Bm(4194308,4,lI.bind(null,u,s),d)},useLayoutEffect:function(s,u){return Bm(4194308,4,s,u)},useInsertionEffect:function(s,u){Bm(4,2,s,u)},useMemo:function(s,u){var d=Pr();u=u===void 0?null:u;var y=s();if(bl){be(!0);try{s()}finally{be(!1)}}return d.memoizedState=[y,u],y},useReducer:function(s,u,d){var y=Pr();if(d!==void 0){var _=d(u);if(bl){be(!0);try{d(u)}finally{be(!1)}}}else _=u;return y.memoizedState=y.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},y.queue=s,s=s.dispatch=JG.bind(null,rt,s),[y.memoizedState,s]},useRef:function(s){var u=Pr();return s={current:s},u.memoizedState=s},useState:function(s){s=Wx(s);var u=s.queue,d=vI.bind(null,rt,u);return u.dispatch=d,[s.memoizedState,d]},useDebugValue:Yx,useDeferredValue:function(s,u){var d=Pr();return Jx(d,s,u)},useTransition:function(){var s=Wx(!1);return s=hI.bind(null,rt,s.queue,!0,!1),Pr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,u,d){var y=rt,_=Pr();if(_t){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Gt===null)throw Error(r(349));(pt&124)!==0||qk(y,u,d)}_.memoizedState=d;var A={value:d,getSnapshot:u};return _.queue=A,iI(zk.bind(null,y,A,s),[s]),y.flags|=2048,Bu(9,$m(),Fk.bind(null,y,A,d,u),null),d},useId:function(){var s=Pr(),u=Gt.identifierPrefix;if(_t){var d=Wa,y=Ha;d=(y&~(1<<32-De(y)-1)).toString(32)+d,u=""+u+"R"+d,d=Lm++,0<d&&(u+="H"+d.toString(32)),u+=""}else d=zG++,u=""+u+"r"+d.toString(32)+"";return s.memoizedState=u},useHostTransitionStatus:Qx,useFormState:Zk,useActionState:Zk,useOptimistic:function(s){var u=Pr();u.memoizedState=u.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=Zx.bind(null,rt,!0,d),d.dispatch=u,[s,u]},useMemoCache:zx,useCacheRefresh:function(){return Pr().memoizedState=YG.bind(null,rt)}},TI={readContext:lr,use:Vm,useCallback:cI,useContext:lr,useEffect:aI,useImperativeHandle:uI,useInsertionEffect:oI,useLayoutEffect:sI,useMemo:fI,useReducer:Um,useRef:rI,useState:function(){return Um(Ja)},useDebugValue:Yx,useDeferredValue:function(s,u){var d=xn();return dI(d,Ot.memoizedState,s,u)},useTransition:function(){var s=Um(Ja)[0],u=xn().memoizedState;return[typeof s=="boolean"?s:yd(s),u]},useSyncExternalStore:Bk,useId:gI,useHostTransitionStatus:Qx,useFormState:eI,useActionState:eI,useOptimistic:function(s,u){var d=xn();return Wk(d,Ot,s,u)},useMemoCache:zx,useCacheRefresh:yI},XG={readContext:lr,use:Vm,useCallback:cI,useContext:lr,useEffect:aI,useImperativeHandle:uI,useInsertionEffect:oI,useLayoutEffect:sI,useMemo:fI,useReducer:Hx,useRef:rI,useState:function(){return Hx(Ja)},useDebugValue:Yx,useDeferredValue:function(s,u){var d=xn();return Ot===null?Jx(d,s,u):dI(d,Ot.memoizedState,s,u)},useTransition:function(){var s=Hx(Ja)[0],u=xn().memoizedState;return[typeof s=="boolean"?s:yd(s),u]},useSyncExternalStore:Bk,useId:gI,useHostTransitionStatus:Qx,useFormState:nI,useActionState:nI,useOptimistic:function(s,u){var d=xn();return Ot!==null?Wk(d,Ot,s,u):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:zx,useCacheRefresh:yI},qu=null,xd=0;function zm(s){var u=xd;return xd+=1,qu===null&&(qu=[]),Mk(qu,s,u)}function _d(s,u){u=u.props.ref,s.ref=u!==void 0?u:null}function Gm(s,u){throw u.$$typeof===m?Error(r(525)):(s=Object.prototype.toString.call(u),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":s)))}function wI(s){var u=s._init;return u(s._payload)}function EI(s){function u(ee,J){if(s){var ie=ee.deletions;ie===null?(ee.deletions=[J],ee.flags|=16):ie.push(J)}}function d(ee,J){if(!s)return null;for(;J!==null;)u(ee,J),J=J.sibling;return null}function y(ee){for(var J=new Map;ee!==null;)ee.key!==null?J.set(ee.key,ee):J.set(ee.index,ee),ee=ee.sibling;return J}function _(ee,J){return ee=Ga(ee,J),ee.index=0,ee.sibling=null,ee}function A(ee,J,ie){return ee.index=ie,s?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<J?(ee.flags|=67108866,J):ie):(ee.flags|=67108866,J)):(ee.flags|=1048576,J)}function U(ee){return s&&ee.alternate===null&&(ee.flags|=67108866),ee}function z(ee,J,ie,pe){return J===null||J.tag!==6?(J=xx(ie,ee.mode,pe),J.return=ee,J):(J=_(J,ie),J.return=ee,J)}function K(ee,J,ie,pe){var Pe=ie.type;return Pe===w?he(ee,J,ie.props.children,pe,ie.key):J!==null&&(J.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&wI(Pe)===J.type)?(J=_(J,ie.props),_d(J,ie),J.return=ee,J):(J=Cm(ie.type,ie.key,ie.props,null,ee.mode,pe),_d(J,ie),J.return=ee,J)}function oe(ee,J,ie,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ie.containerInfo||J.stateNode.implementation!==ie.implementation?(J=_x(ie,ee.mode,pe),J.return=ee,J):(J=_(J,ie.children||[]),J.return=ee,J)}function he(ee,J,ie,pe,Pe){return J===null||J.tag!==7?(J=fl(ie,ee.mode,pe,Pe),J.return=ee,J):(J=_(J,ie),J.return=ee,J)}function ye(ee,J,ie){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=xx(""+J,ee.mode,ie),J.return=ee,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return ie=Cm(J.type,J.key,J.props,null,ee.mode,ie),_d(ie,J),ie.return=ee,ie;case T:return J=_x(J,ee.mode,ie),J.return=ee,J;case M:var pe=J._init;return J=pe(J._payload),ye(ee,J,ie)}if(Z(J)||F(J))return J=fl(J,ee.mode,ie,null),J.return=ee,J;if(typeof J.then=="function")return ye(ee,zm(J),ie);if(J.$$typeof===N)return ye(ee,Rm(ee,J),ie);Gm(ee,J)}return null}function ue(ee,J,ie,pe){var Pe=J!==null?J.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return Pe!==null?null:z(ee,J,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return ie.key===Pe?K(ee,J,ie,pe):null;case T:return ie.key===Pe?oe(ee,J,ie,pe):null;case M:return Pe=ie._init,ie=Pe(ie._payload),ue(ee,J,ie,pe)}if(Z(ie)||F(ie))return Pe!==null?null:he(ee,J,ie,pe,null);if(typeof ie.then=="function")return ue(ee,J,zm(ie),pe);if(ie.$$typeof===N)return ue(ee,J,Rm(ee,ie),pe);Gm(ee,ie)}return null}function ce(ee,J,ie,pe,Pe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ee=ee.get(ie)||null,z(J,ee,""+pe,Pe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case b:return ee=ee.get(pe.key===null?ie:pe.key)||null,K(J,ee,pe,Pe);case T:return ee=ee.get(pe.key===null?ie:pe.key)||null,oe(J,ee,pe,Pe);case M:var it=pe._init;return pe=it(pe._payload),ce(ee,J,ie,pe,Pe)}if(Z(pe)||F(pe))return ee=ee.get(ie)||null,he(J,ee,pe,Pe,null);if(typeof pe.then=="function")return ce(ee,J,ie,zm(pe),Pe);if(pe.$$typeof===N)return ce(ee,J,ie,Rm(J,pe),Pe);Gm(J,pe)}return null}function Ke(ee,J,ie,pe){for(var Pe=null,it=null,Le=J,qe=J=0,Wn=null;Le!==null&&qe<ie.length;qe++){Le.index>qe?(Wn=Le,Le=null):Wn=Le.sibling;var yt=ue(ee,Le,ie[qe],pe);if(yt===null){Le===null&&(Le=Wn);break}s&&Le&&yt.alternate===null&&u(ee,Le),J=A(yt,J,qe),it===null?Pe=yt:it.sibling=yt,it=yt,Le=Wn}if(qe===ie.length)return d(ee,Le),_t&&hl(ee,qe),Pe;if(Le===null){for(;qe<ie.length;qe++)Le=ye(ee,ie[qe],pe),Le!==null&&(J=A(Le,J,qe),it===null?Pe=Le:it.sibling=Le,it=Le);return _t&&hl(ee,qe),Pe}for(Le=y(Le);qe<ie.length;qe++)Wn=ce(Le,ee,qe,ie[qe],pe),Wn!==null&&(s&&Wn.alternate!==null&&Le.delete(Wn.key===null?qe:Wn.key),J=A(Wn,J,qe),it===null?Pe=Wn:it.sibling=Wn,it=Wn);return s&&Le.forEach(function(is){return u(ee,is)}),_t&&hl(ee,qe),Pe}function $e(ee,J,ie,pe){if(ie==null)throw Error(r(151));for(var Pe=null,it=null,Le=J,qe=J=0,Wn=null,yt=ie.next();Le!==null&&!yt.done;qe++,yt=ie.next()){Le.index>qe?(Wn=Le,Le=null):Wn=Le.sibling;var is=ue(ee,Le,yt.value,pe);if(is===null){Le===null&&(Le=Wn);break}s&&Le&&is.alternate===null&&u(ee,Le),J=A(is,J,qe),it===null?Pe=is:it.sibling=is,it=is,Le=Wn}if(yt.done)return d(ee,Le),_t&&hl(ee,qe),Pe;if(Le===null){for(;!yt.done;qe++,yt=ie.next())yt=ye(ee,yt.value,pe),yt!==null&&(J=A(yt,J,qe),it===null?Pe=yt:it.sibling=yt,it=yt);return _t&&hl(ee,qe),Pe}for(Le=y(Le);!yt.done;qe++,yt=ie.next())yt=ce(Le,ee,qe,yt.value,pe),yt!==null&&(s&&yt.alternate!==null&&Le.delete(yt.key===null?qe:yt.key),J=A(yt,J,qe),it===null?Pe=yt:it.sibling=yt,it=yt);return s&&Le.forEach(function(Q9){return u(ee,Q9)}),_t&&hl(ee,qe),Pe}function Lt(ee,J,ie,pe){if(typeof ie=="object"&&ie!==null&&ie.type===w&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:e:{for(var Pe=ie.key;J!==null;){if(J.key===Pe){if(Pe=ie.type,Pe===w){if(J.tag===7){d(ee,J.sibling),pe=_(J,ie.props.children),pe.return=ee,ee=pe;break e}}else if(J.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===M&&wI(Pe)===J.type){d(ee,J.sibling),pe=_(J,ie.props),_d(pe,ie),pe.return=ee,ee=pe;break e}d(ee,J);break}else u(ee,J);J=J.sibling}ie.type===w?(pe=fl(ie.props.children,ee.mode,pe,ie.key),pe.return=ee,ee=pe):(pe=Cm(ie.type,ie.key,ie.props,null,ee.mode,pe),_d(pe,ie),pe.return=ee,ee=pe)}return U(ee);case T:e:{for(Pe=ie.key;J!==null;){if(J.key===Pe)if(J.tag===4&&J.stateNode.containerInfo===ie.containerInfo&&J.stateNode.implementation===ie.implementation){d(ee,J.sibling),pe=_(J,ie.children||[]),pe.return=ee,ee=pe;break e}else{d(ee,J);break}else u(ee,J);J=J.sibling}pe=_x(ie,ee.mode,pe),pe.return=ee,ee=pe}return U(ee);case M:return Pe=ie._init,ie=Pe(ie._payload),Lt(ee,J,ie,pe)}if(Z(ie))return Ke(ee,J,ie,pe);if(F(ie)){if(Pe=F(ie),typeof Pe!="function")throw Error(r(150));return ie=Pe.call(ie),$e(ee,J,ie,pe)}if(typeof ie.then=="function")return Lt(ee,J,zm(ie),pe);if(ie.$$typeof===N)return Lt(ee,J,Rm(ee,ie),pe);Gm(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,J!==null&&J.tag===6?(d(ee,J.sibling),pe=_(J,ie),pe.return=ee,ee=pe):(d(ee,J),pe=xx(ie,ee.mode,pe),pe.return=ee,ee=pe),U(ee)):d(ee,J)}return function(ee,J,ie,pe){try{xd=0;var Pe=Lt(ee,J,ie,pe);return qu=null,Pe}catch(Le){if(Le===fd||Le===Mm)throw Le;var it=zr(29,Le,null,ee.mode);return it.lanes=pe,it.return=ee,it}finally{}}}var Fu=EI(!0),SI=EI(!1),mi=X(null),sa=null;function Fo(s){var u=s.alternate;se(On,On.current&1),se(mi,s),sa===null&&(u===null||Vu.current!==null||u.memoizedState!==null)&&(sa=s)}function AI(s){if(s.tag===22){if(se(On,On.current),se(mi,s),sa===null){var u=s.alternate;u!==null&&u.memoizedState!==null&&(sa=s)}}else zo()}function zo(){se(On,On.current),se(mi,mi.current)}function Xa(s){ne(mi),sa===s&&(sa=null),ne(On)}var On=X(0);function Hm(s){for(var u=s;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||F0(d)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function e0(s,u,d,y){u=s.memoizedState,d=d(y,u),d=d==null?u:h({},u,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var t0={enqueueSetState:function(s,u,d){s=s._reactInternals;var y=Kr(),_=$o(y);_.payload=u,d!=null&&(_.callback=d),u=Bo(s,_,y),u!==null&&(Yr(u,s,y),hd(u,s,y))},enqueueReplaceState:function(s,u,d){s=s._reactInternals;var y=Kr(),_=$o(y);_.tag=1,_.payload=u,d!=null&&(_.callback=d),u=Bo(s,_,y),u!==null&&(Yr(u,s,y),hd(u,s,y))},enqueueForceUpdate:function(s,u){s=s._reactInternals;var d=Kr(),y=$o(d);y.tag=2,u!=null&&(y.callback=u),u=Bo(s,y,d),u!==null&&(Yr(u,s,d),hd(u,s,d))}};function CI(s,u,d,y,_,A,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(y,A,U):u.prototype&&u.prototype.isPureReactComponent?!rd(d,y)||!rd(_,A):!0}function NI(s,u,d,y){s=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,y),u.state!==s&&t0.enqueueReplaceState(u,u.state,null)}function xl(s,u){var d=u;if("ref"in u){d={};for(var y in u)y!=="ref"&&(d[y]=u[y])}if(s=s.defaultProps){d===u&&(d=h({},d));for(var _ in s)d[_]===void 0&&(d[_]=s[_])}return d}var Wm=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function kI(s){Wm(s)}function II(s){console.error(s)}function RI(s){Wm(s)}function Km(s,u){try{var d=s.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function PI(s,u,d){try{var y=s.onCaughtError;y(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function n0(s,u,d){return d=$o(d),d.tag=3,d.payload={element:null},d.callback=function(){Km(s,u)},d}function MI(s){return s=$o(s),s.tag=3,s}function DI(s,u,d,y){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var A=y.value;s.payload=function(){return _(A)},s.callback=function(){PI(u,d,y)}}var U=d.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(s.callback=function(){PI(u,d,y),typeof _!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var z=y.stack;this.componentDidCatch(y.value,{componentStack:z!==null?z:""})})}function QG(s,u,d,y,_){if(d.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=d.alternate,u!==null&&ld(u,d,_,!0),d=mi.current,d!==null){switch(d.tag){case 13:return sa===null?A0():d.alternate===null&&sn===0&&(sn=3),d.flags&=-257,d.flags|=65536,d.lanes=_,y===Rx?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([y]):u.add(y),N0(s,y,_)),!1;case 22:return d.flags|=65536,y===Rx?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([y]):d.add(y)),N0(s,y,_)),!1}throw Error(r(435,d.tag))}return N0(s,y,_),A0(),!1}if(_t)return u=mi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=_,y!==Ex&&(s=Error(r(422),{cause:y}),sd(fi(s,d)))):(y!==Ex&&(u=Error(r(423),{cause:y}),sd(fi(u,d))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,y=fi(y,d),_=n0(s.stateNode,y,_),Dx(s,_),sn!==4&&(sn=2)),!1;var A=Error(r(520),{cause:y});if(A=fi(A,d),Nd===null?Nd=[A]:Nd.push(A),sn!==4&&(sn=2),u===null)return!0;y=fi(y,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,s=_&-_,d.lanes|=s,s=n0(d.stateNode,y,s),Dx(d,s),!1;case 1:if(u=d.type,A=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Jo===null||!Jo.has(A))))return d.flags|=65536,_&=-_,d.lanes|=_,_=MI(_),DI(_,s,d,y),Dx(d,_),!1}d=d.return}while(d!==null);return!1}var OI=Error(r(461)),Gn=!1;function er(s,u,d,y){u.child=s===null?SI(u,null,d,y):Fu(u,s.child,d,y)}function jI(s,u,d,y,_){d=d.render;var A=u.ref;if("ref"in y){var U={};for(var z in y)z!=="ref"&&(U[z]=y[z])}else U=y;return yl(u),y=Ux(s,u,d,U,A,_),z=$x(),s!==null&&!Gn?(Bx(s,u,_),Qa(s,u,_)):(_t&&z&&Tx(u),u.flags|=1,er(s,u,y,_),u.child)}function LI(s,u,d,y,_){if(s===null){var A=d.type;return typeof A=="function"&&!bx(A)&&A.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=A,VI(s,u,A,y,_)):(s=Cm(d.type,null,y,u,u.mode,_),s.ref=u.ref,s.return=u,u.child=s)}if(A=s.child,!c0(s,_)){var U=A.memoizedProps;if(d=d.compare,d=d!==null?d:rd,d(U,y)&&s.ref===u.ref)return Qa(s,u,_)}return u.flags|=1,s=Ga(A,y),s.ref=u.ref,s.return=u,u.child=s}function VI(s,u,d,y,_){if(s!==null){var A=s.memoizedProps;if(rd(A,y)&&s.ref===u.ref)if(Gn=!1,u.pendingProps=y=A,c0(s,_))(s.flags&131072)!==0&&(Gn=!0);else return u.lanes=s.lanes,Qa(s,u,_)}return r0(s,u,d,y,_)}function UI(s,u,d){var y=u.pendingProps,_=y.children,A=s!==null?s.memoizedState:null;if(y.mode==="hidden"){if((u.flags&128)!==0){if(y=A!==null?A.baseLanes|d:d,s!==null){for(_=u.child=s.child,A=0;_!==null;)A=A|_.lanes|_.childLanes,_=_.sibling;u.childLanes=A&~y}else u.childLanes=0,u.child=null;return $I(s,u,y,d)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},s!==null&&Pm(u,A!==null?A.cachePool:null),A!==null?Vk(u,A):jx(),AI(u);else return u.lanes=u.childLanes=536870912,$I(s,u,A!==null?A.baseLanes|d:d,d)}else A!==null?(Pm(u,A.cachePool),Vk(u,A),zo(),u.memoizedState=null):(s!==null&&Pm(u,null),jx(),zo());return er(s,u,_,d),u.child}function $I(s,u,d,y){var _=Ix();return _=_===null?null:{parent:Dn._currentValue,pool:_},u.memoizedState={baseLanes:d,cachePool:_},s!==null&&Pm(u,null),jx(),AI(u),s!==null&&ld(s,u,y,!0),null}function Ym(s,u){var d=u.ref;if(d===null)s!==null&&s.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(u.flags|=4194816)}}function r0(s,u,d,y,_){return yl(u),d=Ux(s,u,d,y,void 0,_),y=$x(),s!==null&&!Gn?(Bx(s,u,_),Qa(s,u,_)):(_t&&y&&Tx(u),u.flags|=1,er(s,u,d,_),u.child)}function BI(s,u,d,y,_,A){return yl(u),u.updateQueue=null,d=$k(u,y,d,_),Uk(s),y=$x(),s!==null&&!Gn?(Bx(s,u,A),Qa(s,u,A)):(_t&&y&&Tx(u),u.flags|=1,er(s,u,d,A),u.child)}function qI(s,u,d,y,_){if(yl(u),u.stateNode===null){var A=Mu,U=d.contextType;typeof U=="object"&&U!==null&&(A=lr(U)),A=new d(y,A),u.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=t0,u.stateNode=A,A._reactInternals=u,A=u.stateNode,A.props=y,A.state=u.memoizedState,A.refs={},Px(u),U=d.contextType,A.context=typeof U=="object"&&U!==null?lr(U):Mu,A.state=u.memoizedState,U=d.getDerivedStateFromProps,typeof U=="function"&&(e0(u,d,U,y),A.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(U=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),U!==A.state&&t0.enqueueReplaceState(A,A.state,null),md(u,y,A,_),pd(),A.state=u.memoizedState),typeof A.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(s===null){A=u.stateNode;var z=u.memoizedProps,K=xl(d,z);A.props=K;var oe=A.context,he=d.contextType;U=Mu,typeof he=="object"&&he!==null&&(U=lr(he));var ye=d.getDerivedStateFromProps;he=typeof ye=="function"||typeof A.getSnapshotBeforeUpdate=="function",z=u.pendingProps!==z,he||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(z||oe!==U)&&NI(u,A,y,U),Uo=!1;var ue=u.memoizedState;A.state=ue,md(u,y,A,_),pd(),oe=u.memoizedState,z||ue!==oe||Uo?(typeof ye=="function"&&(e0(u,d,ye,y),oe=u.memoizedState),(K=Uo||CI(u,d,K,y,ue,oe,U))?(he||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(u.flags|=4194308)):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=oe),A.props=y,A.state=oe,A.context=U,y=K):(typeof A.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{A=u.stateNode,Mx(s,u),U=u.memoizedProps,he=xl(d,U),A.props=he,ye=u.pendingProps,ue=A.context,oe=d.contextType,K=Mu,typeof oe=="object"&&oe!==null&&(K=lr(oe)),z=d.getDerivedStateFromProps,(oe=typeof z=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(U!==ye||ue!==K)&&NI(u,A,y,K),Uo=!1,ue=u.memoizedState,A.state=ue,md(u,y,A,_),pd();var ce=u.memoizedState;U!==ye||ue!==ce||Uo||s!==null&&s.dependencies!==null&&Im(s.dependencies)?(typeof z=="function"&&(e0(u,d,z,y),ce=u.memoizedState),(he=Uo||CI(u,d,he,y,ue,ce,K)||s!==null&&s.dependencies!==null&&Im(s.dependencies))?(oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(y,ce,K),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(y,ce,K)),typeof A.componentDidUpdate=="function"&&(u.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof A.componentDidUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=ce),A.props=y,A.state=ce,A.context=K,y=he):(typeof A.componentDidUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(u.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&ue===s.memoizedState||(u.flags|=1024),y=!1)}return A=y,Ym(s,u),y=(u.flags&128)!==0,A||y?(A=u.stateNode,d=y&&typeof d.getDerivedStateFromError!="function"?null:A.render(),u.flags|=1,s!==null&&y?(u.child=Fu(u,s.child,null,_),u.child=Fu(u,null,d,_)):er(s,u,d,_),u.memoizedState=A.state,s=u.child):s=Qa(s,u,_),s}function FI(s,u,d,y){return od(),u.flags|=256,er(s,u,d,y),u.child}var i0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function a0(s){return{baseLanes:s,cachePool:Ik()}}function o0(s,u,d){return s=s!==null?s.childLanes&~d:0,u&&(s|=gi),s}function zI(s,u,d){var y=u.pendingProps,_=!1,A=(u.flags&128)!==0,U;if((U=A)||(U=s!==null&&s.memoizedState===null?!1:(On.current&2)!==0),U&&(_=!0,u.flags&=-129),U=(u.flags&32)!==0,u.flags&=-33,s===null){if(_t){if(_?Fo(u):zo(),_t){var z=on,K;if(K=z){e:{for(K=z,z=oa;K.nodeType!==8;){if(!z){z=null;break e}if(K=Li(K.nextSibling),K===null){z=null;break e}}z=K}z!==null?(u.memoizedState={dehydrated:z,treeContext:dl!==null?{id:Ha,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},K=zr(18,null,null,0),K.stateNode=z,K.return=u,u.child=K,Sr=u,on=null,K=!0):K=!1}K||ml(u)}if(z=u.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return F0(z)?u.lanes=32:u.lanes=536870912,null;Xa(u)}return z=y.children,y=y.fallback,_?(zo(),_=u.mode,z=Jm({mode:"hidden",children:z},_),y=fl(y,_,d,null),z.return=u,y.return=u,z.sibling=y,u.child=z,_=u.child,_.memoizedState=a0(d),_.childLanes=o0(s,U,d),u.memoizedState=i0,y):(Fo(u),s0(u,z))}if(K=s.memoizedState,K!==null&&(z=K.dehydrated,z!==null)){if(A)u.flags&256?(Fo(u),u.flags&=-257,u=l0(s,u,d)):u.memoizedState!==null?(zo(),u.child=s.child,u.flags|=128,u=null):(zo(),_=y.fallback,z=u.mode,y=Jm({mode:"visible",children:y.children},z),_=fl(_,z,d,null),_.flags|=2,y.return=u,_.return=u,y.sibling=_,u.child=y,Fu(u,s.child,null,d),y=u.child,y.memoizedState=a0(d),y.childLanes=o0(s,U,d),u.memoizedState=i0,u=_);else if(Fo(u),F0(z)){if(U=z.nextSibling&&z.nextSibling.dataset,U)var oe=U.dgst;U=oe,y=Error(r(419)),y.stack="",y.digest=U,sd({value:y,source:null,stack:null}),u=l0(s,u,d)}else if(Gn||ld(s,u,d,!1),U=(d&s.childLanes)!==0,Gn||U){if(U=Gt,U!==null&&(y=d&-d,y=(y&42)!==0?1:Ro(y),y=(y&(U.suspendedLanes|d))!==0?0:y,y!==0&&y!==K.retryLane))throw K.retryLane=y,Pu(s,y),Yr(U,s,y),OI;z.data==="$?"||A0(),u=l0(s,u,d)}else z.data==="$?"?(u.flags|=192,u.child=s.child,u=null):(s=K.treeContext,on=Li(z.nextSibling),Sr=u,_t=!0,pl=null,oa=!1,s!==null&&(hi[pi++]=Ha,hi[pi++]=Wa,hi[pi++]=dl,Ha=s.id,Wa=s.overflow,dl=u),u=s0(u,y.children),u.flags|=4096);return u}return _?(zo(),_=y.fallback,z=u.mode,K=s.child,oe=K.sibling,y=Ga(K,{mode:"hidden",children:y.children}),y.subtreeFlags=K.subtreeFlags&65011712,oe!==null?_=Ga(oe,_):(_=fl(_,z,d,null),_.flags|=2),_.return=u,y.return=u,y.sibling=_,u.child=y,y=_,_=u.child,z=s.child.memoizedState,z===null?z=a0(d):(K=z.cachePool,K!==null?(oe=Dn._currentValue,K=K.parent!==oe?{parent:oe,pool:oe}:K):K=Ik(),z={baseLanes:z.baseLanes|d,cachePool:K}),_.memoizedState=z,_.childLanes=o0(s,U,d),u.memoizedState=i0,y):(Fo(u),d=s.child,s=d.sibling,d=Ga(d,{mode:"visible",children:y.children}),d.return=u,d.sibling=null,s!==null&&(U=u.deletions,U===null?(u.deletions=[s],u.flags|=16):U.push(s)),u.child=d,u.memoizedState=null,d)}function s0(s,u){return u=Jm({mode:"visible",children:u},s.mode),u.return=s,s.child=u}function Jm(s,u){return s=zr(22,s,null,u),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function l0(s,u,d){return Fu(u,s.child,null,d),s=s0(u,u.pendingProps.children),s.flags|=2,u.memoizedState=null,s}function GI(s,u,d){s.lanes|=u;var y=s.alternate;y!==null&&(y.lanes|=u),Ax(s.return,u,d)}function u0(s,u,d,y,_){var A=s.memoizedState;A===null?s.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:d,tailMode:_}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=y,A.tail=d,A.tailMode=_)}function HI(s,u,d){var y=u.pendingProps,_=y.revealOrder,A=y.tail;if(er(s,u,y.children,d),y=On.current,(y&2)!==0)y=y&1|2,u.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=u.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&GI(s,d,u);else if(s.tag===19)GI(s,d,u);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===u)break e;for(;s.sibling===null;){if(s.return===null||s.return===u)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}y&=1}switch(se(On,y),_){case"forwards":for(d=u.child,_=null;d!==null;)s=d.alternate,s!==null&&Hm(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=u.child,u.child=null):(_=d.sibling,d.sibling=null),u0(u,!1,_,d,A);break;case"backwards":for(d=null,_=u.child,u.child=null;_!==null;){if(s=_.alternate,s!==null&&Hm(s)===null){u.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}u0(u,!0,d,null,A);break;case"together":u0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Qa(s,u,d){if(s!==null&&(u.dependencies=s.dependencies),Yo|=u.lanes,(d&u.childLanes)===0)if(s!==null){if(ld(s,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(s!==null&&u.child!==s.child)throw Error(r(153));if(u.child!==null){for(s=u.child,d=Ga(s,s.pendingProps),u.child=d,d.return=u;s.sibling!==null;)s=s.sibling,d=d.sibling=Ga(s,s.pendingProps),d.return=u;d.sibling=null}return u.child}function c0(s,u){return(s.lanes&u)!==0?!0:(s=s.dependencies,!!(s!==null&&Im(s)))}function ZG(s,u,d){switch(u.tag){case 3:Be(u,u.stateNode.containerInfo),Vo(u,Dn,s.memoizedState.cache),od();break;case 27:case 5:Me(u);break;case 4:Be(u,u.stateNode.containerInfo);break;case 10:Vo(u,u.type,u.memoizedProps.value);break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(Fo(u),u.flags|=128,null):(d&u.child.childLanes)!==0?zI(s,u,d):(Fo(u),s=Qa(s,u,d),s!==null?s.sibling:null);Fo(u);break;case 19:var _=(s.flags&128)!==0;if(y=(d&u.childLanes)!==0,y||(ld(s,u,d,!1),y=(d&u.childLanes)!==0),_){if(y)return HI(s,u,d);u.flags|=128}if(_=u.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),se(On,On.current),y)break;return null;case 22:case 23:return u.lanes=0,UI(s,u,d);case 24:Vo(u,Dn,s.memoizedState.cache)}return Qa(s,u,d)}function WI(s,u,d){if(s!==null)if(s.memoizedProps!==u.pendingProps)Gn=!0;else{if(!c0(s,d)&&(u.flags&128)===0)return Gn=!1,ZG(s,u,d);Gn=(s.flags&131072)!==0}else Gn=!1,_t&&(u.flags&1048576)!==0&&wk(u,km,u.index);switch(u.lanes=0,u.tag){case 16:e:{s=u.pendingProps;var y=u.elementType,_=y._init;if(y=_(y._payload),u.type=y,typeof y=="function")bx(y)?(s=xl(y,s),u.tag=1,u=qI(null,u,y,s,d)):(u.tag=0,u=r0(null,u,y,s,d));else{if(y!=null){if(_=y.$$typeof,_===D){u.tag=11,u=jI(null,u,y,s,d);break e}else if(_===P){u.tag=14,u=LI(null,u,y,s,d);break e}}throw u=te(y)||y,Error(r(306,u,""))}}return u;case 0:return r0(s,u,u.type,u.pendingProps,d);case 1:return y=u.type,_=xl(y,u.pendingProps),qI(s,u,y,_,d);case 3:e:{if(Be(u,u.stateNode.containerInfo),s===null)throw Error(r(387));y=u.pendingProps;var A=u.memoizedState;_=A.element,Mx(s,u),md(u,y,null,d);var U=u.memoizedState;if(y=U.cache,Vo(u,Dn,y),y!==A.cache&&Cx(u,[Dn],d,!0),pd(),y=U.element,A.isDehydrated)if(A={element:y,isDehydrated:!1,cache:U.cache},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){u=FI(s,u,y,d);break e}else if(y!==_){_=fi(Error(r(424)),u),sd(_),u=FI(s,u,y,d);break e}else{switch(s=u.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(on=Li(s.firstChild),Sr=u,_t=!0,pl=null,oa=!0,d=SI(u,null,y,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(od(),y===_){u=Qa(s,u,d);break e}er(s,u,y,d)}u=u.child}return u;case 26:return Ym(s,u),s===null?(d=XR(u.type,null,u.pendingProps,null))?u.memoizedState=d:_t||(d=u.type,s=u.pendingProps,y=cg(Ce.current).createElement(d),y[Rn]=u,y[yn]=s,nr(y,d,s),dn(y),u.stateNode=y):u.memoizedState=XR(u.type,s.memoizedProps,u.pendingProps,s.memoizedState),null;case 27:return Me(u),s===null&&_t&&(y=u.stateNode=KR(u.type,u.pendingProps,Ce.current),Sr=u,oa=!0,_=on,Zo(u.type)?(z0=_,on=Li(y.firstChild)):on=_),er(s,u,u.pendingProps.children,d),Ym(s,u),s===null&&(u.flags|=4194304),u.child;case 5:return s===null&&_t&&((_=y=on)&&(y=C9(y,u.type,u.pendingProps,oa),y!==null?(u.stateNode=y,Sr=u,on=Li(y.firstChild),oa=!1,_=!0):_=!1),_||ml(u)),Me(u),_=u.type,A=u.pendingProps,U=s!==null?s.memoizedProps:null,y=A.children,$0(_,A)?y=null:U!==null&&$0(_,U)&&(u.flags|=32),u.memoizedState!==null&&(_=Ux(s,u,GG,null,null,d),Ld._currentValue=_),Ym(s,u),er(s,u,y,d),u.child;case 6:return s===null&&_t&&((s=d=on)&&(d=N9(d,u.pendingProps,oa),d!==null?(u.stateNode=d,Sr=u,on=null,s=!0):s=!1),s||ml(u)),null;case 13:return zI(s,u,d);case 4:return Be(u,u.stateNode.containerInfo),y=u.pendingProps,s===null?u.child=Fu(u,null,y,d):er(s,u,y,d),u.child;case 11:return jI(s,u,u.type,u.pendingProps,d);case 7:return er(s,u,u.pendingProps,d),u.child;case 8:return er(s,u,u.pendingProps.children,d),u.child;case 12:return er(s,u,u.pendingProps.children,d),u.child;case 10:return y=u.pendingProps,Vo(u,u.type,y.value),er(s,u,y.children,d),u.child;case 9:return _=u.type._context,y=u.pendingProps.children,yl(u),_=lr(_),y=y(_),u.flags|=1,er(s,u,y,d),u.child;case 14:return LI(s,u,u.type,u.pendingProps,d);case 15:return VI(s,u,u.type,u.pendingProps,d);case 19:return HI(s,u,d);case 31:return y=u.pendingProps,d=u.mode,y={mode:y.mode,children:y.children},s===null?(d=Jm(y,d),d.ref=u.ref,u.child=d,d.return=u,u=d):(d=Ga(s.child,y),d.ref=u.ref,u.child=d,d.return=u,u=d),u;case 22:return UI(s,u,d);case 24:return yl(u),y=lr(Dn),s===null?(_=Ix(),_===null&&(_=Gt,A=Nx(),_.pooledCache=A,A.refCount++,A!==null&&(_.pooledCacheLanes|=d),_=A),u.memoizedState={parent:y,cache:_},Px(u),Vo(u,Dn,_)):((s.lanes&d)!==0&&(Mx(s,u),md(u,null,null,d),pd()),_=s.memoizedState,A=u.memoizedState,_.parent!==y?(_={parent:y,cache:y},u.memoizedState=_,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=_),Vo(u,Dn,y)):(y=A.cache,Vo(u,Dn,y),y!==_.cache&&Cx(u,[Dn],d,!0))),er(s,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function Za(s){s.flags|=4}function KI(s,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!nP(u)){if(u=mi.current,u!==null&&((pt&4194048)===pt?sa!==null:(pt&62914560)!==pt&&(pt&536870912)===0||u!==sa))throw dd=Rx,Rk;s.flags|=8192}}function Xm(s,u){u!==null&&(s.flags|=4),s.flags&16384&&(u=s.tag!==22?Uf():536870912,s.lanes|=u,Wu|=u)}function Td(s,u){if(!_t)switch(s.tailMode){case"hidden":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var y=null;d!==null;)d.alternate!==null&&(y=d),d=d.sibling;y===null?u||s.tail===null?s.tail=null:s.tail.sibling=null:y.sibling=null}}function rn(s){var u=s.alternate!==null&&s.alternate.child===s.child,d=0,y=0;if(u)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=y,s.childLanes=d,u}function e9(s,u,d){var y=u.pendingProps;switch(wx(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(u),null;case 1:return rn(u),null;case 3:return d=u.stateNode,y=null,s!==null&&(y=s.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),Ya(Dn),we(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(ad(u)?Za(u):s===null||s.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ak())),rn(u),null;case 26:return d=u.memoizedState,s===null?(Za(u),d!==null?(rn(u),KI(u,d)):(rn(u),u.flags&=-16777217)):d?d!==s.memoizedState?(Za(u),rn(u),KI(u,d)):(rn(u),u.flags&=-16777217):(s.memoizedProps!==y&&Za(u),rn(u),u.flags&=-16777217),null;case 27:je(u),d=Ce.current;var _=u.type;if(s!==null&&u.stateNode!=null)s.memoizedProps!==y&&Za(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return rn(u),null}s=_e.current,ad(u)?Ek(u):(s=KR(_,y,d),u.stateNode=s,Za(u))}return rn(u),null;case 5:if(je(u),d=u.type,s!==null&&u.stateNode!=null)s.memoizedProps!==y&&Za(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return rn(u),null}if(s=_e.current,ad(u))Ek(u);else{switch(_=cg(Ce.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof y.is=="string"?_.createElement("select",{is:y.is}):_.createElement("select"),y.multiple?s.multiple=!0:y.size&&(s.size=y.size);break;default:s=typeof y.is=="string"?_.createElement(d,{is:y.is}):_.createElement(d)}}s[Rn]=u,s[yn]=y;e:for(_=u.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break e;for(;_.sibling===null;){if(_.return===null||_.return===u)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}u.stateNode=s;e:switch(nr(s,d,y),d){case"button":case"input":case"select":case"textarea":s=!!y.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Za(u)}}return rn(u),u.flags&=-16777217,null;case 6:if(s&&u.stateNode!=null)s.memoizedProps!==y&&Za(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(s=Ce.current,ad(u)){if(s=u.stateNode,d=u.memoizedProps,y=null,_=Sr,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}s[Rn]=u,s=!!(s.nodeValue===d||y!==null&&y.suppressHydrationWarning===!0||BR(s.nodeValue,d)),s||ml(u)}else s=cg(s).createTextNode(y),s[Rn]=u,u.stateNode=s}return rn(u),null;case 13:if(y=u.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=ad(u),y!==null&&y.dehydrated!==null){if(s===null){if(!_)throw Error(r(318));if(_=u.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Rn]=u}else od(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;rn(u),_=!1}else _=Ak(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return u.flags&256?(Xa(u),u):(Xa(u),null)}if(Xa(u),(u.flags&128)!==0)return u.lanes=d,u;if(d=y!==null,s=s!==null&&s.memoizedState!==null,d){y=u.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool);var A=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(A=y.memoizedState.cachePool.pool),A!==_&&(y.flags|=2048)}return d!==s&&d&&(u.child.flags|=8192),Xm(u,u.updateQueue),rn(u),null;case 4:return we(),s===null&&O0(u.stateNode.containerInfo),rn(u),null;case 10:return Ya(u.type),rn(u),null;case 19:if(ne(On),_=u.memoizedState,_===null)return rn(u),null;if(y=(u.flags&128)!==0,A=_.rendering,A===null)if(y)Td(_,!1);else{if(sn!==0||s!==null&&(s.flags&128)!==0)for(s=u.child;s!==null;){if(A=Hm(s),A!==null){for(u.flags|=128,Td(_,!1),s=A.updateQueue,u.updateQueue=s,Xm(u,s),u.subtreeFlags=0,s=d,d=u.child;d!==null;)Tk(d,s),d=d.sibling;return se(On,On.current&1|2),u.child}s=s.sibling}_.tail!==null&&Qe()>eg&&(u.flags|=128,y=!0,Td(_,!1),u.lanes=4194304)}else{if(!y)if(s=Hm(A),s!==null){if(u.flags|=128,y=!0,s=s.updateQueue,u.updateQueue=s,Xm(u,s),Td(_,!0),_.tail===null&&_.tailMode==="hidden"&&!A.alternate&&!_t)return rn(u),null}else 2*Qe()-_.renderingStartTime>eg&&d!==536870912&&(u.flags|=128,y=!0,Td(_,!1),u.lanes=4194304);_.isBackwards?(A.sibling=u.child,u.child=A):(s=_.last,s!==null?s.sibling=A:u.child=A,_.last=A)}return _.tail!==null?(u=_.tail,_.rendering=u,_.tail=u.sibling,_.renderingStartTime=Qe(),u.sibling=null,s=On.current,se(On,y?s&1|2:s&1),u):(rn(u),null);case 22:case 23:return Xa(u),Lx(),y=u.memoizedState!==null,s!==null?s.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(d&536870912)!==0&&(u.flags&128)===0&&(rn(u),u.subtreeFlags&6&&(u.flags|=8192)):rn(u),d=u.updateQueue,d!==null&&Xm(u,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==d&&(u.flags|=2048),s!==null&&ne(vl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),Ya(Dn),rn(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function t9(s,u){switch(wx(u),u.tag){case 1:return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 3:return Ya(Dn),we(),s=u.flags,(s&65536)!==0&&(s&128)===0?(u.flags=s&-65537|128,u):null;case 26:case 27:case 5:return je(u),null;case 13:if(Xa(u),s=u.memoizedState,s!==null&&s.dehydrated!==null){if(u.alternate===null)throw Error(r(340));od()}return s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 19:return ne(On),null;case 4:return we(),null;case 10:return Ya(u.type),null;case 22:case 23:return Xa(u),Lx(),s!==null&&ne(vl),s=u.flags,s&65536?(u.flags=s&-65537|128,u):null;case 24:return Ya(Dn),null;case 25:return null;default:return null}}function YI(s,u){switch(wx(u),u.tag){case 3:Ya(Dn),we();break;case 26:case 27:case 5:je(u);break;case 4:we();break;case 13:Xa(u);break;case 19:ne(On);break;case 10:Ya(u.type);break;case 22:case 23:Xa(u),Lx(),s!==null&&ne(vl);break;case 24:Ya(Dn)}}function wd(s,u){try{var d=u.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var _=y.next;d=_;do{if((d.tag&s)===s){y=void 0;var A=d.create,U=d.inst;y=A(),U.destroy=y}d=d.next}while(d!==_)}}catch(z){qt(u,u.return,z)}}function Go(s,u,d){try{var y=u.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var A=_.next;y=A;do{if((y.tag&s)===s){var U=y.inst,z=U.destroy;if(z!==void 0){U.destroy=void 0,_=u;var K=d,oe=z;try{oe()}catch(he){qt(_,K,he)}}}y=y.next}while(y!==A)}}catch(he){qt(u,u.return,he)}}function JI(s){var u=s.updateQueue;if(u!==null){var d=s.stateNode;try{Lk(u,d)}catch(y){qt(s,s.return,y)}}}function XI(s,u,d){d.props=xl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(y){qt(s,u,y)}}function Ed(s,u){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var y=s.stateNode;break;case 30:y=s.stateNode;break;default:y=s.stateNode}typeof d=="function"?s.refCleanup=d(y):d.current=y}}catch(_){qt(s,u,_)}}function la(s,u){var d=s.ref,y=s.refCleanup;if(d!==null)if(typeof y=="function")try{y()}catch(_){qt(s,u,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){qt(s,u,_)}else d.current=null}function QI(s){var u=s.type,d=s.memoizedProps,y=s.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&y.focus();break e;case"img":d.src?y.src=d.src:d.srcSet&&(y.srcset=d.srcSet)}}catch(_){qt(s,s.return,_)}}function f0(s,u,d){try{var y=s.stateNode;T9(y,s.type,d,u),y[yn]=u}catch(_){qt(s,s.return,_)}}function ZI(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Zo(s.type)||s.tag===4}function d0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ZI(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Zo(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function h0(s,u,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(s),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=ug));else if(y!==4&&(y===27&&Zo(s.type)&&(d=s.stateNode,u=null),s=s.child,s!==null))for(h0(s,u,d),s=s.sibling;s!==null;)h0(s,u,d),s=s.sibling}function Qm(s,u,d){var y=s.tag;if(y===5||y===6)s=s.stateNode,u?d.insertBefore(s,u):d.appendChild(s);else if(y!==4&&(y===27&&Zo(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(Qm(s,u,d),s=s.sibling;s!==null;)Qm(s,u,d),s=s.sibling}function eR(s){var u=s.stateNode,d=s.memoizedProps;try{for(var y=s.type,_=u.attributes;_.length;)u.removeAttributeNode(_[0]);nr(u,y,d),u[Rn]=s,u[yn]=d}catch(A){qt(s,s.return,A)}}var eo=!1,pn=!1,p0=!1,tR=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function n9(s,u){if(s=s.containerInfo,V0=gg,s=dk(s),dx(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var y=d.getSelection&&d.getSelection();if(y&&y.rangeCount!==0){d=y.anchorNode;var _=y.anchorOffset,A=y.focusNode;y=y.focusOffset;try{d.nodeType,A.nodeType}catch{d=null;break e}var U=0,z=-1,K=-1,oe=0,he=0,ye=s,ue=null;t:for(;;){for(var ce;ye!==d||_!==0&&ye.nodeType!==3||(z=U+_),ye!==A||y!==0&&ye.nodeType!==3||(K=U+y),ye.nodeType===3&&(U+=ye.nodeValue.length),(ce=ye.firstChild)!==null;)ue=ye,ye=ce;for(;;){if(ye===s)break t;if(ue===d&&++oe===_&&(z=U),ue===A&&++he===y&&(K=U),(ce=ye.nextSibling)!==null)break;ye=ue,ue=ye.parentNode}ye=ce}d=z===-1||K===-1?null:{start:z,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(U0={focusedElem:s,selectionRange:d},gg=!1,Hn=u;Hn!==null;)if(u=Hn,s=u.child,(u.subtreeFlags&1024)!==0&&s!==null)s.return=u,Hn=s;else for(;Hn!==null;){switch(u=Hn,A=u.alternate,s=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&A!==null){s=void 0,d=u,_=A.memoizedProps,A=A.memoizedState,y=d.stateNode;try{var Ke=xl(d.type,_,d.elementType===d.type);s=y.getSnapshotBeforeUpdate(Ke,A),y.__reactInternalSnapshotBeforeUpdate=s}catch($e){qt(d,d.return,$e)}}break;case 3:if((s&1024)!==0){if(s=u.stateNode.containerInfo,d=s.nodeType,d===9)q0(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":q0(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=u.sibling,s!==null){s.return=u.return,Hn=s;break}Hn=u.return}}function nR(s,u,d){var y=d.flags;switch(d.tag){case 0:case 11:case 15:Ho(s,d),y&4&&wd(5,d);break;case 1:if(Ho(s,d),y&4)if(s=d.stateNode,u===null)try{s.componentDidMount()}catch(U){qt(d,d.return,U)}else{var _=xl(d.type,u.memoizedProps);u=u.memoizedState;try{s.componentDidUpdate(_,u,s.__reactInternalSnapshotBeforeUpdate)}catch(U){qt(d,d.return,U)}}y&64&&JI(d),y&512&&Ed(d,d.return);break;case 3:if(Ho(s,d),y&64&&(s=d.updateQueue,s!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{Lk(s,u)}catch(U){qt(d,d.return,U)}}break;case 27:u===null&&y&4&&eR(d);case 26:case 5:Ho(s,d),u===null&&y&4&&QI(d),y&512&&Ed(d,d.return);break;case 12:Ho(s,d);break;case 13:Ho(s,d),y&4&&aR(s,d),y&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=f9.bind(null,d),k9(s,d))));break;case 22:if(y=d.memoizedState!==null||eo,!y){u=u!==null&&u.memoizedState!==null||pn,_=eo;var A=pn;eo=y,(pn=u)&&!A?Wo(s,d,(d.subtreeFlags&8772)!==0):Ho(s,d),eo=_,pn=A}break;case 30:break;default:Ho(s,d)}}function rR(s){var u=s.alternate;u!==null&&(s.alternate=null,rR(u)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(u=s.stateNode,u!==null&&Do(u)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var en=null,Mr=!1;function to(s,u,d){for(d=d.child;d!==null;)iR(s,u,d),d=d.sibling}function iR(s,u,d){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Mt,d)}catch{}switch(d.tag){case 26:pn||la(d,u),to(s,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:pn||la(d,u);var y=en,_=Mr;Zo(d.type)&&(en=d.stateNode,Mr=!1),to(s,u,d),Md(d.stateNode),en=y,Mr=_;break;case 5:pn||la(d,u);case 6:if(y=en,_=Mr,en=null,to(s,u,d),en=y,Mr=_,en!==null)if(Mr)try{(en.nodeType===9?en.body:en.nodeName==="HTML"?en.ownerDocument.body:en).removeChild(d.stateNode)}catch(A){qt(d,u,A)}else try{en.removeChild(d.stateNode)}catch(A){qt(d,u,A)}break;case 18:en!==null&&(Mr?(s=en,HR(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Bd(s)):HR(en,d.stateNode));break;case 4:y=en,_=Mr,en=d.stateNode.containerInfo,Mr=!0,to(s,u,d),en=y,Mr=_;break;case 0:case 11:case 14:case 15:pn||Go(2,d,u),pn||Go(4,d,u),to(s,u,d);break;case 1:pn||(la(d,u),y=d.stateNode,typeof y.componentWillUnmount=="function"&&XI(d,u,y)),to(s,u,d);break;case 21:to(s,u,d);break;case 22:pn=(y=pn)||d.memoizedState!==null,to(s,u,d),pn=y;break;default:to(s,u,d)}}function aR(s,u){if(u.memoizedState===null&&(s=u.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bd(s)}catch(d){qt(u,u.return,d)}}function r9(s){switch(s.tag){case 13:case 19:var u=s.stateNode;return u===null&&(u=s.stateNode=new tR),u;case 22:return s=s.stateNode,u=s._retryCache,u===null&&(u=s._retryCache=new tR),u;default:throw Error(r(435,s.tag))}}function m0(s,u){var d=r9(s);u.forEach(function(y){var _=d9.bind(null,s,y);d.has(y)||(d.add(y),y.then(_,_))})}function Gr(s,u){var d=u.deletions;if(d!==null)for(var y=0;y<d.length;y++){var _=d[y],A=s,U=u,z=U;e:for(;z!==null;){switch(z.tag){case 27:if(Zo(z.type)){en=z.stateNode,Mr=!1;break e}break;case 5:en=z.stateNode,Mr=!1;break e;case 3:case 4:en=z.stateNode.containerInfo,Mr=!0;break e}z=z.return}if(en===null)throw Error(r(160));iR(A,U,_),en=null,Mr=!1,A=_.alternate,A!==null&&(A.return=null),_.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)oR(u,s),u=u.sibling}var ji=null;function oR(s,u){var d=s.alternate,y=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Gr(u,s),Hr(s),y&4&&(Go(3,s,s.return),wd(3,s),Go(5,s,s.return));break;case 1:Gr(u,s),Hr(s),y&512&&(pn||d===null||la(d,d.return)),y&64&&eo&&(s=s.updateQueue,s!==null&&(y=s.callbacks,y!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?y:d.concat(y))));break;case 26:var _=ji;if(Gr(u,s),Hr(s),y&512&&(pn||d===null||la(d,d.return)),y&4){var A=d!==null?d.memoizedState:null;if(y=s.memoizedState,d===null)if(y===null)if(s.stateNode===null){e:{y=s.type,d=s.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":A=_.getElementsByTagName("title")[0],(!A||A[Ys]||A[Rn]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=_.createElement(y),_.head.insertBefore(A,_.querySelector("head > title"))),nr(A,y,d),A[Rn]=s,dn(A),y=A;break e;case"link":var U=eP("link","href",_).get(y+(d.href||""));if(U){for(var z=0;z<U.length;z++)if(A=U[z],A.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&A.getAttribute("rel")===(d.rel==null?null:d.rel)&&A.getAttribute("title")===(d.title==null?null:d.title)&&A.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){U.splice(z,1);break t}}A=_.createElement(y),nr(A,y,d),_.head.appendChild(A);break;case"meta":if(U=eP("meta","content",_).get(y+(d.content||""))){for(z=0;z<U.length;z++)if(A=U[z],A.getAttribute("content")===(d.content==null?null:""+d.content)&&A.getAttribute("name")===(d.name==null?null:d.name)&&A.getAttribute("property")===(d.property==null?null:d.property)&&A.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&A.getAttribute("charset")===(d.charSet==null?null:d.charSet)){U.splice(z,1);break t}}A=_.createElement(y),nr(A,y,d),_.head.appendChild(A);break;default:throw Error(r(468,y))}A[Rn]=s,dn(A),y=A}s.stateNode=y}else tP(_,s.type,s.stateNode);else s.stateNode=ZR(_,y,s.memoizedProps);else A!==y?(A===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):A.count--,y===null?tP(_,s.type,s.stateNode):ZR(_,y,s.memoizedProps)):y===null&&s.stateNode!==null&&f0(s,s.memoizedProps,d.memoizedProps)}break;case 27:Gr(u,s),Hr(s),y&512&&(pn||d===null||la(d,d.return)),d!==null&&y&4&&f0(s,s.memoizedProps,d.memoizedProps);break;case 5:if(Gr(u,s),Hr(s),y&512&&(pn||d===null||la(d,d.return)),s.flags&32){_=s.stateNode;try{si(_,"")}catch(ce){qt(s,s.return,ce)}}y&4&&s.stateNode!=null&&(_=s.memoizedProps,f0(s,_,d!==null?d.memoizedProps:_)),y&1024&&(p0=!0);break;case 6:if(Gr(u,s),Hr(s),y&4){if(s.stateNode===null)throw Error(r(162));y=s.memoizedProps,d=s.stateNode;try{d.nodeValue=y}catch(ce){qt(s,s.return,ce)}}break;case 3:if(hg=null,_=ji,ji=fg(u.containerInfo),Gr(u,s),ji=_,Hr(s),y&4&&d!==null&&d.memoizedState.isDehydrated)try{Bd(u.containerInfo)}catch(ce){qt(s,s.return,ce)}p0&&(p0=!1,sR(s));break;case 4:y=ji,ji=fg(s.stateNode.containerInfo),Gr(u,s),Hr(s),ji=y;break;case 12:Gr(u,s),Hr(s);break;case 13:Gr(u,s),Hr(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(_0=Qe()),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,m0(s,y)));break;case 22:_=s.memoizedState!==null;var K=d!==null&&d.memoizedState!==null,oe=eo,he=pn;if(eo=oe||_,pn=he||K,Gr(u,s),pn=he,eo=oe,Hr(s),y&8192)e:for(u=s.stateNode,u._visibility=_?u._visibility&-2:u._visibility|1,_&&(d===null||K||eo||pn||_l(s)),d=null,u=s;;){if(u.tag===5||u.tag===26){if(d===null){K=d=u;try{if(A=K.stateNode,_)U=A.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{z=K.stateNode;var ye=K.memoizedProps.style,ue=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;z.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(ce){qt(K,K.return,ce)}}}else if(u.tag===6){if(d===null){K=u;try{K.stateNode.nodeValue=_?"":K.memoizedProps}catch(ce){qt(K,K.return,ce)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===s)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=s.updateQueue,y!==null&&(d=y.retryQueue,d!==null&&(y.retryQueue=null,m0(s,d))));break;case 19:Gr(u,s),Hr(s),y&4&&(y=s.updateQueue,y!==null&&(s.updateQueue=null,m0(s,y)));break;case 30:break;case 21:break;default:Gr(u,s),Hr(s)}}function Hr(s){var u=s.flags;if(u&2){try{for(var d,y=s.return;y!==null;){if(ZI(y)){d=y;break}y=y.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var _=d.stateNode,A=d0(s);Qm(s,A,_);break;case 5:var U=d.stateNode;d.flags&32&&(si(U,""),d.flags&=-33);var z=d0(s);Qm(s,z,U);break;case 3:case 4:var K=d.stateNode.containerInfo,oe=d0(s);h0(s,oe,K);break;default:throw Error(r(161))}}catch(he){qt(s,s.return,he)}s.flags&=-3}u&4096&&(s.flags&=-4097)}function sR(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var u=s;sR(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),s=s.sibling}}function Ho(s,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)nR(s,u.alternate,u),u=u.sibling}function _l(s){for(s=s.child;s!==null;){var u=s;switch(u.tag){case 0:case 11:case 14:case 15:Go(4,u,u.return),_l(u);break;case 1:la(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&XI(u,u.return,d),_l(u);break;case 27:Md(u.stateNode);case 26:case 5:la(u,u.return),_l(u);break;case 22:u.memoizedState===null&&_l(u);break;case 30:_l(u);break;default:_l(u)}s=s.sibling}}function Wo(s,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,_=s,A=u,U=A.flags;switch(A.tag){case 0:case 11:case 15:Wo(_,A,d),wd(4,A);break;case 1:if(Wo(_,A,d),y=A,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(oe){qt(y,y.return,oe)}if(y=A,_=y.updateQueue,_!==null){var z=y.stateNode;try{var K=_.shared.hiddenCallbacks;if(K!==null)for(_.shared.hiddenCallbacks=null,_=0;_<K.length;_++)jk(K[_],z)}catch(oe){qt(y,y.return,oe)}}d&&U&64&&JI(A),Ed(A,A.return);break;case 27:eR(A);case 26:case 5:Wo(_,A,d),d&&y===null&&U&4&&QI(A),Ed(A,A.return);break;case 12:Wo(_,A,d);break;case 13:Wo(_,A,d),d&&U&4&&aR(_,A);break;case 22:A.memoizedState===null&&Wo(_,A,d),Ed(A,A.return);break;case 30:break;default:Wo(_,A,d)}u=u.sibling}}function g0(s,u){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(s=u.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&ud(d))}function y0(s,u){s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&ud(s))}function ua(s,u,d,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)lR(s,u,d,y),u=u.sibling}function lR(s,u,d,y){var _=u.flags;switch(u.tag){case 0:case 11:case 15:ua(s,u,d,y),_&2048&&wd(9,u);break;case 1:ua(s,u,d,y);break;case 3:ua(s,u,d,y),_&2048&&(s=null,u.alternate!==null&&(s=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==s&&(u.refCount++,s!=null&&ud(s)));break;case 12:if(_&2048){ua(s,u,d,y),s=u.stateNode;try{var A=u.memoizedProps,U=A.id,z=A.onPostCommit;typeof z=="function"&&z(U,u.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(K){qt(u,u.return,K)}}else ua(s,u,d,y);break;case 13:ua(s,u,d,y);break;case 23:break;case 22:A=u.stateNode,U=u.alternate,u.memoizedState!==null?A._visibility&2?ua(s,u,d,y):Sd(s,u):A._visibility&2?ua(s,u,d,y):(A._visibility|=2,zu(s,u,d,y,(u.subtreeFlags&10256)!==0)),_&2048&&g0(U,u);break;case 24:ua(s,u,d,y),_&2048&&y0(u.alternate,u);break;default:ua(s,u,d,y)}}function zu(s,u,d,y,_){for(_=_&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var A=s,U=u,z=d,K=y,oe=U.flags;switch(U.tag){case 0:case 11:case 15:zu(A,U,z,K,_),wd(8,U);break;case 23:break;case 22:var he=U.stateNode;U.memoizedState!==null?he._visibility&2?zu(A,U,z,K,_):Sd(A,U):(he._visibility|=2,zu(A,U,z,K,_)),_&&oe&2048&&g0(U.alternate,U);break;case 24:zu(A,U,z,K,_),_&&oe&2048&&y0(U.alternate,U);break;default:zu(A,U,z,K,_)}u=u.sibling}}function Sd(s,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=s,y=u,_=y.flags;switch(y.tag){case 22:Sd(d,y),_&2048&&g0(y.alternate,y);break;case 24:Sd(d,y),_&2048&&y0(y.alternate,y);break;default:Sd(d,y)}u=u.sibling}}var Ad=8192;function Gu(s){if(s.subtreeFlags&Ad)for(s=s.child;s!==null;)uR(s),s=s.sibling}function uR(s){switch(s.tag){case 26:Gu(s),s.flags&Ad&&s.memoizedState!==null&&q9(ji,s.memoizedState,s.memoizedProps);break;case 5:Gu(s);break;case 3:case 4:var u=ji;ji=fg(s.stateNode.containerInfo),Gu(s),ji=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Ad,Ad=16777216,Gu(s),Ad=u):Gu(s));break;default:Gu(s)}}function cR(s){var u=s.alternate;if(u!==null&&(s=u.child,s!==null)){u.child=null;do u=s.sibling,s.sibling=null,s=u;while(s!==null)}}function Cd(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var y=u[d];Hn=y,dR(y,s)}cR(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fR(s),s=s.sibling}function fR(s){switch(s.tag){case 0:case 11:case 15:Cd(s),s.flags&2048&&Go(9,s,s.return);break;case 3:Cd(s);break;case 12:Cd(s);break;case 22:var u=s.stateNode;s.memoizedState!==null&&u._visibility&2&&(s.return===null||s.return.tag!==13)?(u._visibility&=-3,Zm(s)):Cd(s);break;default:Cd(s)}}function Zm(s){var u=s.deletions;if((s.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var y=u[d];Hn=y,dR(y,s)}cR(s)}for(s=s.child;s!==null;){switch(u=s,u.tag){case 0:case 11:case 15:Go(8,u,u.return),Zm(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,Zm(u));break;default:Zm(u)}s=s.sibling}}function dR(s,u){for(;Hn!==null;){var d=Hn;switch(d.tag){case 0:case 11:case 15:Go(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var y=d.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:ud(d.memoizedState.cache)}if(y=d.child,y!==null)y.return=d,Hn=y;else e:for(d=s;Hn!==null;){y=Hn;var _=y.sibling,A=y.return;if(rR(y),y===d){Hn=null;break e}if(_!==null){_.return=A,Hn=_;break e}Hn=A}}}var i9={getCacheForType:function(s){var u=lr(Dn),d=u.data.get(s);return d===void 0&&(d=s(),u.data.set(s,d)),d}},a9=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Gt=null,at=null,pt=0,Nt=0,Wr=null,Ko=!1,Hu=!1,v0=!1,no=0,sn=0,Yo=0,Tl=0,b0=0,gi=0,Wu=0,Nd=null,Dr=null,x0=!1,_0=0,eg=1/0,tg=null,Jo=null,tr=0,Xo=null,Ku=null,Yu=0,T0=0,w0=null,hR=null,kd=0,E0=null;function Kr(){if((Ct&2)!==0&&pt!==0)return pt&-pt;if(W.T!==null){var s=ju;return s!==0?s:R0()}return Po()}function pR(){gi===0&&(gi=(pt&536870912)===0||_t?Pa():536870912);var s=mi.current;return s!==null&&(s.flags|=32),gi}function Yr(s,u,d){(s===Gt&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)&&(Ju(s,0),Qo(s,pt,gi,!1)),Da(s,d),((Ct&2)===0||s!==Gt)&&(s===Gt&&((Ct&2)===0&&(Tl|=d),sn===4&&Qo(s,pt,gi,!1)),ca(s))}function mR(s,u,d){if((Ct&6)!==0)throw Error(r(327));var y=!d&&(u&124)===0&&(u&s.expiredLanes)===0||Rr(s,u),_=y?l9(s,u):C0(s,u,!0),A=y;do{if(_===0){Hu&&!y&&Qo(s,u,0,!1);break}else{if(d=s.current.alternate,A&&!o9(d)){_=C0(s,u,!1),A=!1;continue}if(_===2){if(A=u,s.errorRecoveryDisabledLanes&A)var U=0;else U=s.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){u=U;e:{var z=s;_=Nd;var K=z.current.memoizedState.isDehydrated;if(K&&(Ju(z,U).flags|=256),U=C0(z,U,!1),U!==2){if(v0&&!K){z.errorRecoveryDisabledLanes|=A,Tl|=A,_=4;break e}A=Dr,Dr=_,A!==null&&(Dr===null?Dr=A:Dr.push.apply(Dr,A))}_=U}if(A=!1,_!==2)continue}}if(_===1){Ju(s,0),Qo(s,u,0,!0);break}e:{switch(y=s,A=_,A){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Qo(y,u,gi,!Ko);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(_=_0+300-Qe(),10<_)){if(Qo(y,u,gi,!Ko),Ir(y,0,!0)!==0)break e;y.timeoutHandle=zR(gR.bind(null,y,d,Dr,tg,x0,u,gi,Tl,Wu,Ko,A,2,-0,0),_);break e}gR(y,d,Dr,tg,x0,u,gi,Tl,Wu,Ko,A,0,-0,0)}}break}while(!0);ca(s)}function gR(s,u,d,y,_,A,U,z,K,oe,he,ye,ue,ce){if(s.timeoutHandle=-1,ye=u.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(jd={stylesheets:null,count:0,unsuspend:B9},uR(u),ye=F9(),ye!==null)){s.cancelPendingCommit=ye(wR.bind(null,s,u,A,d,y,_,U,z,K,he,1,ue,ce)),Qo(s,A,U,!oe);return}wR(s,u,A,d,y,_,U,z,K)}function o9(s){for(var u=s;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var y=0;y<d.length;y++){var _=d[y],A=_.getSnapshot;_=_.value;try{if(!Fr(A(),_))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Qo(s,u,d,y){u&=~b0,u&=~Tl,s.suspendedLanes|=u,s.pingedLanes&=~u,y&&(s.warmLanes|=u),y=s.expirationTimes;for(var _=u;0<_;){var A=31-De(_),U=1<<A;y[A]=-1,_&=~U}d!==0&&Yi(s,d,u)}function ng(){return(Ct&6)===0?(Id(0),!1):!0}function S0(){if(at!==null){if(Nt===0)var s=at.return;else s=at,Ka=gl=null,qx(s),qu=null,xd=0,s=at;for(;s!==null;)YI(s.alternate,s),s=s.return;at=null}}function Ju(s,u){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,E9(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),S0(),Gt=s,at=d=Ga(s.current,null),pt=u,Nt=0,Wr=null,Ko=!1,Hu=Rr(s,u),v0=!1,Wu=gi=b0=Tl=Yo=sn=0,Dr=Nd=null,x0=!1,(u&8)!==0&&(u|=u&32);var y=s.entangledLanes;if(y!==0)for(s=s.entanglements,y&=u;0<y;){var _=31-De(y),A=1<<_;u|=s[_],y&=~A}return no=u,Em(),d}function yR(s,u){rt=null,W.H=Fm,u===fd||u===Mm?(u=Dk(),Nt=3):u===Rk?(u=Dk(),Nt=4):Nt=u===OI?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Wr=u,at===null&&(sn=1,Km(s,fi(u,s.current)))}function vR(){var s=W.H;return W.H=Fm,s===null?Fm:s}function bR(){var s=W.A;return W.A=i9,s}function A0(){sn=4,Ko||(pt&4194048)!==pt&&mi.current!==null||(Hu=!0),(Yo&134217727)===0&&(Tl&134217727)===0||Gt===null||Qo(Gt,pt,gi,!1)}function C0(s,u,d){var y=Ct;Ct|=2;var _=vR(),A=bR();(Gt!==s||pt!==u)&&(tg=null,Ju(s,u)),u=!1;var U=sn;e:do try{if(Nt!==0&&at!==null){var z=at,K=Wr;switch(Nt){case 8:S0(),U=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(u=!0);var oe=Nt;if(Nt=0,Wr=null,Xu(s,z,K,oe),d&&Hu){U=0;break e}break;default:oe=Nt,Nt=0,Wr=null,Xu(s,z,K,oe)}}s9(),U=sn;break}catch(he){yR(s,he)}while(!0);return u&&s.shellSuspendCounter++,Ka=gl=null,Ct=y,W.H=_,W.A=A,at===null&&(Gt=null,pt=0,Em()),U}function s9(){for(;at!==null;)xR(at)}function l9(s,u){var d=Ct;Ct|=2;var y=vR(),_=bR();Gt!==s||pt!==u?(tg=null,eg=Qe()+500,Ju(s,u)):Hu=Rr(s,u);e:do try{if(Nt!==0&&at!==null){u=at;var A=Wr;t:switch(Nt){case 1:Nt=0,Wr=null,Xu(s,u,A,1);break;case 2:case 9:if(Pk(A)){Nt=0,Wr=null,_R(u);break}u=function(){Nt!==2&&Nt!==9||Gt!==s||(Nt=7),ca(s)},A.then(u,u);break e;case 3:Nt=7;break e;case 4:Nt=5;break e;case 7:Pk(A)?(Nt=0,Wr=null,_R(u)):(Nt=0,Wr=null,Xu(s,u,A,7));break;case 5:var U=null;switch(at.tag){case 26:U=at.memoizedState;case 5:case 27:var z=at;if(!U||nP(U)){Nt=0,Wr=null;var K=z.sibling;if(K!==null)at=K;else{var oe=z.return;oe!==null?(at=oe,rg(oe)):at=null}break t}}Nt=0,Wr=null,Xu(s,u,A,5);break;case 6:Nt=0,Wr=null,Xu(s,u,A,6);break;case 8:S0(),sn=6;break e;default:throw Error(r(462))}}u9();break}catch(he){yR(s,he)}while(!0);return Ka=gl=null,W.H=y,W.A=_,Ct=d,at!==null?0:(Gt=null,pt=0,Em(),sn)}function u9(){for(;at!==null&&!xe();)xR(at)}function xR(s){var u=WI(s.alternate,s,no);s.memoizedProps=s.pendingProps,u===null?rg(s):at=u}function _R(s){var u=s,d=u.alternate;switch(u.tag){case 15:case 0:u=BI(d,u,u.pendingProps,u.type,void 0,pt);break;case 11:u=BI(d,u,u.pendingProps,u.type.render,u.ref,pt);break;case 5:qx(u);default:YI(d,u),u=at=Tk(u,no),u=WI(d,u,no)}s.memoizedProps=s.pendingProps,u===null?rg(s):at=u}function Xu(s,u,d,y){Ka=gl=null,qx(u),qu=null,xd=0;var _=u.return;try{if(QG(s,_,u,d,pt)){sn=1,Km(s,fi(d,s.current)),at=null;return}}catch(A){if(_!==null)throw at=_,A;sn=1,Km(s,fi(d,s.current)),at=null;return}u.flags&32768?(_t||y===1?s=!0:Hu||(pt&536870912)!==0?s=!1:(Ko=s=!0,(y===2||y===9||y===3||y===6)&&(y=mi.current,y!==null&&y.tag===13&&(y.flags|=16384))),TR(u,s)):rg(u)}function rg(s){var u=s;do{if((u.flags&32768)!==0){TR(u,Ko);return}s=u.return;var d=e9(u.alternate,u,no);if(d!==null){at=d;return}if(u=u.sibling,u!==null){at=u;return}at=u=s}while(u!==null);sn===0&&(sn=5)}function TR(s,u){do{var d=t9(s.alternate,s);if(d!==null){d.flags&=32767,at=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(s=s.sibling,s!==null)){at=s;return}at=s=d}while(s!==null);sn=6,at=null}function wR(s,u,d,y,_,A,U,z,K){s.cancelPendingCommit=null;do ig();while(tr!==0);if((Ct&6)!==0)throw Error(r(327));if(u!==null){if(u===s.current)throw Error(r(177));if(A=u.lanes|u.childLanes,A|=yx,$f(s,d,A,U,z,K),s===Gt&&(at=Gt=null,pt=0),Ku=u,Xo=s,Yu=d,T0=A,w0=_,hR=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,h9(Nn,function(){return NR(),null})):(s.callbackNode=null,s.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=W.T,W.T=null,_=Q.p,Q.p=2,U=Ct,Ct|=4;try{n9(s,u,d)}finally{Ct=U,Q.p=_,W.T=y}}tr=1,ER(),SR(),AR()}}function ER(){if(tr===1){tr=0;var s=Xo,u=Ku,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=W.T,W.T=null;var y=Q.p;Q.p=2;var _=Ct;Ct|=4;try{oR(u,s);var A=U0,U=dk(s.containerInfo),z=A.focusedElem,K=A.selectionRange;if(U!==z&&z&&z.ownerDocument&&fk(z.ownerDocument.documentElement,z)){if(K!==null&&dx(z)){var oe=K.start,he=K.end;if(he===void 0&&(he=oe),"selectionStart"in z)z.selectionStart=oe,z.selectionEnd=Math.min(he,z.value.length);else{var ye=z.ownerDocument||document,ue=ye&&ye.defaultView||window;if(ue.getSelection){var ce=ue.getSelection(),Ke=z.textContent.length,$e=Math.min(K.start,Ke),Lt=K.end===void 0?$e:Math.min(K.end,Ke);!ce.extend&&$e>Lt&&(U=Lt,Lt=$e,$e=U);var ee=ck(z,$e),J=ck(z,Lt);if(ee&&J&&(ce.rangeCount!==1||ce.anchorNode!==ee.node||ce.anchorOffset!==ee.offset||ce.focusNode!==J.node||ce.focusOffset!==J.offset)){var ie=ye.createRange();ie.setStart(ee.node,ee.offset),ce.removeAllRanges(),$e>Lt?(ce.addRange(ie),ce.extend(J.node,J.offset)):(ie.setEnd(J.node,J.offset),ce.addRange(ie))}}}}for(ye=[],ce=z;ce=ce.parentNode;)ce.nodeType===1&&ye.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ye.length;z++){var pe=ye[z];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}gg=!!V0,U0=V0=null}finally{Ct=_,Q.p=y,W.T=d}}s.current=u,tr=2}}function SR(){if(tr===2){tr=0;var s=Xo,u=Ku,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=W.T,W.T=null;var y=Q.p;Q.p=2;var _=Ct;Ct|=4;try{nR(s,u.alternate,u)}finally{Ct=_,Q.p=y,W.T=d}}tr=3}}function AR(){if(tr===4||tr===3){tr=0,Ge();var s=Xo,u=Ku,d=Yu,y=hR;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?tr=5:(tr=0,Ku=Xo=null,CR(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Jo=null),pu(d),u=u.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Mt,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=W.T,_=Q.p,Q.p=2,W.T=null;try{for(var A=s.onRecoverableError,U=0;U<y.length;U++){var z=y[U];A(z.value,{componentStack:z.stack})}}finally{W.T=u,Q.p=_}}(Yu&3)!==0&&ig(),ca(s),_=s.pendingLanes,(d&4194090)!==0&&(_&42)!==0?s===E0?kd++:(kd=0,E0=s):kd=0,Id(0)}}function CR(s,u){(s.pooledCacheLanes&=u)===0&&(u=s.pooledCache,u!=null&&(s.pooledCache=null,ud(u)))}function ig(s){return ER(),SR(),AR(),NR()}function NR(){if(tr!==5)return!1;var s=Xo,u=T0;T0=0;var d=pu(Yu),y=W.T,_=Q.p;try{Q.p=32>d?32:d,W.T=null,d=w0,w0=null;var A=Xo,U=Yu;if(tr=0,Ku=Xo=null,Yu=0,(Ct&6)!==0)throw Error(r(331));var z=Ct;if(Ct|=4,fR(A.current),lR(A,A.current,U,d),Ct=z,Id(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Mt,A)}catch{}return!0}finally{Q.p=_,W.T=y,CR(s,u)}}function kR(s,u,d){u=fi(d,u),u=n0(s.stateNode,u,2),s=Bo(s,u,2),s!==null&&(Da(s,2),ca(s))}function qt(s,u,d){if(s.tag===3)kR(s,s,d);else for(;u!==null;){if(u.tag===3){kR(u,s,d);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Jo===null||!Jo.has(y))){s=fi(d,s),d=MI(2),y=Bo(u,d,2),y!==null&&(DI(d,y,u,s),Da(y,2),ca(y));break}}u=u.return}}function N0(s,u,d){var y=s.pingCache;if(y===null){y=s.pingCache=new a9;var _=new Set;y.set(u,_)}else _=y.get(u),_===void 0&&(_=new Set,y.set(u,_));_.has(d)||(v0=!0,_.add(d),s=c9.bind(null,s,u,d),u.then(s,s))}function c9(s,u,d){var y=s.pingCache;y!==null&&y.delete(u),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Gt===s&&(pt&d)===d&&(sn===4||sn===3&&(pt&62914560)===pt&&300>Qe()-_0?(Ct&2)===0&&Ju(s,0):b0|=d,Wu===pt&&(Wu=0)),ca(s)}function IR(s,u){u===0&&(u=Uf()),s=Pu(s,u),s!==null&&(Da(s,u),ca(s))}function f9(s){var u=s.memoizedState,d=0;u!==null&&(d=u.retryLane),IR(s,d)}function d9(s,u){var d=0;switch(s.tag){case 13:var y=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:y=s.stateNode;break;case 22:y=s.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),IR(s,d)}function h9(s,u){return lt(s,u)}var ag=null,Qu=null,k0=!1,og=!1,I0=!1,wl=0;function ca(s){s!==Qu&&s.next===null&&(Qu===null?ag=Qu=s:Qu=Qu.next=s),og=!0,k0||(k0=!0,m9())}function Id(s,u){if(!I0&&og){I0=!0;do for(var d=!1,y=ag;y!==null;){if(s!==0){var _=y.pendingLanes;if(_===0)var A=0;else{var U=y.suspendedLanes,z=y.pingedLanes;A=(1<<31-De(42|s)+1)-1,A&=_&~(U&~z),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(d=!0,DR(y,A))}else A=pt,A=Ir(y,y===Gt?A:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(A&3)===0||Rr(y,A)||(d=!0,DR(y,A));y=y.next}while(d);I0=!1}}function p9(){RR()}function RR(){og=k0=!1;var s=0;wl!==0&&(w9()&&(s=wl),wl=0);for(var u=Qe(),d=null,y=ag;y!==null;){var _=y.next,A=PR(y,u);A===0?(y.next=null,d===null?ag=_:d.next=_,_===null&&(Qu=d)):(d=y,(s!==0||(A&3)!==0)&&(og=!0)),y=_}Id(s)}function PR(s,u){for(var d=s.suspendedLanes,y=s.pingedLanes,_=s.expirationTimes,A=s.pendingLanes&-62914561;0<A;){var U=31-De(A),z=1<<U,K=_[U];K===-1?((z&d)===0||(z&y)!==0)&&(_[U]=Ks(z,u)):K<=u&&(s.expiredLanes|=z),A&=~z}if(u=Gt,d=pt,d=Ir(s,s===u?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y=s.callbackNode,d===0||s===u&&(Nt===2||Nt===9)||s.cancelPendingCommit!==null)return y!==null&&y!==null&&ze(y),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Rr(s,d)){if(u=d&-d,u===s.callbackPriority)return u;switch(y!==null&&ze(y),pu(d)){case 2:case 8:d=Cn;break;case 32:d=Nn;break;case 268435456:d=kn;break;default:d=Nn}return y=MR.bind(null,s),d=lt(d,y),s.callbackPriority=u,s.callbackNode=d,u}return y!==null&&y!==null&&ze(y),s.callbackPriority=2,s.callbackNode=null,2}function MR(s,u){if(tr!==0&&tr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(ig()&&s.callbackNode!==d)return null;var y=pt;return y=Ir(s,s===Gt?y:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),y===0?null:(mR(s,y,u),PR(s,Qe()),s.callbackNode!=null&&s.callbackNode===d?MR.bind(null,s):null)}function DR(s,u){if(ig())return null;mR(s,u,!0)}function m9(){S9(function(){(Ct&6)!==0?lt(Pt,p9):RR()})}function R0(){return wl===0&&(wl=Pa()),wl}function OR(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:xu(""+s)}function jR(s,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,s.id&&d.setAttribute("form",s.id),u.parentNode.insertBefore(d,u),s=new FormData(s),d.parentNode.removeChild(d),s}function g9(s,u,d,y,_){if(u==="submit"&&d&&d.stateNode===_){var A=OR((_[yn]||null).action),U=y.submitter;U&&(u=(u=U[yn]||null)?OR(u.formAction):U.getAttribute("formAction"),u!==null&&(A=u,U=null));var z=new _u("action","action",null,y,_);s.push({event:z,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(wl!==0){var K=U?jR(_,U):new FormData(_);Xx(d,{pending:!0,data:K,method:_.method,action:A},null,K)}}else typeof A=="function"&&(z.preventDefault(),K=U?jR(_,U):new FormData(_),Xx(d,{pending:!0,data:K,method:_.method,action:A},A,K))},currentTarget:_}]})}}for(var P0=0;P0<gx.length;P0++){var M0=gx[P0],y9=M0.toLowerCase(),v9=M0[0].toUpperCase()+M0.slice(1);Oi(y9,"on"+v9)}Oi(mk,"onAnimationEnd"),Oi(gk,"onAnimationIteration"),Oi(yk,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(OG,"onTransitionRun"),Oi(jG,"onTransitionStart"),Oi(LG,"onTransitionCancel"),Oi(vk,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rd));function LR(s,u){u=(u&4)!==0;for(var d=0;d<s.length;d++){var y=s[d],_=y.event;y=y.listeners;e:{var A=void 0;if(u)for(var U=y.length-1;0<=U;U--){var z=y[U],K=z.instance,oe=z.currentTarget;if(z=z.listener,K!==A&&_.isPropagationStopped())break e;A=z,_.currentTarget=oe;try{A(_)}catch(he){Wm(he)}_.currentTarget=null,A=K}else for(U=0;U<y.length;U++){if(z=y[U],K=z.instance,oe=z.currentTarget,z=z.listener,K!==A&&_.isPropagationStopped())break e;A=z,_.currentTarget=oe;try{A(_)}catch(he){Wm(he)}_.currentTarget=null,A=K}}}}function ot(s,u){var d=u[qf];d===void 0&&(d=u[qf]=new Set);var y=s+"__bubble";d.has(y)||(VR(u,s,2,!1),d.add(y))}function D0(s,u,d){var y=0;u&&(y|=4),VR(d,s,y,u)}var sg="_reactListening"+Math.random().toString(36).slice(2);function O0(s){if(!s[sg]){s[sg]=!0,Ff.forEach(function(d){d!=="selectionchange"&&(b9.has(d)||D0(d,!1,s),D0(d,!0,s))});var u=s.nodeType===9?s:s.ownerDocument;u===null||u[sg]||(u[sg]=!0,D0("selectionchange",!1,u))}}function VR(s,u,d,y){switch(lP(u)){case 2:var _=H9;break;case 8:_=W9;break;default:_=Y0}d=_.bind(null,u,d,s),_=void 0,!ui||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(_=!0),y?_!==void 0?s.addEventListener(u,d,{capture:!0,passive:_}):s.addEventListener(u,d,!0):_!==void 0?s.addEventListener(u,d,{passive:_}):s.addEventListener(u,d,!1)}function j0(s,u,d,y,_){var A=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var z=y.stateNode.containerInfo;if(z===_)break;if(U===4)for(U=y.return;U!==null;){var K=U.tag;if((K===3||K===4)&&U.stateNode.containerInfo===_)return;U=U.return}for(;z!==null;){if(U=Oa(z),U===null)return;if(K=U.tag,K===5||K===6||K===26||K===27){y=A=U;continue e}z=z.parentNode}}y=y.return}um(function(){var oe=A,he=li(d),ye=[];e:{var ue=bk.get(s);if(ue!==void 0){var ce=_u,Ke=s;switch(s){case"keypress":if(ta(d)===0)break e;case"keydown":case"keyup":ce=Cu;break;case"focusin":Ke="focus",ce=Eu;break;case"focusout":Ke="blur",ce=Eu;break;case"beforeblur":case"afterblur":ce=Eu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=ym;break;case mk:case gk:case yk:ce=Su;break;case vk:ce=bm;break;case"scroll":case"scrollend":ce=cm;break;case"wheel":ce=Nu;break;case"copy":case"cut":case"paste":ce=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=td;break;case"toggle":case"beforetoggle":ce=_m}var $e=(u&4)!==0,Lt=!$e&&(s==="scroll"||s==="scrollend"),ee=$e?ue!==null?ue+"Capture":null:ue;$e=[];for(var J=oe,ie;J!==null;){var pe=J;if(ie=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ie===null||ee===null||(pe=nl(J,ee),pe!=null&&$e.push(Pd(J,pe,ie))),Lt)break;J=J.return}0<$e.length&&(ue=new ce(ue,Ke,null,d,he),ye.push({event:ue,listeners:$e}))}}if((u&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ue&&d!==Ua&&(Ke=d.relatedTarget||d.fromElement)&&(Oa(Ke)||Ke[oi]))break e;if((ce||ue)&&(ue=he.window===he?he:(ue=he.ownerDocument)?ue.defaultView||ue.parentWindow:window,ce?(Ke=d.relatedTarget||d.toElement,ce=oe,Ke=Ke?Oa(Ke):null,Ke!==null&&(Lt=a(Ke),$e=Ke.tag,Ke!==Lt||$e!==5&&$e!==27&&$e!==6)&&(Ke=null)):(ce=null,Ke=oe),ce!==Ke)){if($e=ci,pe="onMouseLeave",ee="onMouseEnter",J="mouse",(s==="pointerout"||s==="pointerover")&&($e=td,pe="onPointerLeave",ee="onPointerEnter",J="pointer"),Lt=ce==null?ue:Xi(ce),ie=Ke==null?ue:Xi(Ke),ue=new $e(pe,J+"leave",ce,d,he),ue.target=Lt,ue.relatedTarget=ie,pe=null,Oa(he)===oe&&($e=new $e(ee,J+"enter",Ke,d,he),$e.target=ie,$e.relatedTarget=Lt,pe=$e),Lt=pe,ce&&Ke)t:{for($e=ce,ee=Ke,J=0,ie=$e;ie;ie=Zu(ie))J++;for(ie=0,pe=ee;pe;pe=Zu(pe))ie++;for(;0<J-ie;)$e=Zu($e),J--;for(;0<ie-J;)ee=Zu(ee),ie--;for(;J--;){if($e===ee||ee!==null&&$e===ee.alternate)break t;$e=Zu($e),ee=Zu(ee)}$e=null}else $e=null;ce!==null&&UR(ye,ue,ce,$e,!1),Ke!==null&&Lt!==null&&UR(ye,Lt,Ke,$e,!0)}}e:{if(ue=oe?Xi(oe):window,ce=ue.nodeName&&ue.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ue.type==="file")var Pe=ik;else if(Mn(ue))if(ak)Pe=PG;else{Pe=IG;var it=kG}else ce=ue.nodeName,!ce||ce.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?oe&&Kf(oe.elementType)&&(Pe=ik):Pe=RG;if(Pe&&(Pe=Pe(s,oe))){za(ye,Pe,d,he);break e}it&&it(s,ue,oe),s==="focusout"&&oe&&ue.type==="number"&&oe.memoizedProps.value!=null&&jo(ue,"number",ue.value)}switch(it=oe?Xi(oe):window,s){case"focusin":(Mn(it)||it.contentEditable==="true")&&(ku=it,hx=oe,id=null);break;case"focusout":id=hx=ku=null;break;case"mousedown":px=!0;break;case"contextmenu":case"mouseup":case"dragend":px=!1,hk(ye,d,he);break;case"selectionchange":if(DG)break;case"keydown":case"keyup":hk(ye,d,he)}var Le;if(ia)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else dt?fe(s,d)&&(qe="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(qe="onCompositionStart");qe&&(L&&d.locale!=="ko"&&(dt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&dt&&(Le=Jf()):(ea=he,Lo="value"in ea?ea.value:ea.textContent,dt=!0)),it=lg(oe,qe),0<it.length&&(qe=new Zf(qe,s,null,d,he),ye.push({event:qe,listeners:it}),Le?qe.data=Le:(Le=Se(d),Le!==null&&(qe.data=Le)))),(Le=k?Pn(s,d):ht(s,d))&&(qe=lg(oe,"onBeforeInput"),0<qe.length&&(it=new Zf("onBeforeInput","beforeinput",null,d,he),ye.push({event:it,listeners:qe}),it.data=Le)),g9(ye,s,oe,d,he)}LR(ye,u)})}function Pd(s,u,d){return{instance:s,listener:u,currentTarget:d}}function lg(s,u){for(var d=u+"Capture",y=[];s!==null;){var _=s,A=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||A===null||(_=nl(s,d),_!=null&&y.unshift(Pd(s,_,A)),_=nl(s,u),_!=null&&y.push(Pd(s,_,A))),s.tag===3)return y;s=s.return}return[]}function Zu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function UR(s,u,d,y,_){for(var A=u._reactName,U=[];d!==null&&d!==y;){var z=d,K=z.alternate,oe=z.stateNode;if(z=z.tag,K!==null&&K===y)break;z!==5&&z!==26&&z!==27||oe===null||(K=oe,_?(oe=nl(d,A),oe!=null&&U.unshift(Pd(d,oe,K))):_||(oe=nl(d,A),oe!=null&&U.push(Pd(d,oe,K)))),d=d.return}U.length!==0&&s.push({event:u,listeners:U})}var x9=/\r\n?/g,_9=/\u0000|\uFFFD/g;function $R(s){return(typeof s=="string"?s:""+s).replace(x9,`
`).replace(_9,"")}function BR(s,u){return u=$R(u),$R(s)===u}function ug(){}function jt(s,u,d,y,_,A){switch(d){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||si(s,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&si(s,""+y);break;case"className":Qi(s,"class",y);break;case"tabIndex":Qi(s,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Qi(s,d,y);break;case"style":Wf(s,y,A);break;case"data":if(u!=="object"){Qi(s,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||d!=="href")){s.removeAttribute(d);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(d);break}y=xu(""+y),s.setAttribute(d,y);break;case"action":case"formAction":if(typeof y=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(d==="formAction"?(u!=="input"&&jt(s,u,"name",_.name,_,null),jt(s,u,"formEncType",_.formEncType,_,null),jt(s,u,"formMethod",_.formMethod,_,null),jt(s,u,"formTarget",_.formTarget,_,null)):(jt(s,u,"encType",_.encType,_,null),jt(s,u,"method",_.method,_,null),jt(s,u,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){s.removeAttribute(d);break}y=xu(""+y),s.setAttribute(d,y);break;case"onClick":y!=null&&(s.onclick=ug);break;case"onScroll":y!=null&&ot("scroll",s);break;case"onScrollEnd":y!=null&&ot("scrollend",s);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(d=y.__html,d!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":s.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){s.removeAttribute("xlink:href");break}d=xu(""+y),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,""+y):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":y===!0?s.setAttribute(d,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?s.setAttribute(d,y):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?s.setAttribute(d,y):s.removeAttribute(d);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?s.removeAttribute(d):s.setAttribute(d,y);break;case"popover":ot("beforetoggle",s),ot("toggle",s),Oo(s,"popover",y);break;case"xlinkActuate":Qn(s,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Qn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Qn(s,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Qn(s,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Qn(s,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Qn(s,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Qn(s,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Qn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Qn(s,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Oo(s,"is",y);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=ox.get(d)||d,Oo(s,d,y))}}function L0(s,u,d,y,_,A){switch(d){case"style":Wf(s,y,A);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(d=y.__html,d!=null){if(_.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof y=="string"?si(s,y):(typeof y=="number"||typeof y=="bigint")&&si(s,""+y);break;case"onScroll":y!=null&&ot("scroll",s);break;case"onScrollEnd":y!=null&&ot("scrollend",s);break;case"onClick":y!=null&&(s.onclick=ug);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mu.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),u=d.slice(2,_?d.length-7:void 0),A=s[yn]||null,A=A!=null?A[d]:null,typeof A=="function"&&s.removeEventListener(u,A,_),typeof y=="function")){typeof A!="function"&&A!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(u,y,_);break e}d in s?s[d]=y:y===!0?s.setAttribute(d,""):Oo(s,d,y)}}}function nr(s,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",s),ot("load",s);var y=!1,_=!1,A;for(A in d)if(d.hasOwnProperty(A)){var U=d[A];if(U!=null)switch(A){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(s,u,A,U,d,null)}}_&&jt(s,u,"srcSet",d.srcSet,d,null),y&&jt(s,u,"src",d.src,d,null);return;case"input":ot("invalid",s);var z=A=U=_=null,K=null,oe=null;for(y in d)if(d.hasOwnProperty(y)){var he=d[y];if(he!=null)switch(y){case"name":_=he;break;case"type":U=he;break;case"checked":K=he;break;case"defaultChecked":oe=he;break;case"value":A=he;break;case"defaultValue":z=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,u));break;default:jt(s,u,y,he,d,null)}}Zs(s,A,z,K,oe,U,_,!1),bu(s);return;case"select":ot("invalid",s),y=U=A=null;for(_ in d)if(d.hasOwnProperty(_)&&(z=d[_],z!=null))switch(_){case"value":A=z;break;case"defaultValue":U=z;break;case"multiple":y=z;default:jt(s,u,_,z,d,null)}u=A,d=U,s.multiple=!!y,u!=null?Va(s,!!y,u,!1):d!=null&&Va(s,!!y,d,!0);return;case"textarea":ot("invalid",s),A=_=y=null;for(U in d)if(d.hasOwnProperty(U)&&(z=d[U],z!=null))switch(U){case"value":y=z;break;case"defaultValue":_=z;break;case"children":A=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:jt(s,u,U,z,d,null)}el(s,y,_,A),bu(s);return;case"option":for(K in d)if(d.hasOwnProperty(K)&&(y=d[K],y!=null))switch(K){case"selected":s.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:jt(s,u,K,y,d,null)}return;case"dialog":ot("beforetoggle",s),ot("toggle",s),ot("cancel",s),ot("close",s);break;case"iframe":case"object":ot("load",s);break;case"video":case"audio":for(y=0;y<Rd.length;y++)ot(Rd[y],s);break;case"image":ot("error",s),ot("load",s);break;case"details":ot("toggle",s);break;case"embed":case"source":case"link":ot("error",s),ot("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in d)if(d.hasOwnProperty(oe)&&(y=d[oe],y!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:jt(s,u,oe,y,d,null)}return;default:if(Kf(u)){for(he in d)d.hasOwnProperty(he)&&(y=d[he],y!==void 0&&L0(s,u,he,y,d,void 0));return}}for(z in d)d.hasOwnProperty(z)&&(y=d[z],y!=null&&jt(s,u,z,y,d,null))}function T9(s,u,d,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,A=null,U=null,z=null,K=null,oe=null,he=null;for(ce in d){var ye=d[ce];if(d.hasOwnProperty(ce)&&ye!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":K=ye;default:y.hasOwnProperty(ce)||jt(s,u,ce,null,y,ye)}}for(var ue in y){var ce=y[ue];if(ye=d[ue],y.hasOwnProperty(ue)&&(ce!=null||ye!=null))switch(ue){case"type":A=ce;break;case"name":_=ce;break;case"checked":oe=ce;break;case"defaultChecked":he=ce;break;case"value":U=ce;break;case"defaultValue":z=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,u));break;default:ce!==ye&&jt(s,u,ue,ce,y,ye)}}qr(s,U,z,K,oe,he,A,_);return;case"select":ce=U=z=ue=null;for(A in d)if(K=d[A],d.hasOwnProperty(A)&&K!=null)switch(A){case"value":break;case"multiple":ce=K;default:y.hasOwnProperty(A)||jt(s,u,A,null,y,K)}for(_ in y)if(A=y[_],K=d[_],y.hasOwnProperty(_)&&(A!=null||K!=null))switch(_){case"value":ue=A;break;case"defaultValue":z=A;break;case"multiple":U=A;default:A!==K&&jt(s,u,_,A,y,K)}u=z,d=U,y=ce,ue!=null?Va(s,!!d,ue,!1):!!y!=!!d&&(u!=null?Va(s,!!d,u,!0):Va(s,!!d,d?[]:"",!1));return;case"textarea":ce=ue=null;for(z in d)if(_=d[z],d.hasOwnProperty(z)&&_!=null&&!y.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:jt(s,u,z,null,y,_)}for(U in y)if(_=y[U],A=d[U],y.hasOwnProperty(U)&&(_!=null||A!=null))switch(U){case"value":ue=_;break;case"defaultValue":ce=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==A&&jt(s,u,U,_,y,A)}Dt(s,ue,ce);return;case"option":for(var Ke in d)if(ue=d[Ke],d.hasOwnProperty(Ke)&&ue!=null&&!y.hasOwnProperty(Ke))switch(Ke){case"selected":s.selected=!1;break;default:jt(s,u,Ke,null,y,ue)}for(K in y)if(ue=y[K],ce=d[K],y.hasOwnProperty(K)&&ue!==ce&&(ue!=null||ce!=null))switch(K){case"selected":s.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:jt(s,u,K,ue,y,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in d)ue=d[$e],d.hasOwnProperty($e)&&ue!=null&&!y.hasOwnProperty($e)&&jt(s,u,$e,null,y,ue);for(oe in y)if(ue=y[oe],ce=d[oe],y.hasOwnProperty(oe)&&ue!==ce&&(ue!=null||ce!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,u));break;default:jt(s,u,oe,ue,y,ce)}return;default:if(Kf(u)){for(var Lt in d)ue=d[Lt],d.hasOwnProperty(Lt)&&ue!==void 0&&!y.hasOwnProperty(Lt)&&L0(s,u,Lt,void 0,y,ue);for(he in y)ue=y[he],ce=d[he],!y.hasOwnProperty(he)||ue===ce||ue===void 0&&ce===void 0||L0(s,u,he,ue,y,ce);return}}for(var ee in d)ue=d[ee],d.hasOwnProperty(ee)&&ue!=null&&!y.hasOwnProperty(ee)&&jt(s,u,ee,null,y,ue);for(ye in y)ue=y[ye],ce=d[ye],!y.hasOwnProperty(ye)||ue===ce||ue==null&&ce==null||jt(s,u,ye,ue,y,ce)}var V0=null,U0=null;function cg(s){return s.nodeType===9?s:s.ownerDocument}function qR(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function FR(s,u){if(s===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&u==="foreignObject"?0:s}function $0(s,u){return s==="textarea"||s==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var B0=null;function w9(){var s=window.event;return s&&s.type==="popstate"?s===B0?!1:(B0=s,!0):(B0=null,!1)}var zR=typeof setTimeout=="function"?setTimeout:void 0,E9=typeof clearTimeout=="function"?clearTimeout:void 0,GR=typeof Promise=="function"?Promise:void 0,S9=typeof queueMicrotask=="function"?queueMicrotask:typeof GR<"u"?function(s){return GR.resolve(null).then(s).catch(A9)}:zR;function A9(s){setTimeout(function(){throw s})}function Zo(s){return s==="head"}function HR(s,u){var d=u,y=0,_=0;do{var A=d.nextSibling;if(s.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(0<y&&8>y){d=y;var U=s.ownerDocument;if(d&1&&Md(U.documentElement),d&2&&Md(U.body),d&4)for(d=U.head,Md(d),U=d.firstChild;U;){var z=U.nextSibling,K=U.nodeName;U[Ys]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&U.rel.toLowerCase()==="stylesheet"||d.removeChild(U),U=z}}if(_===0){s.removeChild(A),Bd(u);return}_--}else d==="$"||d==="$?"||d==="$!"?_++:y=d.charCodeAt(0)-48;else y=0;d=A}while(d);Bd(u)}function q0(s){var u=s.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":q0(d),Do(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function C9(s,u,d,y){for(;s.nodeType===1;){var _=d;if(s.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(y){if(!s[Ys])switch(u){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(A=s.getAttribute("rel"),A==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(A!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(A=s.getAttribute("src"),(A!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&A&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(u==="input"&&s.type==="hidden"){var A=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===A)return s}else return s;if(s=Li(s.nextSibling),s===null)break}return null}function N9(s,u,d){if(u==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Li(s.nextSibling),s===null))return null;return s}function F0(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function k9(s,u){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")u();else{var y=function(){u(),d.removeEventListener("DOMContentLoaded",y)};d.addEventListener("DOMContentLoaded",y),s._reactRetry=y}}function Li(s){for(;s!=null;s=s.nextSibling){var u=s.nodeType;if(u===1||u===3)break;if(u===8){if(u=s.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return s}var z0=null;function WR(s){s=s.previousSibling;for(var u=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(u===0)return s;u--}else d==="/$"&&u++}s=s.previousSibling}return null}function KR(s,u,d){switch(u=cg(d),s){case"html":if(s=u.documentElement,!s)throw Error(r(452));return s;case"head":if(s=u.head,!s)throw Error(r(453));return s;case"body":if(s=u.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Md(s){for(var u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Do(s)}var yi=new Map,YR=new Set;function fg(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ro=Q.d;Q.d={f:I9,r:R9,D:P9,C:M9,L:D9,m:O9,X:L9,S:j9,M:V9};function I9(){var s=ro.f(),u=ng();return s||u}function R9(s){var u=Ji(s);u!==null&&u.tag===5&&u.type==="form"?mI(u):ro.r(s)}var ec=typeof document>"u"?null:document;function JR(s,u,d){var y=ec;if(y&&typeof u=="string"&&u){var _=vn(u);_='link[rel="'+s+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),YR.has(_)||(YR.add(_),s={rel:s,crossOrigin:d,href:u},y.querySelector(_)===null&&(u=y.createElement("link"),nr(u,"link",s),dn(u),y.head.appendChild(u)))}}function P9(s){ro.D(s),JR("dns-prefetch",s,null)}function M9(s,u){ro.C(s,u),JR("preconnect",s,u)}function D9(s,u,d){ro.L(s,u,d);var y=ec;if(y&&s&&u){var _='link[rel="preload"][as="'+vn(u)+'"]';u==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+vn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+vn(d.imageSizes)+'"]')):_+='[href="'+vn(s)+'"]';var A=_;switch(u){case"style":A=tc(s);break;case"script":A=nc(s)}yi.has(A)||(s=h({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:s,as:u},d),yi.set(A,s),y.querySelector(_)!==null||u==="style"&&y.querySelector(Dd(A))||u==="script"&&y.querySelector(Od(A))||(u=y.createElement("link"),nr(u,"link",s),dn(u),y.head.appendChild(u)))}}function O9(s,u){ro.m(s,u);var d=ec;if(d&&s){var y=u&&typeof u.as=="string"?u.as:"script",_='link[rel="modulepreload"][as="'+vn(y)+'"][href="'+vn(s)+'"]',A=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=nc(s)}if(!yi.has(A)&&(s=h({rel:"modulepreload",href:s},u),yi.set(A,s),d.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Od(A)))return}y=d.createElement("link"),nr(y,"link",s),dn(y),d.head.appendChild(y)}}}function j9(s,u,d){ro.S(s,u,d);var y=ec;if(y&&s){var _=Tr(y).hoistableStyles,A=tc(s);u=u||"default";var U=_.get(A);if(!U){var z={loading:0,preload:null};if(U=y.querySelector(Dd(A)))z.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":u},d),(d=yi.get(A))&&G0(s,d);var K=U=y.createElement("link");dn(K),nr(K,"link",s),K._p=new Promise(function(oe,he){K.onload=oe,K.onerror=he}),K.addEventListener("load",function(){z.loading|=1}),K.addEventListener("error",function(){z.loading|=2}),z.loading|=4,dg(U,u,y)}U={type:"stylesheet",instance:U,count:1,state:z},_.set(A,U)}}}function L9(s,u){ro.X(s,u);var d=ec;if(d&&s){var y=Tr(d).hoistableScripts,_=nc(s),A=y.get(_);A||(A=d.querySelector(Od(_)),A||(s=h({src:s,async:!0},u),(u=yi.get(_))&&H0(s,u),A=d.createElement("script"),dn(A),nr(A,"link",s),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(_,A))}}function V9(s,u){ro.M(s,u);var d=ec;if(d&&s){var y=Tr(d).hoistableScripts,_=nc(s),A=y.get(_);A||(A=d.querySelector(Od(_)),A||(s=h({src:s,async:!0,type:"module"},u),(u=yi.get(_))&&H0(s,u),A=d.createElement("script"),dn(A),nr(A,"link",s),d.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},y.set(_,A))}}function XR(s,u,d,y){var _=(_=Ce.current)?fg(_):null;if(!_)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=tc(d.href),d=Tr(_).hoistableStyles,y=d.get(u),y||(y={type:"style",instance:null,count:0,state:null},d.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=tc(d.href);var A=Tr(_).hoistableStyles,U=A.get(s);if(U||(_=_.ownerDocument||_,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(s,U),(A=_.querySelector(Dd(s)))&&!A._p&&(U.instance=A,U.state.loading=5),yi.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},yi.set(s,d),A||U9(_,s,d,U.state))),u&&y===null)throw Error(r(528,""));return U}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=nc(d),d=Tr(_).hoistableScripts,y=d.get(u),y||(y={type:"script",instance:null,count:0,state:null},d.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function tc(s){return'href="'+vn(s)+'"'}function Dd(s){return'link[rel="stylesheet"]['+s+"]"}function QR(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function U9(s,u,d,y){s.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=s.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),nr(u,"link",d),dn(u),s.head.appendChild(u))}function nc(s){return'[src="'+vn(s)+'"]'}function Od(s){return"script[async]"+s}function ZR(s,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var y=s.querySelector('style[data-href~="'+vn(d.href)+'"]');if(y)return u.instance=y,dn(y),y;var _=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return y=(s.ownerDocument||s).createElement("style"),dn(y),nr(y,"style",_),dg(y,d.precedence,s),u.instance=y;case"stylesheet":_=tc(d.href);var A=s.querySelector(Dd(_));if(A)return u.state.loading|=4,u.instance=A,dn(A),A;y=QR(d),(_=yi.get(_))&&G0(y,_),A=(s.ownerDocument||s).createElement("link"),dn(A);var U=A;return U._p=new Promise(function(z,K){U.onload=z,U.onerror=K}),nr(A,"link",y),u.state.loading|=4,dg(A,d.precedence,s),u.instance=A;case"script":return A=nc(d.src),(_=s.querySelector(Od(A)))?(u.instance=_,dn(_),_):(y=d,(_=yi.get(A))&&(y=h({},d),H0(y,_)),s=s.ownerDocument||s,_=s.createElement("script"),dn(_),nr(_,"link",y),s.head.appendChild(_),u.instance=_);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,dg(y,d.precedence,s));return u.instance}function dg(s,u,d){for(var y=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,A=_,U=0;U<y.length;U++){var z=y[U];if(z.dataset.precedence===u)A=z;else if(A!==_)break}A?A.parentNode.insertBefore(s,A.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(s,u.firstChild))}function G0(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.title==null&&(s.title=u.title)}function H0(s,u){s.crossOrigin==null&&(s.crossOrigin=u.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=u.referrerPolicy),s.integrity==null&&(s.integrity=u.integrity)}var hg=null;function eP(s,u,d){if(hg===null){var y=new Map,_=hg=new Map;_.set(d,y)}else _=hg,y=_.get(d),y||(y=new Map,_.set(d,y));if(y.has(s))return y;for(y.set(s,null),d=d.getElementsByTagName(s),_=0;_<d.length;_++){var A=d[_];if(!(A[Ys]||A[Rn]||s==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var U=A.getAttribute(u)||"";U=s+U;var z=y.get(U);z?z.push(A):y.set(U,[A])}}return y}function tP(s,u,d){s=s.ownerDocument||s,s.head.insertBefore(d,u==="title"?s.querySelector("head > title"):null)}function $9(s,u,d){if(d===1||u.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return s=u.disabled,typeof u.precedence=="string"&&s==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function nP(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jd=null;function B9(){}function q9(s,u,d){if(jd===null)throw Error(r(475));var y=jd;if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=tc(d.href),A=s.querySelector(Dd(_));if(A){s=A._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(y.count++,y=pg.bind(y),s.then(y,y)),u.state.loading|=4,u.instance=A,dn(A);return}A=s.ownerDocument||s,d=QR(d),(_=yi.get(_))&&G0(d,_),A=A.createElement("link"),dn(A);var U=A;U._p=new Promise(function(z,K){U.onload=z,U.onerror=K}),nr(A,"link",d),u.instance=A}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(y.count++,u=pg.bind(y),s.addEventListener("load",u),s.addEventListener("error",u))}}function F9(){if(jd===null)throw Error(r(475));var s=jd;return s.stylesheets&&s.count===0&&W0(s,s.stylesheets),0<s.count?function(u){var d=setTimeout(function(){if(s.stylesheets&&W0(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(d)}}:null}function pg(){if(this.count--,this.count===0){if(this.stylesheets)W0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var mg=null;function W0(s,u){s.stylesheets=null,s.unsuspend!==null&&(s.count++,mg=new Map,u.forEach(z9,s),mg=null,pg.call(s))}function z9(s,u){if(!(u.state.loading&4)){var d=mg.get(s);if(d)var y=d.get(null);else{d=new Map,mg.set(s,d);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<_.length;A++){var U=_[A];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(d.set(U.dataset.precedence,U),y=U)}y&&d.set(null,y)}_=u.instance,U=_.getAttribute("data-precedence"),A=d.get(U)||y,A===y&&d.set(null,_),d.set(U,_),this.count++,y=pg.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),A?A.parentNode.insertBefore(_,A.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),u.state.loading|=4}}var Ld={$$typeof:N,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function G9(s,u,d,y,_,A,U,z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=A,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function rP(s,u,d,y,_,A,U,z,K,oe,he,ye){return s=new G9(s,u,d,U,z,K,oe,ye),u=1,A===!0&&(u|=24),A=zr(3,null,null,u),s.current=A,A.stateNode=s,u=Nx(),u.refCount++,s.pooledCache=u,u.refCount++,A.memoizedState={element:y,isDehydrated:d,cache:u},Px(A),s}function iP(s){return s?(s=Mu,s):Mu}function aP(s,u,d,y,_,A){_=iP(_),y.context===null?y.context=_:y.pendingContext=_,y=$o(u),y.payload={element:d},A=A===void 0?null:A,A!==null&&(y.callback=A),d=Bo(s,y,u),d!==null&&(Yr(d,s,u),hd(d,s,u))}function oP(s,u){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<u?d:u}}function K0(s,u){oP(s,u),(s=s.alternate)&&oP(s,u)}function sP(s){if(s.tag===13){var u=Pu(s,67108864);u!==null&&Yr(u,s,67108864),K0(s,67108864)}}var gg=!0;function H9(s,u,d,y){var _=W.T;W.T=null;var A=Q.p;try{Q.p=2,Y0(s,u,d,y)}finally{Q.p=A,W.T=_}}function W9(s,u,d,y){var _=W.T;W.T=null;var A=Q.p;try{Q.p=8,Y0(s,u,d,y)}finally{Q.p=A,W.T=_}}function Y0(s,u,d,y){if(gg){var _=J0(y);if(_===null)j0(s,u,y,yg,d),uP(s,y);else if(Y9(_,s,u,d,y))y.stopPropagation();else if(uP(s,y),u&4&&-1<K9.indexOf(s)){for(;_!==null;){var A=Ji(_);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var U=In(A.pendingLanes);if(U!==0){var z=A;for(z.pendingLanes|=2,z.entangledLanes|=2;U;){var K=1<<31-De(U);z.entanglements[1]|=K,U&=~K}ca(A),(Ct&6)===0&&(eg=Qe()+500,Id(0))}}break;case 13:z=Pu(A,2),z!==null&&Yr(z,A,2),ng(),K0(A,2)}if(A=J0(y),A===null&&j0(s,u,y,yg,d),A===_)break;_=A}_!==null&&y.stopPropagation()}else j0(s,u,y,null,d)}}function J0(s){return s=li(s),X0(s)}var yg=null;function X0(s){if(yg=null,s=Oa(s),s!==null){var u=a(s);if(u===null)s=null;else{var d=u.tag;if(d===13){if(s=o(u),s!==null)return s;s=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;s=null}else u!==s&&(s=null)}}return yg=s,null}function lP(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case Pt:return 2;case Cn:return 8;case Nn:case br:return 32;case kn:return 268435456;default:return 32}default:return 32}}var Q0=!1,es=null,ts=null,ns=null,Vd=new Map,Ud=new Map,rs=[],K9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uP(s,u){switch(s){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Vd.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ud.delete(u.pointerId)}}function $d(s,u,d,y,_,A){return s===null||s.nativeEvent!==A?(s={blockedOn:u,domEventName:d,eventSystemFlags:y,nativeEvent:A,targetContainers:[_]},u!==null&&(u=Ji(u),u!==null&&sP(u)),s):(s.eventSystemFlags|=y,u=s.targetContainers,_!==null&&u.indexOf(_)===-1&&u.push(_),s)}function Y9(s,u,d,y,_){switch(u){case"focusin":return es=$d(es,s,u,d,y,_),!0;case"dragenter":return ts=$d(ts,s,u,d,y,_),!0;case"mouseover":return ns=$d(ns,s,u,d,y,_),!0;case"pointerover":var A=_.pointerId;return Vd.set(A,$d(Vd.get(A)||null,s,u,d,y,_)),!0;case"gotpointercapture":return A=_.pointerId,Ud.set(A,$d(Ud.get(A)||null,s,u,d,y,_)),!0}return!1}function cP(s){var u=Oa(s.target);if(u!==null){var d=a(u);if(d!==null){if(u=d.tag,u===13){if(u=o(d),u!==null){s.blockedOn=u,nm(s.priority,function(){if(d.tag===13){var y=Kr();y=Ro(y);var _=Pu(d,y);_!==null&&Yr(_,d,y),K0(d,y)}});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function vg(s){if(s.blockedOn!==null)return!1;for(var u=s.targetContainers;0<u.length;){var d=J0(s.nativeEvent);if(d===null){d=s.nativeEvent;var y=new d.constructor(d.type,d);Ua=y,d.target.dispatchEvent(y),Ua=null}else return u=Ji(d),u!==null&&sP(u),s.blockedOn=d,!1;u.shift()}return!0}function fP(s,u,d){vg(s)&&d.delete(u)}function J9(){Q0=!1,es!==null&&vg(es)&&(es=null),ts!==null&&vg(ts)&&(ts=null),ns!==null&&vg(ns)&&(ns=null),Vd.forEach(fP),Ud.forEach(fP)}function bg(s,u){s.blockedOn===u&&(s.blockedOn=null,Q0||(Q0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,J9)))}var xg=null;function dP(s){xg!==s&&(xg=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){xg===s&&(xg=null);for(var u=0;u<s.length;u+=3){var d=s[u],y=s[u+1],_=s[u+2];if(typeof y!="function"){if(X0(y||d)===null)continue;break}var A=Ji(d);A!==null&&(s.splice(u,3),u-=3,Xx(A,{pending:!0,data:_,method:d.method,action:y},y,_))}}))}function Bd(s){function u(K){return bg(K,s)}es!==null&&bg(es,s),ts!==null&&bg(ts,s),ns!==null&&bg(ns,s),Vd.forEach(u),Ud.forEach(u);for(var d=0;d<rs.length;d++){var y=rs[d];y.blockedOn===s&&(y.blockedOn=null)}for(;0<rs.length&&(d=rs[0],d.blockedOn===null);)cP(d),d.blockedOn===null&&rs.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(y=0;y<d.length;y+=3){var _=d[y],A=d[y+1],U=_[yn]||null;if(typeof A=="function")U||dP(d);else if(U){var z=null;if(A&&A.hasAttribute("formAction")){if(_=A,U=A[yn]||null)z=U.formAction;else if(X0(_)!==null)continue}else z=U.action;typeof z=="function"?d[y+1]=z:(d.splice(y,3),y-=3),dP(d)}}}function Z0(s){this._internalRoot=s}_g.prototype.render=Z0.prototype.render=function(s){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,y=Kr();aP(d,y,s,u,null,null)},_g.prototype.unmount=Z0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var u=s.containerInfo;aP(s.current,2,null,s,null,null),ng(),u[oi]=null}};function _g(s){this._internalRoot=s}_g.prototype.unstable_scheduleHydration=function(s){if(s){var u=Po();s={blockedOn:null,target:s,priority:u};for(var d=0;d<rs.length&&u!==0&&u<rs[d].priority;d++);rs.splice(d,0,s),d===0&&cP(s)}};var hP=e.version;if(hP!=="19.1.0")throw Error(r(527,hP,"19.1.0"));Q.findDOMNode=function(s){var u=s._reactInternals;if(u===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(u),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var X9={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tg.isDisabled&&Tg.supportsFiber)try{Mt=Tg.inject(X9),bt=Tg}catch{}}return zd.createRoot=function(s,u){if(!i(s))throw Error(r(299));var d=!1,y="",_=kI,A=II,U=RI,z=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(_=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(U=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks)),u=rP(s,1,!1,null,null,d,y,_,A,U,z,null),s[oi]=u.current,O0(s),new Z0(u)},zd.hydrateRoot=function(s,u,d){if(!i(s))throw Error(r(299));var y=!1,_="",A=kI,U=II,z=RI,K=null,oe=null;return d!=null&&(d.unstable_strictMode===!0&&(y=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(A=d.onUncaughtError),d.onCaughtError!==void 0&&(U=d.onCaughtError),d.onRecoverableError!==void 0&&(z=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks),d.formState!==void 0&&(oe=d.formState)),u=rP(s,1,!0,u,d??null,y,_,A,U,z,K,oe),u.context=iP(null),d=u.current,y=Kr(),y=Ro(y),_=$o(y),_.callback=null,Bo(d,_,y),d=y,u.current.lanes=d,Da(u,d),ca(u),s[oi]=u.current,O0(s),new _g(u)},zd.version="19.1.0",zd}var SP;function fH(){if(SP)return n_.exports;SP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),n_.exports=cH(),n_.exports}var dH=fH();const hH=Rt(dH);var OC=zB();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}var hs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hs||(hs={}));const AP="popstate";function pH(t){t===void 0&&(t={});function e(i,a){let{pathname:o="/",search:l="",hash:c=""}=eu(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),ES("",{pathname:o,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof a=="string"?a:py(a))}function r(i,a){jC(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return gH(e,n,r,t)}function gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mH(){return Math.random().toString(36).substr(2,8)}function CP(t,e){return{usr:t.state,key:t.key,idx:e}}function ES(t,e,n,r){return n===void 0&&(n=null),Ph({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?eu(e):e,{state:n,key:e&&e.key||r||mH()})}function py(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function eu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,l=hs.Pop,c=null,f=h();f==null&&(f=0,o.replaceState(Ph({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function m(){l=hs.Pop;let E=h(),I=E==null?null:E-f;f=E,c&&c({action:l,location:S.location,delta:I})}function b(E,I){l=hs.Push;let C=ES(S.location,E,I);n&&n(C,E),f=h()+1;let N=CP(C,f),D=S.createHref(C);try{o.pushState(N,"",D)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(D)}a&&c&&c({action:l,location:S.location,delta:1})}function T(E,I){l=hs.Replace;let C=ES(S.location,E,I);n&&n(C,E),f=h();let N=CP(C,f),D=S.createHref(C);o.replaceState(N,"",D),a&&c&&c({action:l,location:S.location,delta:0})}function w(E){let I=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof E=="string"?E:py(E);return C=C.replace(/ $/,"%20"),gn(I,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,I)}let S={get action(){return l},get location(){return t(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(AP,m),c=E,()=>{i.removeEventListener(AP,m),c=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let I=w(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:b,replace:T,go(E){return o.go(E)}};return S}var NP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(NP||(NP={}));function yH(t,e,n){return n===void 0&&(n="/"),vH(t,e,n)}function vH(t,e,n,r){let i=typeof e=="string"?eu(e):e,a=LC(i.pathname||"/",n);if(a==null)return null;let o=GB(t);bH(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let f=RH(a);l=NH(o[c],f)}return l}function GB(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(gn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=vs([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(gn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),GB(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:AH(f,a.index),routesMeta:h})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of HB(a.path))i(a,o,c)}),e}function HB(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=HB(r.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function bH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xH=/^:[\w-]+$/,_H=3,TH=2,wH=1,EH=10,SH=-2,kP=t=>t==="*";function AH(t,e){let n=t.split("/"),r=n.length;return n.some(kP)&&(r+=SH),e&&(r+=TH),n.filter(i=>!kP(i)).reduce((i,a)=>i+(xH.test(a)?_H:a===""?wH:EH),r)}function CH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NH(t,e,n){let{routesMeta:r}=t,i={},a="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],f=l===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=kH({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),b=c.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:vs([a,m.pathname]),pathnameBase:OH(vs([a,m.pathnameBase])),route:b}),m.pathnameBase!=="/"&&(a=vs([a,m.pathnameBase]))}return o}function kH(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,h,m)=>{let{paramName:b,isOptional:T}=h;if(b==="*"){let S=l[m]||"";o=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const w=l[m];return T&&!w?f[b]=void 0:f[b]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:o,pattern:t}}function IH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function LC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?eu(t):t;return{pathname:n?n.startsWith("/")?n:MH(n,e):e,search:jH(r),hash:LH(i)}}function MH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function o_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VC(t,e){let n=DH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function UC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=eu(t):(i=Ph({},t),gn(!i.pathname||!i.pathname.includes("?"),o_("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),o_("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),o_("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),m-=1;i.pathname=b.join("/")}l=m>=0?e[m]:"/"}let c=PH(i,l),f=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const vs=t=>t.join("/").replace(/\/\/+/g,"/"),OH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WB=["post","put","patch","delete"];new Set(WB);const UH=["get",...WB];new Set(UH);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}const $C=q.createContext(null),$H=q.createContext(null),js=q.createContext(null),Uv=q.createContext(null),Ls=q.createContext({outlet:null,matches:[],isDataRoute:!1}),KB=q.createContext(null);function BH(t,e){let{relative:n}=e===void 0?{}:e;mf()||gn(!1);let{basename:r,navigator:i}=q.useContext(js),{hash:a,pathname:o,search:l}=JB(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:vs([r,o])),i.createHref({pathname:c,search:l,hash:a})}function mf(){return q.useContext(Uv)!=null}function gf(){return mf()||gn(!1),q.useContext(Uv).location}function YB(t){q.useContext(js).static||q.useLayoutEffect(t)}function Ip(){let{isDataRoute:t}=q.useContext(Ls);return t?e8():qH()}function qH(){mf()||gn(!1);let t=q.useContext($C),{basename:e,future:n,navigator:r}=q.useContext(js),{matches:i}=q.useContext(Ls),{pathname:a}=gf(),o=JSON.stringify(VC(i,n.v7_relativeSplatPath)),l=q.useRef(!1);return YB(()=>{l.current=!0}),q.useCallback(function(f,h){if(h===void 0&&(h={}),!l.current)return;if(typeof f=="number"){r.go(f);return}let m=UC(f,JSON.parse(o),a,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:vs([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,o,a,t])}function JB(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(js),{matches:i}=q.useContext(Ls),{pathname:a}=gf(),o=JSON.stringify(VC(i,r.v7_relativeSplatPath));return q.useMemo(()=>UC(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function FH(t,e){return zH(t,e)}function zH(t,e,n,r){mf()||gn(!1);let{navigator:i}=q.useContext(js),{matches:a}=q.useContext(Ls),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let f=gf(),h;if(e){var m;let E=typeof e=="string"?eu(e):e;c==="/"||(m=E.pathname)!=null&&m.startsWith(c)||gn(!1),h=E}else h=f;let b=h.pathname||"/",T=b;if(c!=="/"){let E=c.replace(/^\//,"").split("/");T="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=yH(t,{pathname:T}),S=YH(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:vs([c,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:vs([c,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,n,r);return e&&S?q.createElement(Uv.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:hs.Pop}},S):S}function GH(){let t=ZH(),e=VH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const HH=q.createElement(GH,null);class WH extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(Ls.Provider,{value:this.props.routeContext},q.createElement(KB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KH(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext($C);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(Ls.Provider,{value:e},r)}function YH(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||gn(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=h),m.route.id){let{loaderData:b,errors:T}=n,w=m.route.loader&&b[m.route.id]===void 0&&(!T||T[m.route.id]===void 0);if(m.route.lazy||w){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((h,m,b)=>{let T,w=!1,S=null,E=null;n&&(T=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||HH,c&&(f<0&&b===0?(t8("route-fallback"),w=!0,E=null):f===b&&(w=!0,E=m.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,b+1)),C=()=>{let N;return T?N=S:w?N=E:m.route.Component?N=q.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,q.createElement(KH,{match:m,routeContext:{outlet:h,matches:I,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||b===0)?q.createElement(WH,{location:n.location,revalidation:n.revalidation,component:S,error:T,children:C(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):C()},null)}var XB=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XB||{}),QB=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(QB||{});function JH(t){let e=q.useContext($C);return e||gn(!1),e}function XH(t){let e=q.useContext($H);return e||gn(!1),e}function QH(t){let e=q.useContext(Ls);return e||gn(!1),e}function ZB(t){let e=QH(),n=e.matches[e.matches.length-1];return n.route.id||gn(!1),n.route.id}function ZH(){var t;let e=q.useContext(KB),n=XH(),r=ZB();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function e8(){let{router:t}=JH(XB.UseNavigateStable),e=ZB(QB.UseNavigateStable),n=q.useRef(!1);return YB(()=>{n.current=!0}),q.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mh({fromRouteId:e},a)))},[t,e])}const IP={};function t8(t,e,n){IP[t]||(IP[t]=!0)}function n8(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function gh(t){let{to:e,replace:n,state:r,relative:i}=t;mf()||gn(!1);let{future:a,static:o}=q.useContext(js),{matches:l}=q.useContext(Ls),{pathname:c}=gf(),f=Ip(),h=UC(e,VC(l,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(h);return q.useEffect(()=>f(JSON.parse(m),{replace:n,state:r,relative:i}),[f,m,i,n,r]),null}function pr(t){gn(!1)}function r8(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hs.Pop,navigator:a,static:o=!1,future:l}=t;mf()&&gn(!1);let c=e.replace(/^\/*/,"/"),f=q.useMemo(()=>({basename:c,navigator:a,static:o,future:Mh({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof r=="string"&&(r=eu(r));let{pathname:h="/",search:m="",hash:b="",state:T=null,key:w="default"}=r,S=q.useMemo(()=>{let E=LC(h,c);return E==null?null:{location:{pathname:E,search:m,hash:b,state:T,key:w},navigationType:i}},[c,h,m,b,T,w,i]);return S==null?null:q.createElement(js.Provider,{value:f},q.createElement(Uv.Provider,{children:n,value:S}))}function e3(t){let{children:e,location:n}=t;return FH(SS(e),n)}new Promise(()=>{});function SS(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let a=[...e,i];if(r.type===q.Fragment){n.push.apply(n,SS(r.props.children,a));return}r.type!==pr&&gn(!1),!r.props.index||!r.props.children||gn(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=SS(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}function i8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function a8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o8(t,e){return t.button===0&&(!e||e==="_self")&&!a8(t)}const s8=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l8="6";try{window.__reactRouterVersion=l8}catch{}const u8="startTransition",RP=oH[u8];function c8(t){let{basename:e,children:n,future:r,window:i}=t,a=q.useRef();a.current==null&&(a.current=pH({window:i,v5Compat:!0}));let o=a.current,[l,c]=q.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},h=q.useCallback(m=>{f&&RP?RP(()=>c(m)):c(m)},[c,f]);return q.useLayoutEffect(()=>o.listen(h),[o,h]),q.useEffect(()=>n8(r),[r]),q.createElement(r8,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const f8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hr=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:f,preventScrollReset:h,viewTransition:m}=e,b=i8(e,s8),{basename:T}=q.useContext(js),w,S=!1;if(typeof f=="string"&&d8.test(f)&&(w=f,f8))try{let N=new URL(window.location.href),D=f.startsWith("//")?new URL(N.protocol+f):new URL(f),R=LC(D.pathname,T);D.origin===N.origin&&R!=null?f=R+D.search+D.hash:S=!0}catch{}let E=BH(f,{relative:i}),I=h8(f,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:m});function C(N){r&&r(N),N.defaultPrevented||I(N)}return q.createElement("a",AS({},b,{href:w||E,onClick:S||a?r:C,ref:n,target:c}))});var PP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(PP||(PP={}));var MP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MP||(MP={}));function h8(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ip(),f=gf(),h=JB(t,{relative:o});return q.useCallback(m=>{if(o8(m,n)){m.preventDefault();let b=r!==void 0?r:py(f)===py(h);c(t,{replace:b,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[f,c,h,r,i,n,t,a,o,l])}const t3=q.createContext(void 0),p8=({children:t})=>{const[e,n]=q.useState(()=>{const i=localStorage.getItem("schuldvrij_theme_neumorphic");return i||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});q.useEffect(()=>{const i=window.document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("schuldvrij_theme_neumorphic",e)},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return v.jsx(t3.Provider,{value:{theme:e,toggleTheme:r},children:t})},Vs=()=>{const t=q.useContext(t3);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},m8=()=>{};var DP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},g8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},r3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=a>>2,m=(a&3)<<4|l>>4;let b=(l&15)<<2|f>>6,T=f&63;c||(T=64,o||(b=64)),r.push(n[h],n[m],n[b],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||f==null||m==null)throw new y8;const b=a<<2|l>>4;if(r.push(b),f!==64){const T=l<<4&240|f>>2;if(r.push(T),m!==64){const w=f<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v8=function(t){const e=n3(t);return r3.encodeByteArray(e,!0)},my=function(t){return v8(t).replace(/\./g,"")},BC=function(t){try{return r3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function gy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!b8(n)||(t[n]=gy(t[n],e[n]));return t}function b8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8=()=>i3().__FIREBASE_DEFAULTS__,_8=()=>{if(typeof process>"u"||typeof DP>"u")return;const t=DP.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},T8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BC(t[1]);return e&&JSON.parse(e)},$v=()=>{try{return m8()||x8()||_8()||T8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},a3=t=>{var e,n;return(n=(e=$v())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},w8=t=>{const e=a3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qC=()=>{var t;return(t=$v())==null?void 0:t.config},o3=t=>{var e;return(e=$v())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function s3(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[my(JSON.stringify(n)),my(JSON.stringify(o)),""].join(".")}const yh={};function A8(){const t={prod:[],emulator:[]};for(const e of Object.keys(yh))yh[e]?t.emulator.push(e):t.prod.push(e);return t}function C8(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let OP=!1;function l3(t,e){if(typeof window>"u"||typeof document>"u"||!yf(window.location.host)||yh[t]===e||yh[t]||OP)return;yh[t]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=A8().prod.length>0;function o(){const b=document.getElementById(r);b&&b.remove()}function l(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function c(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{OP=!0,o()},b}function h(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function m(){const b=C8(r),T=n("text"),w=document.getElementById(T)||document.createElement("span"),S=n("learnmore"),E=document.getElementById(S)||document.createElement("a"),I=n("preprendIcon"),C=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const N=b.element;l(N),h(E,S);const D=f();c(C,I),N.append(C,w,E,D),document.body.appendChild(N)}a?(w.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N8(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function k8(){var e;const t=(e=$v())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I8(){return typeof window<"u"||u3()}function u3(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function R8(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M8(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D8(){const t=vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O8(){return!k8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j8(){try{return typeof indexedDB=="object"}catch{return!1}}function L8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="FirebaseError";class ka extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V8,Object.setPrototypeOf(this,ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?U8(a,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ka(i,l,r)}}function U8(t,e){return t.replace($8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Es(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(LP(a)&&LP(o)){if(!Es(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LP(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function sh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function c3(t,e){const n=new q8(t,e);return n.subscribe.bind(n)}class q8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");F8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=s_),i.error===void 0&&(i.error=s_),i.complete===void 0&&(i.complete=s_);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function s_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class Ss{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H8(e))try{this.getOrInitializeService({instanceIdentifier:Nl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Nl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Nl){return this.instances.has(e)}getOptions(e=Nl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Nl){return this.component?this.component.multipleInstances?e:Nl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G8(t){return t===Nl?void 0:t}function H8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=[];var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const d3={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},W8=st.INFO,K8={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},Y8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=K8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bv{constructor(e){this.name=e,this._logLevel=W8,this._logHandler=Y8,this._userLogHandler=null,FC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}function J8(t){FC.forEach(e=>{e.setLogLevel(t)})}function X8(t,e){for(const n of FC){let r=null;e&&e.level&&(r=d3[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,a,...o)=>{const l=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");a>=(r??i.logLevel)&&t({level:st[a].toLowerCase(),message:l,args:o,type:i.name})}}}const Q8=(t,e)=>e.some(n=>t instanceof n);let VP,UP;function Z8(){return VP||(VP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e7(){return UP||(UP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h3=new WeakMap,CS=new WeakMap,p3=new WeakMap,l_=new WeakMap,zC=new WeakMap;function t7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(bs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&h3.set(n,t)}).catch(()=>{}),zC.set(e,t),e}function n7(t){if(CS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});CS.set(t,e)}let NS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return CS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function r7(t){NS=t(NS)}function i7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(u_(this),e,...n);return p3.set(r,e.sort?e.sort():[e]),bs(r)}:e7().includes(t)?function(...e){return t.apply(u_(this),e),bs(h3.get(this))}:function(...e){return bs(t.apply(u_(this),e))}}function a7(t){return typeof t=="function"?i7(t):(t instanceof IDBTransaction&&n7(t),Q8(t,Z8())?new Proxy(t,NS):t)}function bs(t){if(t instanceof IDBRequest)return t7(t);if(l_.has(t))return l_.get(t);const e=a7(t);return e!==t&&(l_.set(t,e),zC.set(e,t)),e}const u_=t=>zC.get(t);function o7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),l=bs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(bs(o.result),c.oldVersion,c.newVersion,bs(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const s7=["get","getKey","getAll","getAllKeys","count"],l7=["put","add","delete","clear"],c_=new Map;function $P(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(c_.get(e))return c_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=l7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||s7.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return c_.set(e,a),a}r7(t=>({...t,get:(e,n,r)=>$P(e,n)||t.get(e,n,r),has:(e,n)=>!!$P(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function c7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",kS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Bv("@firebase/app"),f7="@firebase/app-compat",d7="@firebase/analytics-compat",h7="@firebase/analytics",p7="@firebase/app-check-compat",m7="@firebase/app-check",g7="@firebase/auth",y7="@firebase/auth-compat",v7="@firebase/database",b7="@firebase/data-connect",x7="@firebase/database-compat",_7="@firebase/functions",T7="@firebase/functions-compat",w7="@firebase/installations",E7="@firebase/installations-compat",S7="@firebase/messaging",A7="@firebase/messaging-compat",C7="@firebase/performance",N7="@firebase/performance-compat",k7="@firebase/remote-config",I7="@firebase/remote-config-compat",R7="@firebase/storage",P7="@firebase/storage-compat",M7="@firebase/firestore",D7="@firebase/ai",O7="@firebase/firestore-compat",j7="firebase",L7="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]",V7={[yy]:"fire-core",[f7]:"fire-core-compat",[h7]:"fire-analytics",[d7]:"fire-analytics-compat",[m7]:"fire-app-check",[p7]:"fire-app-check-compat",[g7]:"fire-auth",[y7]:"fire-auth-compat",[v7]:"fire-rtdb",[b7]:"fire-data-connect",[x7]:"fire-rtdb-compat",[_7]:"fire-fn",[T7]:"fire-fn-compat",[w7]:"fire-iid",[E7]:"fire-iid-compat",[S7]:"fire-fcm",[A7]:"fire-fcm-compat",[C7]:"fire-perf",[N7]:"fire-perf-compat",[k7]:"fire-rc",[I7]:"fire-rc-compat",[R7]:"fire-gcs",[P7]:"fire-gcs-compat",[M7]:"fire-fst",[O7]:"fire-fst-compat",[D7]:"fire-vertex","fire-js":"fire-js",[j7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Map,Ic=new Map,Rc=new Map;function Dh(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function m3(t,e){t.container.addOrOverwriteComponent(e)}function Ns(t){const e=t.name;if(Rc.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;Rc.set(e,t);for(const n of Cs.values())Dh(n,t);for(const n of Ic.values())Dh(n,t);return!0}function Pp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function U7(t,e,n=As){Pp(t,e).clearInstance(n)}function GC(t){return t.options!==void 0}function g3(t){return GC(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function Zr(t){return t==null?!1:t.settings!==void 0}function $7(){Rc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new tu("app","Firebase",B7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y3=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e){const n=BC(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,a=new Date().getTime();i-a<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class q7 extends y3{constructor(e,n,r,i){const a=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,o={name:r,automaticDataCollectionEnabled:a};if(e.apiKey!==void 0)super(e,o,i);else{const l=e;super(l.options,o,i)}this._serverConfig={automaticDataCollectionEnabled:a,...n},this._serverConfig.authIdToken&&BP(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&BP(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,zi(yy,kS,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){KC(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ri.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=L7;function HC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:As,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=qC()),!n)throw ri.create("no-options");const a=Cs.get(i);if(a){if(Es(n,a.options)&&Es(r,a.config))return a;throw ri.create("duplicate-app",{appName:i})}const o=new f3(i);for(const c of Rc.values())o.addComponent(c);const l=new y3(n,r,o);return Cs.set(i,l),l}function F7(t,e={}){if(I8()&&!u3())throw ri.create("invalid-server-app-environment");let n,r=e||{};if(t&&(GC(t)?n=t.options:g3(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=qC()),!n)throw ri.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const a=h=>[...h].reduce((m,b)=>Math.imul(31,m)+b.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ri.create("finalization-registry-not-supported",{});const o=""+a(JSON.stringify(i)),l=Ic.get(o);if(l)return l.incRefCount(r.releaseOnDeref),l;const c=new f3(o);for(const h of Rc.values())c.addComponent(h);const f=new q7(n,r,o,c);return Ic.set(o,f),f}function WC(t=As){const e=Cs.get(t);if(!e&&t===As&&qC())return HC();if(!e)throw ri.create("no-app",{appName:t});return e}function z7(){return Array.from(Cs.values())}async function KC(t){let e=!1;const n=t.name;Cs.has(n)?(e=!0,Cs.delete(n)):Ic.has(n)&&t.decRefCount()<=0&&(Ic.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function zi(t,e,n){let r=V7[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(o.join(" "));return}Ns(new Ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function v3(t,e){if(t!==null&&typeof t!="function")throw ri.create("invalid-log-argument");X8(t,e)}function b3(t){J8(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="firebase-heartbeat-database",H7=1,Oh="firebase-heartbeat-store";let f_=null;function x3(){return f_||(f_=o7(G7,H7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),f_}async function W7(t){try{const n=(await x3()).transaction(Oh),r=await n.objectStore(Oh).get(_3(t));return await n.done,r}catch(e){if(e instanceof ka)mo.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(n.message)}}}async function qP(t,e){try{const r=(await x3()).transaction(Oh,"readwrite");await r.objectStore(Oh).put(e,_3(t)),await r.done}catch(n){if(n instanceof ka)mo.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mo.warn(r.message)}}}function _3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=1024,Y7=30;class J7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=FP();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Y7){const o=Z7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=FP(),{heartbeatsToSend:r,unsentEntries:i}=X7(this._heartbeatsCache.heartbeats),a=my(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return mo.warn(n),""}}}function FP(){return new Date().toISOString().substring(0,10)}function X7(t,e=K7){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),zP(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j8()?L8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qP(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function zP(t){return my(JSON.stringify({version:2,heartbeats:t})).length}function Z7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(t){Ns(new Ss("platform-logger",e=>new u7(e),"PRIVATE")),Ns(new Ss("heartbeat",e=>new J7(e),"PRIVATE")),zi(yy,kS,t),zi(yy,kS,"esm2020"),zi("fire-js","")}eW("");const tW=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ka,SDK_VERSION:Us,_DEFAULT_ENTRY_NAME:As,_addComponent:Dh,_addOrOverwriteComponent:m3,_apps:Cs,_clearComponents:$7,_components:Rc,_getProvider:Pp,_isFirebaseApp:GC,_isFirebaseServerApp:Zr,_isFirebaseServerAppSettings:g3,_registerComponent:Ns,_removeServiceInstance:U7,_serverApps:Ic,deleteApp:KC,getApp:WC,getApps:z7,initializeApp:HC,initializeServerApp:F7,onLog:v3,registerVersion:zi,setLogLevel:b3},Symbol.toStringTag,{value:"Module"}));function T3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nW=T3,w3=new tu("auth","Firebase",T3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy=new Bv("@firebase/auth");function rW(t,...e){vy.logLevel<=st.WARN&&vy.warn(`Auth (${Us}): ${t}`,...e)}function ey(t,...e){vy.logLevel<=st.ERROR&&vy.error(`Auth (${Us}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(t,...e){throw YC(t,...e)}function ga(t,...e){return YC(t,...e)}function E3(t,e,n){const r={...nW(),[e]:n};return new tu("auth","Firebase",r).create(e,{appName:t.name})}function co(t){return E3(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w3.create(t,...e)}function He(t,e,...n){if(!t)throw YC(e,...n)}function oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ey(e),new Error(e)}function go(t,e){t||oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iW(){return GP()==="http:"||GP()==="https:"}function GP(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iW()||P8()||"connection"in navigator)?navigator.onLine:!0}function oW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n){this.shortDelay=e,this.longDelay=n,go(n>e,"Short delay should be less than long delay!"),this.isMobile=N8()||M8()}get(){return aW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uW=new Mp(3e4,6e4);function $s(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Eo(t,e,n,r,i={}){return A3(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const l=Rp({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...a};return R8()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&yf(t.emulatorConfig.host)&&(f.credentials="include"),S3.fetch()(await C3(t,t.config.apiHost,n,l),f)})}async function A3(t,e,n){t._canInitEmulator=!1;const r={...sW,...e};try{const i=new fW(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Eg(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eg(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Eg(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Eg(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw E3(t,h,f);Hi(t,h)}}catch(i){if(i instanceof ka)throw i;Hi(t,"network-request-failed",{message:String(i)})}}async function Dp(t,e,n,r,i={}){const a=await Eo(t,e,n,r,i);return"mfaPendingCredential"in a&&Hi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function C3(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?JC(t.config,i):`${t.config.apiScheme}://${i}`;return lW.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function cW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ga(this.auth,"network-request-failed")),uW.get())})}}function Eg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ga(t,e,r);return i.customData._tokenResponse=n,i}function HP(t){return t!==void 0&&t.enterprise!==void 0}class dW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hW(t,e){return Eo(t,"GET","/v2/recaptchaConfig",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t,e){return Eo(t,"POST","/v1/accounts:delete",e)}async function by(t,e){return Eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mW(t,e=!1){const n=An(t),r=await n.getIdToken(e),i=XC(r);He(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:vh(d_(i.auth_time)),issuedAtTime:vh(d_(i.iat)),expirationTime:vh(d_(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function d_(t){return Number(t)*1e3}function XC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ey("JWT malformed, contained fewer than 3 sections"),null;try{const i=BC(n);return i?JSON.parse(i):(ey("Failed to decode base64 JWT payload"),null)}catch(i){return ey("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WP(t){const e=XC(t);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ka&&gW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vh(this.lastLoginAt),this.creationTime=vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xy(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Pc(t,by(e,{idToken:n}));He(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?N3(i.providerUserInfo):[],o=bW(t.providerData,a),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new RS(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function vW(t){const e=An(t);await xy(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function N3(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xW(t,e){const n=await A3(t,{},async()=>{const r=Rp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await C3(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&yf(t.emulatorConfig.host)&&(c.credentials="include"),S3.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _W(t,e){return Eo(t,"POST","/v2/accounts:revokeToken",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=WP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await xW(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new vc;return r&&(He(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(He(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vc,this.toJSON())}_performRefresh(){return oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){He(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new yW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new RS(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Pc(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mW(this,e)}reload(){return vW(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xy(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(co(this.auth));const e=await this.getIdToken();return await Pc(this,pW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:b,isAnonymous:T,providerData:w,stsTokenManager:S}=n;He(m&&S,e,"internal-error");const E=vc.fromJSON(this.name,S);He(typeof m=="string",e,"internal-error"),as(r,e.name),as(i,e.name),He(typeof b=="boolean",e,"internal-error"),He(typeof T=="boolean",e,"internal-error"),as(a,e.name),as(o,e.name),as(l,e.name),as(c,e.name),as(f,e.name),as(h,e.name);const I=new qi({uid:m,auth:e,email:i,emailVerified:b,displayName:r,isAnonymous:T,photoURL:o,phoneNumber:a,tenantId:l,stsTokenManager:E,createdAt:f,lastLoginAt:h});return w&&Array.isArray(w)&&(I.providerData=w.map(C=>({...C}))),c&&(I._redirectEventId=c),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new vc;i.updateFromServerResponse(n);const a=new qi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await xy(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];He(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?N3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new vc;l.updateFromIdToken(r);const c=new qi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new RS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=new Map;function so(t){go(t instanceof Function,"Expected a class definition");let e=KP.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KP.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k3.type="NONE";const YP=k3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e,n){return`firebase:${t}:${e}:${n}`}class bc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ty(this.userKey,i.apiKey,a),this.fullPersistenceKey=ty("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await by(this.auth,{idToken:e}).catch(()=>{});return n?qi._fromGetAccountInfoResponse(this.auth,n,e):null}return qi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bc(so(YP),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||so(YP);const o=ty(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(o);if(h){let m;if(typeof h=="string"){const b=await by(e,{idToken:h}).catch(()=>{});if(!b)break;m=await qi._fromGetAccountInfoResponse(e,b,h)}else m=qi._fromJSON(e,h);f!==a&&(l=m),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new bc(a,e,r):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new bc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O3(e))return"Blackberry";if(j3(e))return"Webos";if(R3(e))return"Safari";if((e.includes("chrome/")||P3(e))&&!e.includes("edge/"))return"Chrome";if(D3(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function I3(t=vr()){return/firefox\//i.test(t)}function R3(t=vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P3(t=vr()){return/crios\//i.test(t)}function M3(t=vr()){return/iemobile/i.test(t)}function D3(t=vr()){return/android/i.test(t)}function O3(t=vr()){return/blackberry/i.test(t)}function j3(t=vr()){return/webos/i.test(t)}function QC(t=vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TW(t=vr()){var e;return QC(t)&&!!((e=window.navigator)!=null&&e.standalone)}function wW(){return D8()&&document.documentMode===10}function L3(t=vr()){return QC(t)||D3(t)||j3(t)||O3(t)||/windows phone/i.test(t)||M3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t,e=[]){let n;switch(t){case"Browser":n=JP(vr());break;case"Worker":n=`${JP(vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SW(t,e={}){return Eo(t,"GET","/v2/passwordPolicy",$s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=6;class CW{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??AW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XP(this),this.idTokenSubscription=new XP(this),this.beforeStateQueue=new EW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=so(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await bc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await by(this,{idToken:e}),r=await qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Zr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(a=this.redirectUser)==null?void 0:a._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xy(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(co(this));const n=e?An(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(so(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SW(this),n=new CW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _W(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&so(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await bc.create(this,[so(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Zr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&rW(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function nu(t){return An(t)}class XP{constructor(e){this.auth=e,this.observer=null,this.addObserver=c3(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kW(t){qv=t}function U3(t){return qv.loadJS(t)}function IW(){return qv.recaptchaEnterpriseScript}function RW(){return qv.gapiScript}function PW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class MW{constructor(){this.enterprise=new DW}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DW{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OW="recaptcha-enterprise",$3="NO_RECAPTCHA";class jW{constructor(e){this.type=OW,this.auth=nu(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{hW(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new dW(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{l(c)})})}function i(a,o,l){const c=window.grecaptcha;HP(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o($3)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new MW().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(l=>{if(!n&&HP(window.grecaptcha))i(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=IW();c.length!==0&&(c+=l),U3(c).then(()=>{i(l,a,o)}).catch(f=>{o(f)})}}).catch(l=>{o(l)})})}}async function QP(t,e,n,r=!1,i=!1){const a=new jW(t);let o;if(i)o=$3;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function PS(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await QP(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await QP(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t,e){const n=Pp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Es(a,e??{}))return i;Hi(i,"already-initialized")}return n.initialize({options:e})}function VW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(so);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UW(t,e,n){const r=nu(t);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=B3(e),{host:o,port:l}=$W(e),c=l===null?"":`:${l}`,f={url:`${a}//${o}${c}/`},h=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(Es(f,r.config.emulator)&&Es(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,yf(o)?(s3(`${a}//${o}${c}`),l3("Auth",!0)):BW()}function B3(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $W(t){const e=B3(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:ZP(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:ZP(o)}}}function ZP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,n){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}}async function qW(t,e){return Eo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(t,e){return Dp(t,"POST","/v1/accounts:signInWithPassword",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}async function GW(t,e){return Dp(t,"POST","/v1/accounts:signInWithEmailLink",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends ZC{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PS(e,n,"signInWithPassword",FW);case"emailLink":return zW(e,{email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return PS(e,r,"signUpPassword",qW);case"emailLink":return GW(e,{idToken:n,email:this._email,oobCode:this._password});default:Hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e){return Dp(t,"POST","/v1/accounts:signInWithIdp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW="http://localhost";class ql extends ZC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ql(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new ql(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xc(e,n)}buildRequest(){const e={requestUri:HW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KW(t){const e=oh(sh(t)).link,n=e?oh(sh(e)).deep_link_id:null,r=oh(sh(t)).deep_link_id;return(r?oh(sh(r)).link:null)||r||n||e||t}class e1{constructor(e){const n=oh(sh(e)),r=n.apiKey??null,i=n.oobCode??null,a=WW(n.mode??null);He(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=KW(e);try{return new e1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.providerId=vf.PROVIDER_ID}static credential(e,n){return jh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=e1.parseLink(n);return He(r,"argument-error"),jh._fromEmailAndCode(e,r.code,r.tenantId)}}vf.PROVIDER_ID="password";vf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends q3{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Op{constructor(){super("facebook.com")}static credential(e){return ql._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.FACEBOOK_SIGN_IN_METHOD="facebook.com";us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Op{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ql._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cs.credential(n,r)}catch{return null}}}cs.GOOGLE_SIGN_IN_METHOD="google.com";cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Op{constructor(){super("github.com")}static credential(e){return ql._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fs.credential(e.oauthAccessToken)}catch{return null}}}fs.GITHUB_SIGN_IN_METHOD="github.com";fs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Op{constructor(){super("twitter.com")}static credential(e,n){return ql._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ds.credential(n,r)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e){return Dp(t,"POST","/v1/accounts:signUp",$s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await qi._fromIdTokenResponse(e,r,i),o=eM(r);return new Fl({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eM(r);return new Fl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends ka{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_y.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _y(e,n,r,i)}}function F3(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?_y._fromErrorAndOperation(t,a,e,r):a})}async function JW(t,e,n=!1){const r=await Pc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(t,e,n=!1){const{auth:r}=t;if(Zr(r.app))return Promise.reject(co(r));const i="reauthenticate";try{const a=await Pc(t,F3(r,i,e,t),n);He(a.idToken,r,"internal-error");const o=XC(a.idToken);He(o,r,"internal-error");const{sub:l}=o;return He(t.uid===l,r,"user-mismatch"),Fl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Hi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e,n=!1){if(Zr(t.app))return Promise.reject(co(t));const r="signIn",i=await F3(t,r,e),a=await Fl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function QW(t,e){return z3(nu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(t){const e=nu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZW(t,e,n){if(Zr(t.app))return Promise.reject(co(t));const r=nu(t),o=await PS(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YW).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&G3(t),c}),l=await Fl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function eK(t,e,n){return Zr(t.app)?Promise.reject(co(t)):QW(An(t),vf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&G3(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tK(t,e){return Eo(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=An(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Pc(r,tK(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function nK(t,e,n,r){return An(t).onIdTokenChanged(e,n,r)}function rK(t,e,n){return An(t).beforeAuthStateChanged(e,n)}function iK(t,e,n,r){return An(t).onAuthStateChanged(e,n,r)}function aK(t){return An(t).signOut()}const Ty="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ty,"1"),this.storage.removeItem(Ty),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=1e3,sK=10;class K3 extends W3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);wW()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sK):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K3.type="LOCAL";const lK=K3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3 extends W3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Y3.type="SESSION";const J3=Y3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uK(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,a)),c=await uK(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const f=t1("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const b=m;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(b.data.response);break;default:clearTimeout(h),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(){return window}function fK(t){ya().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(){return typeof ya().WorkerGlobalScope<"u"&&typeof ya().importScripts=="function"}async function dK(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hK(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function pK(){return X3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="firebaseLocalStorageDb",mK=1,wy="firebaseLocalStorage",Z3="fbase_key";class jp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zv(t,e){return t.transaction([wy],e?"readwrite":"readonly").objectStore(wy)}function gK(){const t=indexedDB.deleteDatabase(Q3);return new jp(t).toPromise()}function MS(){const t=indexedDB.open(Q3,mK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wy,{keyPath:Z3})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wy)?e(r):(r.close(),await gK(),e(await MS()))})})}async function tM(t,e,n){const r=zv(t,!0).put({[Z3]:e,value:n});return new jp(r).toPromise()}async function yK(t,e){const n=zv(t,!1).get(e),r=await new jp(n).toPromise();return r===void 0?null:r.value}function nM(t,e){const n=zv(t,!0).delete(e);return new jp(n).toPromise()}const vK=800,bK=3;class eq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await MS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fv._getInstance(pK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await dK(),!this.activeServiceWorker)return;this.sender=new cK(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hK()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await MS();return await tM(e,Ty,"1"),await nM(e,Ty),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>yK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=zv(i,!1).getAll();return new jp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eq.type="LOCAL";const xK=eq;new Mp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(t,e){return e?so(e):(He(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends ZC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TK(t){return z3(t.auth,new n1(t),t.bypassAuthState)}function wK(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),XW(n,new n1(t),t.bypassAuthState)}async function EK(t){const{auth:e,user:n}=t;return He(n,e,"internal-error"),JW(n,new n1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TK;case"linkViaPopup":case"linkViaRedirect":return EK;case"reauthViaPopup":case"reauthViaRedirect":return wK;default:Hi(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK=new Mp(2e3,1e4);class cc extends tq{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=t1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ga(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ga(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ga(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SK.get())};e()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK="pendingRedirect",ny=new Map;class CK extends tq{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ny.get(this.auth._key());if(!e){try{const r=await NK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ny.set(this.auth._key(),e)}return this.bypassAuthState||ny.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NK(t,e){const n=RK(e),r=IK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kK(t,e){ny.set(t._key(),e)}function IK(t){return so(t._redirectPersistence)}function RK(t){return ty(AK,t.config.apiKey,t.name)}async function PK(t,e,n=!1){if(Zr(t.app))return Promise.reject(co(t));const r=nu(t),i=_K(r,e),o=await new CK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK=600*1e3;class DK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nq(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ga(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MK&&this.cachedEventUids.clear(),this.cachedEventUids.has(rM(e))}saveEventToCache(e){this.cachedEventUids.add(rM(e)),this.lastProcessedEventTime=Date.now()}}function rM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nq({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nq(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jK(t,e={}){return Eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VK=/^https?/;async function UK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jK(t);for(const n of e)try{if($K(n))return}catch{}Hi(t,"unauthorized-domain")}function $K(t){const e=IS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VK.test(n))return!1;if(LK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK=new Mp(3e4,6e4);function iM(){const t=ya().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qK(t){return new Promise((e,n)=>{var i,a,o;function r(){iM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iM(),n(ga(t,"network-request-failed"))},timeout:BK.get()})}if((a=(i=ya().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((o=ya().gapi)!=null&&o.load)r();else{const l=PW("iframefcb");return ya()[l]=()=>{gapi.load?r():n(ga(t,"network-request-failed"))},U3(`${RW()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ry=null,e})}let ry=null;function FK(t){return ry=ry||qK(t),ry}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK=new Mp(5e3,15e3),GK="__/auth/iframe",HK="emulator/auth/iframe",WK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YK(t){const e=t.config;He(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?JC(e,HK):`https://${t.config.authDomain}/${GK}`,r={apiKey:e.apiKey,appName:t.name,v:Us},i=KK.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Rp(r).slice(1)}`}async function JK(t){const e=await FK(t),n=ya().gapi;return He(n,t,"internal-error"),e.open({where:document.body,url:YK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WK,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=ga(t,"network-request-failed"),l=ya().setTimeout(()=>{a(o)},zK.get());function c(){ya().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QK=500,ZK=600,eY="_blank",tY="http://localhost";class aM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nY(t,e,n,r=QK,i=ZK){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...XK,width:r.toString(),height:i.toString(),top:a,left:o},f=vr().toLowerCase();n&&(l=P3(f)?eY:n),I3(f)&&(e=e||tY,c.scrollbars="yes");const h=Object.entries(c).reduce((b,[T,w])=>`${b}${T}=${w},`,"");if(TW(f)&&l!=="_self")return rY(e||"",l),new aM(null);const m=window.open(e||"",l,h);He(m,t,"popup-blocked");try{m.focus()}catch{}return new aM(m)}function rY(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY="__/auth/handler",aY="emulator/auth/handler",oY=encodeURIComponent("fac");async function oM(t,e,n,r,i,a){He(t.config.authDomain,t,"auth-domain-config-required"),He(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Us,eventId:i};if(e instanceof q3){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",B8(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Op){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${oY}=${encodeURIComponent(c)}`:"";return`${sY(t)}?${Rp(l).slice(1)}${f}`}function sY({config:t}){return t.emulator?JC(t,aY):`https://${t.authDomain}/${iY}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="webStorageSupport";class lY{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J3,this._completeRedirectFn=PK,this._overrideRedirectResult=kK}async _openPopup(e,n,r,i){var o;go((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await oM(e,n,r,IS(),i);return nY(e,a,t1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await oM(e,n,r,IS(),i);return fK(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(go(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JK(e),r=new DK(e);return n.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(h_,{type:h_},i=>{var o;const a=(o=i==null?void 0:i[0])==null?void 0:o[h_];a!==void 0&&n(!!a),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return L3()||R3()||QC()}}const uY=lY;var sM="@firebase/auth",lM="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dY(t){Ns(new Ss("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;He(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V3(t)},f=new NW(r,i,a,c);return VW(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ns(new Ss("auth-internal",e=>{const n=nu(e.getProvider("auth").getImmediate());return(r=>new cY(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zi(sM,lM,fY(t)),zi(sM,lM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=300,pY=o3("authIdTokenMaxAge")||hY;let uM=null;const mY=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pY)return;const i=n==null?void 0:n.token;uM!==i&&(uM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gY(t=WC()){const e=Pp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LW(t,{popupRedirectResolver:uY,persistence:[xK,lK,J3]}),r=o3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=mY(a.toString());rK(n,o,()=>o(n.currentUser)),nK(n,l=>o(l))}}const i=a3("auth");return i&&UW(n,`http://${i}`),n}function yY(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}kW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=ga("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",yY().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dY("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(e,n){this._delegate=e,this.firebase=n,Dh(e,new Ss("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),KC(this._delegate)))}_getService(e,n=As){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=As){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Dh(this._delegate,e)}_addOrOverwriteComponent(e){m3(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bY={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},cM=new tu("app-compat","Firebase",bY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t){const e={},n={__esModule:!0,initializeApp:a,app:i,registerVersion:zi,setLogLevel:b3,onLog:v3,apps:null,SDK_VERSION:Us,INTERNAL:{registerComponent:l,removeApp:r,useAsService:c,modularAPIs:tW}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(f){delete e[f]}function i(f){if(f=f||As,!jP(e,f))throw cM.create("no-app",{appName:f});return e[f]}i.App=t;function a(f,h={}){const m=HC(f,h);if(jP(e,m.name))return e[m.name];const b=new t(m,n);return e[m.name]=b,b}function o(){return Object.keys(e).map(f=>e[f])}function l(f){const h=f.name,m=h.replace("-compat","");if(Ns(f)&&f.type==="PUBLIC"){const b=(T=i())=>{if(typeof T[m]!="function")throw cM.create("invalid-app-argument",{appName:h});return T[m]()};f.serviceProps!==void 0&&gy(b,f.serviceProps),n[m]=b,t.prototype[m]=function(...T){return this._getService.bind(this,h).apply(this,f.multipleInstances?T:[])}}return f.type==="PUBLIC"?n[m]:null}function c(f,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(){const t=xY(vY);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:rq,extendNamespace:e,createSubscribe:c3,ErrorFactory:tu,deepExtend:gy};function e(n){gy(t,n)}return t}const _Y=rq();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new Bv("@firebase/app-compat"),TY="@firebase/app-compat",wY="0.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(t){zi(TY,wY,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=i3();if(t.firebase!==void 0){fM.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&fM.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const DS=_Y;EY();var SY="firebase",AY="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */DS.registerVersion(SY,AY,"app-compat");var dM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,iq;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function O(){}O.prototype=M.prototype,P.D=M.prototype,P.prototype=new O,P.prototype.constructor=P,P.C=function($,V,F){for(var B=Array(arguments.length-2),te=2;te<arguments.length;te++)B[te-2]=arguments[te];return M.prototype[V].apply($,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,M,O){O||(O=0);var $=Array(16);if(typeof M=="string")for(var V=0;16>V;++V)$[V]=M.charCodeAt(O++)|M.charCodeAt(O++)<<8|M.charCodeAt(O++)<<16|M.charCodeAt(O++)<<24;else for(V=0;16>V;++V)$[V]=M[O++]|M[O++]<<8|M[O++]<<16|M[O++]<<24;M=P.g[0],O=P.g[1],V=P.g[2];var F=P.g[3],B=M+(F^O&(V^F))+$[0]+3614090360&4294967295;M=O+(B<<7&4294967295|B>>>25),B=F+(V^M&(O^V))+$[1]+3905402710&4294967295,F=M+(B<<12&4294967295|B>>>20),B=V+(O^F&(M^O))+$[2]+606105819&4294967295,V=F+(B<<17&4294967295|B>>>15),B=O+(M^V&(F^M))+$[3]+3250441966&4294967295,O=V+(B<<22&4294967295|B>>>10),B=M+(F^O&(V^F))+$[4]+4118548399&4294967295,M=O+(B<<7&4294967295|B>>>25),B=F+(V^M&(O^V))+$[5]+1200080426&4294967295,F=M+(B<<12&4294967295|B>>>20),B=V+(O^F&(M^O))+$[6]+2821735955&4294967295,V=F+(B<<17&4294967295|B>>>15),B=O+(M^V&(F^M))+$[7]+4249261313&4294967295,O=V+(B<<22&4294967295|B>>>10),B=M+(F^O&(V^F))+$[8]+1770035416&4294967295,M=O+(B<<7&4294967295|B>>>25),B=F+(V^M&(O^V))+$[9]+2336552879&4294967295,F=M+(B<<12&4294967295|B>>>20),B=V+(O^F&(M^O))+$[10]+4294925233&4294967295,V=F+(B<<17&4294967295|B>>>15),B=O+(M^V&(F^M))+$[11]+2304563134&4294967295,O=V+(B<<22&4294967295|B>>>10),B=M+(F^O&(V^F))+$[12]+1804603682&4294967295,M=O+(B<<7&4294967295|B>>>25),B=F+(V^M&(O^V))+$[13]+4254626195&4294967295,F=M+(B<<12&4294967295|B>>>20),B=V+(O^F&(M^O))+$[14]+2792965006&4294967295,V=F+(B<<17&4294967295|B>>>15),B=O+(M^V&(F^M))+$[15]+1236535329&4294967295,O=V+(B<<22&4294967295|B>>>10),B=M+(V^F&(O^V))+$[1]+4129170786&4294967295,M=O+(B<<5&4294967295|B>>>27),B=F+(O^V&(M^O))+$[6]+3225465664&4294967295,F=M+(B<<9&4294967295|B>>>23),B=V+(M^O&(F^M))+$[11]+643717713&4294967295,V=F+(B<<14&4294967295|B>>>18),B=O+(F^M&(V^F))+$[0]+3921069994&4294967295,O=V+(B<<20&4294967295|B>>>12),B=M+(V^F&(O^V))+$[5]+3593408605&4294967295,M=O+(B<<5&4294967295|B>>>27),B=F+(O^V&(M^O))+$[10]+38016083&4294967295,F=M+(B<<9&4294967295|B>>>23),B=V+(M^O&(F^M))+$[15]+3634488961&4294967295,V=F+(B<<14&4294967295|B>>>18),B=O+(F^M&(V^F))+$[4]+3889429448&4294967295,O=V+(B<<20&4294967295|B>>>12),B=M+(V^F&(O^V))+$[9]+568446438&4294967295,M=O+(B<<5&4294967295|B>>>27),B=F+(O^V&(M^O))+$[14]+3275163606&4294967295,F=M+(B<<9&4294967295|B>>>23),B=V+(M^O&(F^M))+$[3]+4107603335&4294967295,V=F+(B<<14&4294967295|B>>>18),B=O+(F^M&(V^F))+$[8]+1163531501&4294967295,O=V+(B<<20&4294967295|B>>>12),B=M+(V^F&(O^V))+$[13]+2850285829&4294967295,M=O+(B<<5&4294967295|B>>>27),B=F+(O^V&(M^O))+$[2]+4243563512&4294967295,F=M+(B<<9&4294967295|B>>>23),B=V+(M^O&(F^M))+$[7]+1735328473&4294967295,V=F+(B<<14&4294967295|B>>>18),B=O+(F^M&(V^F))+$[12]+2368359562&4294967295,O=V+(B<<20&4294967295|B>>>12),B=M+(O^V^F)+$[5]+4294588738&4294967295,M=O+(B<<4&4294967295|B>>>28),B=F+(M^O^V)+$[8]+2272392833&4294967295,F=M+(B<<11&4294967295|B>>>21),B=V+(F^M^O)+$[11]+1839030562&4294967295,V=F+(B<<16&4294967295|B>>>16),B=O+(V^F^M)+$[14]+4259657740&4294967295,O=V+(B<<23&4294967295|B>>>9),B=M+(O^V^F)+$[1]+2763975236&4294967295,M=O+(B<<4&4294967295|B>>>28),B=F+(M^O^V)+$[4]+1272893353&4294967295,F=M+(B<<11&4294967295|B>>>21),B=V+(F^M^O)+$[7]+4139469664&4294967295,V=F+(B<<16&4294967295|B>>>16),B=O+(V^F^M)+$[10]+3200236656&4294967295,O=V+(B<<23&4294967295|B>>>9),B=M+(O^V^F)+$[13]+681279174&4294967295,M=O+(B<<4&4294967295|B>>>28),B=F+(M^O^V)+$[0]+3936430074&4294967295,F=M+(B<<11&4294967295|B>>>21),B=V+(F^M^O)+$[3]+3572445317&4294967295,V=F+(B<<16&4294967295|B>>>16),B=O+(V^F^M)+$[6]+76029189&4294967295,O=V+(B<<23&4294967295|B>>>9),B=M+(O^V^F)+$[9]+3654602809&4294967295,M=O+(B<<4&4294967295|B>>>28),B=F+(M^O^V)+$[12]+3873151461&4294967295,F=M+(B<<11&4294967295|B>>>21),B=V+(F^M^O)+$[15]+530742520&4294967295,V=F+(B<<16&4294967295|B>>>16),B=O+(V^F^M)+$[2]+3299628645&4294967295,O=V+(B<<23&4294967295|B>>>9),B=M+(V^(O|~F))+$[0]+4096336452&4294967295,M=O+(B<<6&4294967295|B>>>26),B=F+(O^(M|~V))+$[7]+1126891415&4294967295,F=M+(B<<10&4294967295|B>>>22),B=V+(M^(F|~O))+$[14]+2878612391&4294967295,V=F+(B<<15&4294967295|B>>>17),B=O+(F^(V|~M))+$[5]+4237533241&4294967295,O=V+(B<<21&4294967295|B>>>11),B=M+(V^(O|~F))+$[12]+1700485571&4294967295,M=O+(B<<6&4294967295|B>>>26),B=F+(O^(M|~V))+$[3]+2399980690&4294967295,F=M+(B<<10&4294967295|B>>>22),B=V+(M^(F|~O))+$[10]+4293915773&4294967295,V=F+(B<<15&4294967295|B>>>17),B=O+(F^(V|~M))+$[1]+2240044497&4294967295,O=V+(B<<21&4294967295|B>>>11),B=M+(V^(O|~F))+$[8]+1873313359&4294967295,M=O+(B<<6&4294967295|B>>>26),B=F+(O^(M|~V))+$[15]+4264355552&4294967295,F=M+(B<<10&4294967295|B>>>22),B=V+(M^(F|~O))+$[6]+2734768916&4294967295,V=F+(B<<15&4294967295|B>>>17),B=O+(F^(V|~M))+$[13]+1309151649&4294967295,O=V+(B<<21&4294967295|B>>>11),B=M+(V^(O|~F))+$[4]+4149444226&4294967295,M=O+(B<<6&4294967295|B>>>26),B=F+(O^(M|~V))+$[11]+3174756917&4294967295,F=M+(B<<10&4294967295|B>>>22),B=V+(M^(F|~O))+$[2]+718787259&4294967295,V=F+(B<<15&4294967295|B>>>17),B=O+(F^(V|~M))+$[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(V+(B<<21&4294967295|B>>>11))&4294967295,P.g[2]=P.g[2]+V&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.u=function(P,M){M===void 0&&(M=P.length);for(var O=M-this.blockSize,$=this.B,V=this.h,F=0;F<M;){if(V==0)for(;F<=O;)i(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<M;)if($[V++]=P.charCodeAt(F++),V==this.blockSize){i(this,$),V=0;break}}else for(;F<M;)if($[V++]=P[F++],V==this.blockSize){i(this,$),V=0;break}}this.h=V,this.o+=M},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;var O=8*this.o;for(M=P.length-8;M<P.length;++M)P[M]=O&255,O/=256;for(this.u(P),P=Array(16),M=O=0;4>M;++M)for(var $=0;32>$;$+=8)P[O++]=this.g[M]>>>$&255;return P};function a(P,M){var O=l;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=M(P)}function o(P,M){this.h=M;for(var O=[],$=!0,V=P.length-1;0<=V;V--){var F=P[V]|0;$&&F==M||(O[V]=F,$=!1)}this.g=O}var l={};function c(P){return-128<=P&&128>P?a(P,function(M){return new o([M|0],0>M?-1:0)}):new o([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return m;if(0>P)return E(f(-P));for(var M=[],O=1,$=0;P>=O;$++)M[$]=P/O|0,O*=4294967296;return new o(M,0)}function h(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return E(h(P.substring(1),M));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(M,8)),$=m,V=0;V<P.length;V+=8){var F=Math.min(8,P.length-V),B=parseInt(P.substring(V,V+F),M);8>F?(F=f(Math.pow(M,F)),$=$.j(F).add(f(B))):($=$.j(O),$=$.add(f(B)))}return $}var m=c(0),b=c(1),T=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-E(this).m();for(var P=0,M=1,O=0;O<this.g.length;O++){var $=this.i(O);P+=(0<=$?$:4294967296+$)*M,M*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(S(this))return"-"+E(this).toString(P);for(var M=f(Math.pow(P,6)),O=this,$="";;){var V=D(O,M).g;O=I(O,V.j(M));var F=((0<O.g.length?O.g[0]:O.h)>>>0).toString(P);if(O=V,w(O))return F+$;for(;6>F.length;)F="0"+F;$=F+$}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function S(P){return P.h==-1}t.l=function(P){return P=I(this,P),S(P)?-1:w(P)?0:1};function E(P){for(var M=P.g.length,O=[],$=0;$<M;$++)O[$]=~P.g[$];return new o(O,~P.h).add(b)}t.abs=function(){return S(this)?E(this):this},t.add=function(P){for(var M=Math.max(this.g.length,P.g.length),O=[],$=0,V=0;V<=M;V++){var F=$+(this.i(V)&65535)+(P.i(V)&65535),B=(F>>>16)+(this.i(V)>>>16)+(P.i(V)>>>16);$=B>>>16,F&=65535,B&=65535,O[V]=B<<16|F}return new o(O,O[O.length-1]&-2147483648?-1:0)};function I(P,M){return P.add(E(M))}t.j=function(P){if(w(this)||w(P))return m;if(S(this))return S(P)?E(this).j(E(P)):E(E(this).j(P));if(S(P))return E(this.j(E(P)));if(0>this.l(T)&&0>P.l(T))return f(this.m()*P.m());for(var M=this.g.length+P.g.length,O=[],$=0;$<2*M;$++)O[$]=0;for($=0;$<this.g.length;$++)for(var V=0;V<P.g.length;V++){var F=this.i($)>>>16,B=this.i($)&65535,te=P.i(V)>>>16,Z=P.i(V)&65535;O[2*$+2*V]+=B*Z,C(O,2*$+2*V),O[2*$+2*V+1]+=F*Z,C(O,2*$+2*V+1),O[2*$+2*V+1]+=B*te,C(O,2*$+2*V+1),O[2*$+2*V+2]+=F*te,C(O,2*$+2*V+2)}for($=0;$<M;$++)O[$]=O[2*$+1]<<16|O[2*$];for($=M;$<2*M;$++)O[$]=0;return new o(O,0)};function C(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function N(P,M){this.g=P,this.h=M}function D(P,M){if(w(M))throw Error("division by zero");if(w(P))return new N(m,m);if(S(P))return M=D(E(P),M),new N(E(M.g),E(M.h));if(S(M))return M=D(P,E(M)),new N(E(M.g),M.h);if(30<P.g.length){if(S(P)||S(M))throw Error("slowDivide_ only works with positive integers.");for(var O=b,$=M;0>=$.l(P);)O=R(O),$=R($);var V=j(O,1),F=j($,1);for($=j($,2),O=j(O,2);!w($);){var B=F.add($);0>=B.l(P)&&(V=V.add(O),F=B),$=j($,1),O=j(O,1)}return M=I(P,V.j(M)),new N(V,M)}for(V=m;0<=P.l(M);){for(O=Math.max(1,Math.floor(P.m()/M.m())),$=Math.ceil(Math.log(O)/Math.LN2),$=48>=$?1:Math.pow(2,$-48),F=f(O),B=F.j(M);S(B)||0<B.l(P);)O-=$,F=f(O),B=F.j(M);w(F)&&(F=b),V=V.add(F),P=I(P,B)}return new N(V,P)}t.A=function(P){return D(this,P).h},t.and=function(P){for(var M=Math.max(this.g.length,P.g.length),O=[],$=0;$<M;$++)O[$]=this.i($)&P.i($);return new o(O,this.h&P.h)},t.or=function(P){for(var M=Math.max(this.g.length,P.g.length),O=[],$=0;$<M;$++)O[$]=this.i($)|P.i($);return new o(O,this.h|P.h)},t.xor=function(P){for(var M=Math.max(this.g.length,P.g.length),O=[],$=0;$<M;$++)O[$]=this.i($)^P.i($);return new o(O,this.h^P.h)};function R(P){for(var M=P.g.length+1,O=[],$=0;$<M;$++)O[$]=P.i($)<<1|P.i($-1)>>>31;return new o(O,P.h)}function j(P,M){var O=M>>5;M%=32;for(var $=P.g.length-O,V=[],F=0;F<$;F++)V[F]=0<M?P.i(F+O)>>>M|P.i(F+O+1)<<32-M:P.i(F+O);return new o(V,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iq=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=h,xs=o}).apply(typeof dM<"u"?dM:typeof self<"u"?self:typeof window<"u"?window:{});var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aq,lh,oq,iy,OS,sq,lq,uq;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,k,L){return x==Array.prototype||x==Object.prototype||(x[k]=L.value),x};function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sg=="object"&&Sg];for(var k=0;k<x.length;++k){var L=x[k];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(x,k){if(k)e:{var L=r;x=x.split(".");for(var G=0;G<x.length-1;G++){var re=x[G];if(!(re in L))break e;L=L[re]}x=x[x.length-1],G=L[x],k=k(G),k!=G&&k!=null&&e(L,x,{configurable:!0,writable:!0,value:k})}}function a(x,k){x instanceof String&&(x+="");var L=0,G=!1,re={next:function(){if(!G&&L<x.length){var fe=L++;return{value:k(fe,x[fe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}i("Array.prototype.values",function(x){return x||function(){return a(this,function(k,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(x){var k=typeof x;return k=k!="object"?k:x?Array.isArray(x)?"array":k:"null",k=="array"||k=="object"&&typeof x.length=="number"}function f(x){var k=typeof x;return k=="object"&&x!=null||k=="function"}function h(x,k,L){return x.call.apply(x.bind,arguments)}function m(x,k,L){if(!x)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(re,G),x.apply(k,re)}}return function(){return x.apply(k,arguments)}}function b(x,k,L){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,b.apply(null,arguments)}function T(x,k){var L=Array.prototype.slice.call(arguments,1);return function(){var G=L.slice();return G.push.apply(G,arguments),x.apply(this,G)}}function w(x,k){function L(){}L.prototype=k.prototype,x.aa=k.prototype,x.prototype=new L,x.prototype.constructor=x,x.Qb=function(G,re,fe){for(var Se=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Se[dt-2]=arguments[dt];return k.prototype[re].apply(G,Se)}}function S(x){const k=x.length;if(0<k){const L=Array(k);for(let G=0;G<k;G++)L[G]=x[G];return L}return[]}function E(x,k){for(let L=1;L<arguments.length;L++){const G=arguments[L];if(c(G)){const re=x.length||0,fe=G.length||0;x.length=re+fe;for(let Se=0;Se<fe;Se++)x[re+Se]=G[Se]}else x.push(G)}}class I{constructor(k,L){this.i=k,this.j=L,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function C(x){return/^[\s\xa0]*$/.test(x)}function N(){var x=l.navigator;return x&&(x=x.userAgent)?x:""}function D(x){return D[" "](x),x}D[" "]=function(){};var R=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function j(x,k,L){for(const G in x)k.call(L,x[G],G,x)}function P(x,k){for(const L in x)k.call(void 0,x[L],L,x)}function M(x){const k={};for(const L in x)k[L]=x[L];return k}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(x,k){let L,G;for(let re=1;re<arguments.length;re++){G=arguments[re];for(L in G)x[L]=G[L];for(let fe=0;fe<O.length;fe++)L=O[fe],Object.prototype.hasOwnProperty.call(G,L)&&(x[L]=G[L])}}function V(x){var k=1;x=x.split(":");const L=[];for(;0<k&&x.length;)L.push(x.shift()),k--;return x.length&&L.push(x.join(":")),L}function F(x){l.setTimeout(()=>{throw x},0)}function B(){var x=ae;let k=null;return x.g&&(k=x.g,x.g=x.g.next,x.g||(x.h=null),k.next=null),k}class te{constructor(){this.h=this.g=null}add(k,L){const G=Z.get();G.set(k,L),this.h?this.h.next=G:this.g=G,this.h=G}}var Z=new I(()=>new W,x=>x.reset());class W{constructor(){this.next=this.g=this.h=null}set(k,L){this.h=k,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,le=!1,ae=new te,H=()=>{const x=l.Promise.resolve(void 0);Q=()=>{x.then(X)}};var X=()=>{for(var x;x=B();){try{x.h.call(x.g)}catch(L){F(L)}var k=Z;k.j(x),100>k.h&&(k.h++,x.next=k.g,k.g=x)}le=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(x,k){this.type=x,this.g=this.target=k,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var x=!1,k=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const L=()=>{};l.addEventListener("test",L,k),l.removeEventListener("test",L,k)}catch{}return x}();function Ie(x,k){if(se.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var L=this.type=x.type,G=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=k,k=x.relatedTarget){if(R){e:{try{D(k.nodeName);var re=!0;break e}catch{}re=!1}re||(k=null)}}else L=="mouseover"?k=x.fromElement:L=="mouseout"&&(k=x.toElement);this.relatedTarget=k,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:Ce[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&Ie.aa.h.call(this)}}w(Ie,se);var Ce={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),Be=0;function we(x,k,L,G,re){this.listener=x,this.proxy=null,this.src=k,this.type=L,this.capture=!!G,this.ha=re,this.key=++Be,this.da=this.fa=!1}function Me(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function je(x){this.src=x,this.g={},this.h=0}je.prototype.add=function(x,k,L,G,re){var fe=x.toString();x=this.g[fe],x||(x=this.g[fe]=[],this.h++);var Se=lt(x,k,G,re);return-1<Se?(k=x[Se],L||(k.fa=!1)):(k=new we(k,this.src,fe,!!G,re),k.fa=L,x.push(k)),k};function ge(x,k){var L=k.type;if(L in x.g){var G=x.g[L],re=Array.prototype.indexOf.call(G,k,void 0),fe;(fe=0<=re)&&Array.prototype.splice.call(G,re,1),fe&&(Me(k),x.g[L].length==0&&(delete x.g[L],x.h--))}}function lt(x,k,L,G){for(var re=0;re<x.length;++re){var fe=x[re];if(!fe.da&&fe.listener==k&&fe.capture==!!L&&fe.ha==G)return re}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),xe={};function Ge(x,k,L,G,re){if(Array.isArray(k)){for(var fe=0;fe<k.length;fe++)Ge(x,k[fe],L,G,re);return null}return L=ai(L),x&&x[ft]?x.K(k,L,f(G)?!!G.capture:!1,re):Qe(x,k,L,!1,G,re)}function Qe(x,k,L,G,re,fe){if(!k)throw Error("Invalid event type");var Se=f(re)?!!re.capture:!!re,dt=kn(x);if(dt||(x[ze]=dt=new je(x)),L=dt.add(k,L,G,Se,fe),L.proxy)return L;if(G=Bt(),L.proxy=G,G.src=x,G.listener=L,x.addEventListener)_e||(re=Se),re===void 0&&(re=!1),x.addEventListener(k.toString(),G,re);else if(x.attachEvent)x.attachEvent(Nn(k.toString()),G);else if(x.addListener&&x.removeListener)x.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Bt(){function x(L){return k.call(x.src,x.listener,L)}const k=br;return x}function Pt(x,k,L,G,re){if(Array.isArray(k))for(var fe=0;fe<k.length;fe++)Pt(x,k[fe],L,G,re);else G=f(G)?!!G.capture:!!G,L=ai(L),x&&x[ft]?(x=x.i,k=String(k).toString(),k in x.g&&(fe=x.g[k],L=lt(fe,L,G,re),-1<L&&(Me(fe[L]),Array.prototype.splice.call(fe,L,1),fe.length==0&&(delete x.g[k],x.h--)))):x&&(x=kn(x))&&(k=x.g[k.toString()],x=-1,k&&(x=lt(k,L,G,re)),(L=-1<x?k[x]:null)&&Cn(L))}function Cn(x){if(typeof x!="number"&&x&&!x.da){var k=x.src;if(k&&k[ft])ge(k.i,x);else{var L=x.type,G=x.proxy;k.removeEventListener?k.removeEventListener(L,G,x.capture):k.detachEvent?k.detachEvent(Nn(L),G):k.addListener&&k.removeListener&&k.removeListener(G),(L=kn(k))?(ge(L,x),L.h==0&&(L.src=null,k[ze]=null)):Me(x)}}}function Nn(x){return x in xe?xe[x]:xe[x]="on"+x}function br(x,k){if(x.da)x=!0;else{k=new Ie(k,this);var L=x.listener,G=x.ha||x.src;x.fa&&Cn(x),x=L.call(G,k)}return x}function kn(x){return x=x[ze],x instanceof je?x:null}var Xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ai(x){return typeof x=="function"?x:(x[Xn]||(x[Xn]=function(k){return x.handleEvent(k)}),x[Xn])}function Mt(){ne.call(this),this.i=new je(this),this.M=this,this.F=null}w(Mt,ne),Mt.prototype[ft]=!0,Mt.prototype.removeEventListener=function(x,k,L,G){Pt(this,x,k,L,G)};function bt(x,k){var L,G=x.F;if(G)for(L=[];G;G=G.F)L.push(G);if(x=x.M,G=k.type||k,typeof k=="string")k=new se(k,x);else if(k instanceof se)k.target=k.target||x;else{var re=k;k=new se(G,x),$(k,re)}if(re=!0,L)for(var fe=L.length-1;0<=fe;fe--){var Se=k.g=L[fe];re=be(Se,G,!0,k)&&re}if(Se=k.g=x,re=be(Se,G,!0,k)&&re,re=be(Se,G,!1,k)&&re,L)for(fe=0;fe<L.length;fe++)Se=k.g=L[fe],re=be(Se,G,!1,k)&&re}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var x=this.i,k;for(k in x.g){for(var L=x.g[k],G=0;G<L.length;G++)Me(L[G]);delete x.g[k],x.h--}}this.F=null},Mt.prototype.K=function(x,k,L,G){return this.i.add(String(x),k,!1,L,G)},Mt.prototype.L=function(x,k,L,G){return this.i.add(String(x),k,!0,L,G)};function be(x,k,L,G){if(k=x.i.g[String(k)],!k)return!0;k=k.concat();for(var re=!0,fe=0;fe<k.length;++fe){var Se=k[fe];if(Se&&!Se.da&&Se.capture==L){var dt=Se.listener,Pn=Se.ha||Se.src;Se.fa&&ge(x.i,Se),re=dt.call(Pn,G)!==!1&&re}}return re&&!G.defaultPrevented}function De(x,k,L){if(typeof x=="function")L&&(x=b(x,L));else if(x&&typeof x.handleEvent=="function")x=b(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(x,k||0)}function xt(x){x.g=De(()=>{x.g=null,x.i&&(x.i=!1,xt(x))},x.l);const k=x.h;x.h=null,x.m.apply(null,k)}class fn extends ne{constructor(k,L){super(),this.m=k,this.l=L,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(x){ne.call(this),this.h=x,this.g={}}w(xr,ne);var sr=[];function _r(x){j(x.g,function(k,L){this.g.hasOwnProperty(L)&&Cn(k)},x),x.g={}}xr.prototype.N=function(){xr.aa.N.call(this),_r(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=l.JSON.stringify,Ir=l.JSON.parse,Rr=class{stringify(x){return l.JSON.stringify(x,void 0)}parse(x){return l.JSON.parse(x,void 0)}};function Ks(){}Ks.prototype.h=null;function Pa(x){return x.h||(x.h=x.i())}function Uf(){}var Ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Da(){se.call(this,"d")}w(Da,se);function $f(){se.call(this,"c")}w($f,se);var Yi={},Bf=null;function Ro(){return Bf=Bf||new Mt}Yi.La="serverreachability";function pu(x){se.call(this,Yi.La,x)}w(pu,se);function Po(x){const k=Ro();bt(k,new pu(k))}Yi.STAT_EVENT="statevent";function nm(x,k){se.call(this,Yi.STAT_EVENT,x),this.stat=k}w(nm,se);function Zt(x){const k=Ro();bt(k,new nm(k,x))}Yi.Ma="timingevent";function Rn(x,k){se.call(this,Yi.Ma,x),this.size=k}w(Rn,se);function yn(x,k){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){x()},k)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function qf(x,k,L,G,re,fe){x.info(function(){if(x.g)if(fe)for(var Se="",dt=fe.split("&"),Pn=0;Pn<dt.length;Pn++){var ht=dt[Pn].split("=");if(1<ht.length){var zn=ht[0];ht=ht[1];var Mn=zn.split("_");Se=2<=Mn.length&&Mn[1]=="type"?Se+(zn+"="+ht+"&"):Se+(zn+"=redacted&")}}else Se=null;else Se=fe;return"XMLHTTP REQ ("+G+") [attempt "+re+"]: "+k+`
`+L+`
`+Se})}function rx(x,k,L,G,re,fe,Se){x.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+re+"]: "+k+`
`+L+`
`+fe+" "+Se})}function Mo(x,k,L,G){x.info(function(){return"XMLHTTP TEXT ("+k+"): "+Ys(x,L)+(G?" "+G:"")})}function rm(x,k){x.info(function(){return"TIMEOUT: "+k})}oi.prototype.info=function(){};function Ys(x,k){if(!x.g)return k;if(!k)return null;try{var L=JSON.parse(k);if(L){for(x=0;x<L.length;x++)if(Array.isArray(L[x])){var G=L[x];if(!(2>G.length)){var re=G[1];if(Array.isArray(re)&&!(1>re.length)){var fe=re[0];if(fe!="noop"&&fe!="stop"&&fe!="close")for(var Se=1;Se<re.length;Se++)re[Se]=""}}}}return In(L)}catch{return k}}var Do={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ji;function Xi(){}w(Xi,Ks),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},Ji=new Xi;function Tr(x,k,L,G){this.j=x,this.i=k,this.l=L,this.R=G||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dn}function dn(){this.i=null,this.g="",this.h=!1}var Ff={},mu={};function Mi(x,k,L){x.L=1,x.v=el(qr(k)),x.m=L,x.P=!0,ja(x,null)}function ja(x,k){x.F=Date.now(),Js(x),x.A=qr(x.v);var L=x.A,G=x.R;Array.isArray(G)||(G=[String(G)]),Yf(L.i,"t",G),x.C=0,L=x.j.J,x.h=new dn,x.g=bm(x.j,L?k:null,!x.m),0<x.O&&(x.M=new fn(b(x.Y,x,x.g),x.O)),k=x.U,L=x.g,G=x.ca;var re="readystatechange";Array.isArray(re)||(re&&(sr[0]=re.toString()),re=sr);for(var fe=0;fe<re.length;fe++){var Se=Ge(L,re[fe],G||k.handleEvent,!1,k.h||k);if(!Se)break;k.g[Se.key]=Se}k=x.H?M(x.H):{},x.m?(x.u||(x.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,k)):(x.u="GET",x.g.ea(x.A,x.u,null,k)),Po(),qf(x.i,x.u,x.A,x.l,x.R,x.m)}Tr.prototype.ca=function(x){x=x.target;const k=this.M;k&&ci(x)==3?k.j():this.Y(x)},Tr.prototype.Y=function(x){try{if(x==this.g)e:{const Mn=ci(this.g);var k=this.g.Ba();const za=this.g.Z();if(!(3>Mn)&&(Mn!=3||this.g&&(this.h.h||this.g.oa()||fm(this.g)))){this.J||Mn!=4||k==7||(k==8||0>=za?Po(3):Po(2)),Oo(this);var L=this.g.Z();this.X=L;t:if(im(this)){var G=fm(this.g);x="";var re=G.length,fe=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qn(this),Qi(this);var Se="";break t}this.h.i=new l.TextDecoder}for(k=0;k<re;k++)this.h.h=!0,x+=this.h.i.decode(G[k],{stream:!(fe&&k==re-1)});G.length=0,this.h.g+=x,this.C=0,Se=this.h.g}else Se=this.g.oa();if(this.o=L==200,rx(this.i,this.u,this.A,this.l,this.R,Mn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Pn=this.g;if((dt=Pn.g?Pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(dt)){var ht=dt;break t}}ht=null}if(L=ht)Mo(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xs(this,L);else{this.o=!1,this.s=3,Zt(12),Qn(this),Qi(this);break e}}if(this.P){L=!0;let Zn;for(;!this.J&&this.C<Se.length;)if(Zn=am(this,Se),Zn==mu){Mn==4&&(this.s=4,Zt(14),L=!1),Mo(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Ff){this.s=4,Zt(15),Mo(this.i,this.l,Se,"[Invalid Chunk]"),L=!1;break}else Mo(this.i,this.l,Zn,null),Xs(this,Zn);if(im(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mn!=4||Se.length!=0||this.h.h||(this.s=1,Zt(16),L=!1),this.o=this.o&&L,!L)Mo(this.i,this.l,Se,"[Invalid Chunked Response]"),Qn(this),Qi(this);else if(0<Se.length&&!this.W){this.W=!0;var zn=this.j;zn.g==this&&zn.ba&&!zn.M&&(zn.j.info("Great, no buffering proxy detected. Bytes received: "+Se.length),ll(zn),zn.M=!0,Zt(11))}}else Mo(this.i,this.l,Se,null),Xs(this,Se);Mn==4&&Qn(this),this.o&&!this.J&&(Mn==4?gm(this.j,this):(this.o=!1,Js(this)))}else lx(this.g),L==400&&0<Se.indexOf("Unknown SID")?(this.s=3,Zt(12)):(this.s=0,Zt(13)),Qn(this),Qi(this)}}}catch{}finally{}};function im(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function am(x,k){var L=x.C,G=k.indexOf(`
`,L);return G==-1?mu:(L=Number(k.substring(L,G)),isNaN(L)?Ff:(G+=1,G+L>k.length?mu:(k=k.slice(G,G+L),x.C=G+L,k)))}Tr.prototype.cancel=function(){this.J=!0,Qn(this)};function Js(x){x.S=Date.now()+x.I,om(x,x.I)}function om(x,k){if(x.B!=null)throw Error("WatchDog timer not null");x.B=yn(b(x.ba,x),k)}function Oo(x){x.B&&(l.clearTimeout(x.B),x.B=null)}Tr.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(rm(this.i,this.A),this.L!=2&&(Po(),Zt(17)),Qn(this),this.s=2,Qi(this)):om(this,this.S-x)};function Qi(x){x.j.G==0||x.J||gm(x.j,x)}function Qn(x){Oo(x);var k=x.M;k&&typeof k.ma=="function"&&k.ma(),x.M=null,_r(x.U),x.g&&(k=x.g,x.g=null,k.abort(),k.ma())}function Xs(x,k){try{var L=x.j;if(L.G!=0&&(L.g==x||zf(L.h,x))){if(!x.K&&zf(L.h,x)&&L.G==3){try{var G=L.Da.g.parse(k)}catch{G=null}if(Array.isArray(G)&&G.length==3){var re=G;if(re[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<x.F)Cu(L),Su(L);else break e;ed(L),Zt(18)}}else L.za=re[1],0<L.za-L.T&&37500>re[2]&&L.F&&L.v==0&&!L.C&&(L.C=yn(b(L.Za,L),6e3));if(1>=yu(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Fa(L,11)}else if((x.K||L.g==x)&&Cu(L),!C(k))for(re=L.Da.g.parse(k),k=0;k<re.length;k++){let ht=re[k];if(L.T=ht[0],ht=ht[1],L.G==2)if(ht[0]=="c"){L.K=ht[1],L.ia=ht[2];const zn=ht[3];zn!=null&&(L.la=zn,L.j.info("VER="+L.la));const Mn=ht[4];Mn!=null&&(L.Aa=Mn,L.j.info("SVER="+L.Aa));const za=ht[5];za!=null&&typeof za=="number"&&0<za&&(G=1.5*za,L.L=G,L.j.info("backChannelRequestTimeoutMs_="+G)),G=L;const Zn=x.g;if(Zn){const aa=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var fe=G.h;fe.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(vu(fe,fe.h),fe.h=null))}if(G.D){const nd=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;nd&&(G.ya=nd,Dt(G.I,G.D,nd))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-x.F,L.j.info("Handshake RTT: "+L.R+"ms")),G=L;var Se=x;if(G.qa=vm(G,G.J?G.ia:null,G.W),Se.K){wr(G.h,Se);var dt=Se,Pn=G.L;Pn&&(dt.I=Pn),dt.B&&(Oo(dt),Js(dt)),G.g=Se}else pm(G);0<L.i.length&&Au(L)}else ht[0]!="stop"&&ht[0]!="close"||Fa(L,7);else L.G==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Fa(L,7):Qf(L):ht[0]!="noop"&&L.l&&L.l.ta(ht),L.v=0)}}Po(4)}catch{}}var sm=class{constructor(x,k){this.g=x,this.map=k}};function La(x){this.l=x||10,l.PerformanceNavigationTiming?(x=l.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gu(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function yu(x){return x.h?1:x.g?x.g.size:0}function zf(x,k){return x.h?x.h==k:x.g?x.g.has(k):!1}function vu(x,k){x.g?x.g.add(k):x.h=k}function wr(x,k){x.h&&x.h==k?x.h=null:x.g&&x.g.has(k)&&x.g.delete(k)}La.prototype.cancel=function(){if(this.i=Gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function Gf(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let k=x.i;for(const L of x.g.values())k=k.concat(L.D);return k}return S(x.i)}function ix(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(c(x)){for(var k=[],L=x.length,G=0;G<L;G++)k.push(x[G]);return k}k=[],L=0;for(G in x)k[L++]=x[G];return k}function bu(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(c(x)||typeof x=="string"){var k=[];x=x.length;for(var L=0;L<x;L++)k.push(L);return k}k=[],L=0;for(const G in x)k[L++]=G;return k}}}function Hf(x,k){if(x.forEach&&typeof x.forEach=="function")x.forEach(k,void 0);else if(c(x)||typeof x=="string")Array.prototype.forEach.call(x,k,void 0);else for(var L=bu(x),G=ix(x),re=G.length,fe=0;fe<re;fe++)k.call(void 0,G[fe],L&&L[fe],x)}var Qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ax(x,k){if(x){x=x.split("&");for(var L=0;L<x.length;L++){var G=x[L].indexOf("="),re=null;if(0<=G){var fe=x[L].substring(0,G);re=x[L].substring(G+1)}else fe=x[L];k(fe,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function vn(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof vn){this.h=x.h,Zs(this,x.j),this.o=x.o,this.g=x.g,jo(this,x.s),this.l=x.l;var k=x.i,L=new Ua;L.i=k.i,k.g&&(L.g=new Map(k.g),L.h=k.h),Va(this,L),this.m=x.m}else x&&(k=String(x).match(Qs))?(this.h=!1,Zs(this,k[1]||"",!0),this.o=si(k[2]||""),this.g=si(k[3]||"",!0),jo(this,k[4]),this.l=si(k[5]||"",!0),Va(this,k[6]||"",!0),this.m=si(k[7]||"")):(this.h=!1,this.i=new Ua(null,this.h))}vn.prototype.toString=function(){var x=[],k=this.j;k&&x.push(tl(k,Wf,!0),":");var L=this.g;return(L||k=="file")&&(x.push("//"),(k=this.o)&&x.push(tl(k,Wf,!0),"@"),x.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&x.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&x.push("/"),x.push(tl(L,L.charAt(0)=="/"?ox:Kf,!0))),(L=this.i.toString())&&x.push("?",L),(L=this.m)&&x.push("#",tl(L,xu)),x.join("")};function qr(x){return new vn(x)}function Zs(x,k,L){x.j=L?si(k,!0):k,x.j&&(x.j=x.j.replace(/:$/,""))}function jo(x,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);x.s=k}else x.s=null}function Va(x,k,L){k instanceof Ua?(x.i=k,um(x.i,x.h)):(L||(k=tl(k,sx)),x.i=new Ua(k,x.h))}function Dt(x,k,L){x.i.set(k,L)}function el(x){return Dt(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function si(x,k){return x?k?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function tl(x,k,L){return typeof x=="string"?(x=encodeURI(x).replace(k,lm),L&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function lm(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Wf=/[#\/\?@]/g,Kf=/[#\?:]/g,ox=/[#\?]/g,sx=/[#\?@]/g,xu=/#/g;function Ua(x,k){this.h=this.g=null,this.i=x||null,this.j=!!k}function li(x){x.g||(x.g=new Map,x.h=0,x.i&&ax(x.i,function(k,L){x.add(decodeURIComponent(k.replace(/\+/g," ")),L)}))}t=Ua.prototype,t.add=function(x,k){li(this),this.i=null,x=Zi(this,x);var L=this.g.get(x);return L||this.g.set(x,L=[]),L.push(k),this.h+=1,this};function $a(x,k){li(x),k=Zi(x,k),x.g.has(k)&&(x.i=null,x.h-=x.g.get(k).length,x.g.delete(k))}function Ba(x,k){return li(x),k=Zi(x,k),x.g.has(k)}t.forEach=function(x,k){li(this),this.g.forEach(function(L,G){L.forEach(function(re){x.call(k,re,G,this)},this)},this)},t.na=function(){li(this);const x=Array.from(this.g.values()),k=Array.from(this.g.keys()),L=[];for(let G=0;G<k.length;G++){const re=x[G];for(let fe=0;fe<re.length;fe++)L.push(k[G])}return L},t.V=function(x){li(this);let k=[];if(typeof x=="string")Ba(this,x)&&(k=k.concat(this.g.get(Zi(this,x))));else{x=Array.from(this.g.values());for(let L=0;L<x.length;L++)k=k.concat(x[L])}return k},t.set=function(x,k){return li(this),this.i=null,x=Zi(this,x),Ba(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[k]),this.h+=1,this},t.get=function(x,k){return x?(x=this.V(x),0<x.length?String(x[0]):k):k};function Yf(x,k,L){$a(x,k),0<L.length&&(x.i=null,x.g.set(Zi(x,k),S(L)),x.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],k=Array.from(this.g.keys());for(var L=0;L<k.length;L++){var G=k[L];const fe=encodeURIComponent(String(G)),Se=this.V(G);for(G=0;G<Se.length;G++){var re=fe;Se[G]!==""&&(re+="="+encodeURIComponent(String(Se[G]))),x.push(re)}}return this.i=x.join("&")};function Zi(x,k){return k=String(k),x.j&&(k=k.toLowerCase()),k}function um(x,k){k&&!x.j&&(li(x),x.i=null,x.g.forEach(function(L,G){var re=G.toLowerCase();G!=re&&($a(this,G),Yf(this,re,L))},x)),x.j=k}function nl(x,k){const L=new oi;if(l.Image){const G=new Image;G.onload=T(ui,L,"TestLoadImage: loaded",!0,k,G),G.onerror=T(ui,L,"TestLoadImage: error",!1,k,G),G.onabort=T(ui,L,"TestLoadImage: abort",!1,k,G),G.ontimeout=T(ui,L,"TestLoadImage: timeout",!1,k,G),l.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=x}else k(!1)}function Di(x,k){const L=new oi,G=new AbortController,re=setTimeout(()=>{G.abort(),ui(L,"TestPingServer: timeout",!1,k)},1e4);fetch(x,{signal:G.signal}).then(fe=>{clearTimeout(re),fe.ok?ui(L,"TestPingServer: ok",!0,k):ui(L,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(re),ui(L,"TestPingServer: error",!1,k)})}function ui(x,k,L,G,re){try{re&&(re.onload=null,re.onerror=null,re.onabort=null,re.ontimeout=null),G(L)}catch{}}function rl(){this.g=new Rr}function ea(x,k,L){const G=L||"";try{Hf(x,function(re,fe){let Se=re;f(re)&&(Se=In(re)),k.push(G+fe+"="+encodeURIComponent(Se))})}catch(re){throw k.push(G+"type="+encodeURIComponent("_badmap")),re}}function Lo(x){this.l=x.Ub||null,this.j=x.eb||!1}w(Lo,Ks),Lo.prototype.g=function(){return new qa(this.l,this.j)},Lo.prototype.i=function(x){return function(){return x}}({});function qa(x,k){Mt.call(this),this.D=x,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(qa,Mt),t=qa.prototype,t.open=function(x,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=k,this.readyState=1,na(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(k.body=x),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ta(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,na(this)),this.g&&(this.readyState=3,na(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jf(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jf(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var k=x.value?x.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!x.done}))&&(this.response=this.responseText+=k)}x.done?ta(this):na(this),this.readyState==3&&Jf(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,ta(this))},t.Qa=function(x){this.g&&(this.response=x,ta(this))},t.ga=function(){this.g&&ta(this)};function ta(x){x.readyState=4,x.l=null,x.j=null,x.v=null,na(x)}t.setRequestHeader=function(x,k){this.u.append(x,k)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],k=this.h.entries();for(var L=k.next();!L.done;)L=L.value,x.push(L[0]+": "+L[1]),L=k.next();return x.join(`\r
`)};function na(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Xf(x){let k="";return j(x,function(L,G){k+=G,k+=":",k+=L,k+=`\r
`}),k}function Fn(x,k,L){e:{for(G in L){var G=!1;break e}G=!0}G||(L=Xf(L),typeof x=="string"?L!=null&&encodeURIComponent(String(L)):Dt(x,k,L))}function wt(x){Mt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(wt,Mt);var _u=/^https?$/i,il=["POST","PUT"];t=wt.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,k,L,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);k=k?k.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ji.g(),this.v=this.o?Pa(this.o):Pa(Ji),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(k,String(x),!0),this.B=!1}catch(fe){cm(this,fe);return}if(x=L||"",L=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var re in G)L.set(re,G[re]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const fe of G.keys())L.set(fe,G.get(fe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(L.keys()).find(fe=>fe.toLowerCase()=="content-type"),re=l.FormData&&x instanceof l.FormData,!(0<=Array.prototype.indexOf.call(il,k,void 0))||G||re||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Se]of L)this.g.setRequestHeader(fe,Se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{al(this),this.u=!0,this.g.send(x),this.u=!1}catch(fe){cm(this,fe)}};function cm(x,k){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=k,x.m=5,Tu(x),ra(x)}function Tu(x){x.A||(x.A=!0,bt(x,"complete"),bt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,bt(this,"complete"),bt(this,"abort"),ra(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ra(this,!0)),wt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wu(this):this.bb())},t.bb=function(){wu(this)};function wu(x){if(x.h&&typeof o<"u"&&(!x.v[1]||ci(x)!=4||x.Z()!=2)){if(x.u&&ci(x)==4)De(x.Ea,0,x);else if(bt(x,"readystatechange"),ci(x)==4){x.h=!1;try{const Se=x.Z();e:switch(Se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var L;if(!(L=k)){var G;if(G=Se===0){var re=String(x.D).match(Qs)[1]||null;!re&&l.self&&l.self.location&&(re=l.self.location.protocol.slice(0,-1)),G=!_u.test(re?re.toLowerCase():"")}L=G}if(L)bt(x,"complete"),bt(x,"success");else{x.m=6;try{var fe=2<ci(x)?x.g.statusText:""}catch{fe=""}x.l=fe+" ["+x.Z()+"]",Tu(x)}}finally{ra(x)}}}}function ra(x,k){if(x.g){al(x);const L=x.g,G=x.v[0]?()=>{}:null;x.g=null,x.v=null,k||bt(x,"ready");try{L.onreadystatechange=G}catch{}}}function al(x){x.I&&(l.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function ci(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var k=this.g.responseText;return x&&k.indexOf(x)==0&&(k=k.substring(x.length)),Ir(k)}};function fm(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function lx(x){const k={};x=(x.g&&2<=ci(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<x.length;G++){if(C(x[G]))continue;var L=V(x[G]);const re=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const fe=k[re]||[];k[re]=fe,fe.push(L)}P(k,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ol(x,k,L){return L&&L.internalChannelParams&&L.internalChannelParams[x]||k}function Eu(x){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ol("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ol("baseRetryDelayMs",5e3,x),this.cb=ol("retryDelaySeedMs",1e4,x),this.Wa=ol("forwardChannelMaxRetries",2,x),this.wa=ol("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new La(x&&x.concurrentRequestLimit),this.Da=new rl,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Eu.prototype,t.la=8,t.G=1,t.connect=function(x,k,L,G){Zt(0),this.W=x,this.H=k||{},L&&G!==void 0&&(this.H.OSID=L,this.H.OAID=G),this.F=this.X,this.I=vm(this,null,this.W),Au(this)};function Qf(x){if(dm(x),x.G==3){var k=x.U++,L=qr(x.I);if(Dt(L,"SID",x.K),Dt(L,"RID",k),Dt(L,"TYPE","terminate"),sl(x,L),k=new Tr(x,x.j,k),k.L=2,k.v=el(qr(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!L&&l.Image&&(new Image().src=k.v,L=!0),L||(k.g=bm(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Js(k)}ym(x)}function Su(x){x.g&&(ll(x),x.g.cancel(),x.g=null)}function dm(x){Su(x),x.u&&(l.clearTimeout(x.u),x.u=null),Cu(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&l.clearTimeout(x.s),x.s=null)}function Au(x){if(!gu(x.h)&&!x.s){x.s=!0;var k=x.Ga;Q||H(),le||(Q(),le=!0),ae.add(k,x),x.B=0}}function ux(x,k){return yu(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=k.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=yn(b(x.Ga,x,k),td(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const re=new Tr(this,this.j,x);let fe=this.o;if(this.S&&(fe?(fe=M(fe),$(fe,this.S)):fe=this.S),this.m!==null||this.O||(re.H=fe,fe=null),this.P)e:{for(var k=0,L=0;L<this.i.length;L++){t:{var G=this.i[L];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(k+=G,4096<k){k=L;break e}if(k===4096||L===this.i.length-1){k=L+1;break e}}k=1e3}else k=1e3;k=hm(this,re,k),L=qr(this.I),Dt(L,"RID",x),Dt(L,"CVER",22),this.D&&Dt(L,"X-HTTP-Session-Id",this.D),sl(this,L),fe&&(this.O?k="headers="+encodeURIComponent(String(Xf(fe)))+"&"+k:this.m&&Fn(L,this.m,fe)),vu(this.h,re),this.Ua&&Dt(L,"TYPE","init"),this.P?(Dt(L,"$req",k),Dt(L,"SID","null"),re.T=!0,Mi(re,L,null)):Mi(re,L,k),this.G=2}}else this.G==3&&(x?Zf(this,x):this.i.length==0||gu(this.h)||Zf(this))};function Zf(x,k){var L;k?L=k.l:L=x.U++;const G=qr(x.I);Dt(G,"SID",x.K),Dt(G,"RID",L),Dt(G,"AID",x.T),sl(x,G),x.m&&x.o&&Fn(G,x.m,x.o),L=new Tr(x,x.j,L,x.B+1),x.m===null&&(L.H=x.o),k&&(x.i=k.D.concat(x.i)),k=hm(x,L,1e3),L.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),vu(x.h,L),Mi(L,G,k)}function sl(x,k){x.H&&j(x.H,function(L,G){Dt(k,G,L)}),x.l&&Hf({},function(L,G){Dt(k,G,L)})}function hm(x,k,L){L=Math.min(x.i.length,L);var G=x.l?b(x.l.Na,x.l,x):null;e:{var re=x.i;let fe=-1;for(;;){const Se=["count="+L];fe==-1?0<L?(fe=re[0].g,Se.push("ofs="+fe)):fe=0:Se.push("ofs="+fe);let dt=!0;for(let Pn=0;Pn<L;Pn++){let ht=re[Pn].g;const zn=re[Pn].map;if(ht-=fe,0>ht)fe=Math.max(0,re[Pn].g-100),dt=!1;else try{ea(zn,Se,"req"+ht+"_")}catch{G&&G(zn)}}if(dt){G=Se.join("&");break e}}}return x=x.i.splice(0,L),k.D=x,G}function pm(x){if(!x.g&&!x.u){x.Y=1;var k=x.Fa;Q||H(),le||(Q(),le=!0),ae.add(k,x),x.v=0}}function ed(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=yn(b(x.Fa,x),td(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,mm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=yn(b(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zt(10),Su(this),mm(this))};function ll(x){x.A!=null&&(l.clearTimeout(x.A),x.A=null)}function mm(x){x.g=new Tr(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var k=qr(x.qa);Dt(k,"RID","rpc"),Dt(k,"SID",x.K),Dt(k,"AID",x.T),Dt(k,"CI",x.F?"0":"1"),!x.F&&x.ja&&Dt(k,"TO",x.ja),Dt(k,"TYPE","xmlhttp"),sl(x,k),x.m&&x.o&&Fn(k,x.m,x.o),x.L&&(x.g.I=x.L);var L=x.g;x=x.ia,L.L=1,L.v=el(qr(k)),L.m=null,L.P=!0,ja(L,x)}t.Za=function(){this.C!=null&&(this.C=null,Su(this),ed(this),Zt(19))};function Cu(x){x.C!=null&&(l.clearTimeout(x.C),x.C=null)}function gm(x,k){var L=null;if(x.g==k){Cu(x),ll(x),x.g=null;var G=2}else if(zf(x.h,k))L=k.D,wr(x.h,k),G=1;else return;if(x.G!=0){if(k.o)if(G==1){L=k.m?k.m.length:0,k=Date.now()-k.F;var re=x.B;G=Ro(),bt(G,new Rn(G,L)),Au(x)}else pm(x);else if(re=k.s,re==3||re==0&&0<k.X||!(G==1&&ux(x,k)||G==2&&ed(x)))switch(L&&0<L.length&&(k=x.h,k.i=k.i.concat(L)),re){case 1:Fa(x,5);break;case 4:Fa(x,10);break;case 3:Fa(x,6);break;default:Fa(x,2)}}}function td(x,k){let L=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(L*=2),L*k}function Fa(x,k){if(x.j.info("Error code "+k),k==2){var L=b(x.fb,x),G=x.Xa;const re=!G;G=new vn(G||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Zs(G,"https"),el(G),re?nl(G.toString(),L):Di(G.toString(),L)}else Zt(2);x.G=0,x.l&&x.l.sa(k),ym(x),dm(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),Zt(2)):(this.j.info("Failed to ping google.com"),Zt(1))};function ym(x){if(x.G=0,x.ka=[],x.l){const k=Gf(x.h);(k.length!=0||x.i.length!=0)&&(E(x.ka,k),E(x.ka,x.i),x.h.i.length=0,S(x.i),x.i.length=0),x.l.ra()}}function vm(x,k,L){var G=L instanceof vn?qr(L):new vn(L);if(G.g!="")k&&(G.g=k+"."+G.g),jo(G,G.s);else{var re=l.location;G=re.protocol,k=k?k+"."+re.hostname:re.hostname,re=+re.port;var fe=new vn(null);G&&Zs(fe,G),k&&(fe.g=k),re&&jo(fe,re),L&&(fe.l=L),G=fe}return L=x.D,k=x.ya,L&&k&&Dt(G,L,k),Dt(G,"VER",x.la),sl(x,G),G}function bm(x,k,L){if(k&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=x.Ca&&!x.pa?new wt(new Lo({eb:L})):new wt(x.pa),k.Ha(x.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xm(){}t=xm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(x,k){return new Er(x,k)};function Er(x,k){Mt.call(this),this.g=new Eu(k),this.l=x,this.h=k&&k.messageUrlParams||null,x=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(x?x["X-WebChannel-Content-Type"]=k.messageContentType:x={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(x?x["X-WebChannel-Client-Profile"]=k.va:x={"X-WebChannel-Client-Profile":k.va}),this.g.S=x,(x=k&&k.Sb)&&!C(x)&&(this.g.m=x),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!C(k)&&(this.g.D=k,x=this.h,x!==null&&k in x&&(x=this.h,k in x&&delete x[k])),this.j=new ia(this)}w(Er,Mt),Er.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Er.prototype.close=function(){Qf(this.g)},Er.prototype.o=function(x){var k=this.g;if(typeof x=="string"){var L={};L.__data__=x,x=L}else this.u&&(L={},L.__data__=In(x),x=L);k.i.push(new sm(k.Ya++,x)),k.G==3&&Au(k)},Er.prototype.N=function(){this.g.l=null,delete this.j,Qf(this.g),delete this.g,Er.aa.N.call(this)};function _m(x){Da.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var k=x.__sm__;if(k){e:{for(const L in k){x=L;break e}x=void 0}(this.i=x)&&(x=this.i,k=k!==null&&x in k?k[x]:void 0),this.data=k}else this.data=x}w(_m,Da);function Tm(){$f.call(this),this.status=1}w(Tm,$f);function ia(x){this.g=x}w(ia,xm),ia.prototype.ua=function(){bt(this.g,"a")},ia.prototype.ta=function(x){bt(this.g,new _m(x))},ia.prototype.sa=function(x){bt(this.g,new Tm)},ia.prototype.ra=function(){bt(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,Er.prototype.send=Er.prototype.o,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,uq=function(){return new Nu},lq=function(){return Ro()},sq=Yi,OS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Do.NO_ERROR=0,Do.TIMEOUT=8,Do.HTTP_ERROR=6,iy=Do,Oa.COMPLETE="complete",oq=Oa,Uf.EventType=Ma,Ma.OPEN="a",Ma.CLOSE="b",Ma.ERROR="c",Ma.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,lh=Uf,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,aq=wt}).apply(typeof Sg<"u"?Sg:typeof self<"u"?self:typeof window<"u"?window:{});const hM="@firebase/firestore",pM="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Bv("@firebase/firestore");function ac(){return zl.logLevel}function ke(t,...e){if(zl.logLevel<=st.DEBUG){const n=e.map(r1);zl.debug(`Firestore (${bf}): ${t}`,...n)}}function yo(t,...e){if(zl.logLevel<=st.ERROR){const n=e.map(r1);zl.error(`Firestore (${bf}): ${t}`,...n)}}function Mc(t,...e){if(zl.logLevel<=st.WARN){const n=e.map(r1);zl.warn(`Firestore (${bf}): ${t}`,...n)}}function r1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cq(t,r,n)}function cq(t,e,n){let r=`FIRESTORE (${bf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yo(r),new Error(r)}function At(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||cq(e,i,r)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ka{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mr.UNAUTHENTICATED))}shutdown(){}}class NY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kY{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new _s,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _s)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new fq(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class IY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new IY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MY(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function jS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return p_(i)===p_(a)?ut(i,a):p_(i)?1:-1}return ut(t.length,e.length)}const DY=55296,OY=57343;function p_(t){const e=t.charCodeAt(0);return e>=DY&&e<=OY}function Dc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="__name__";class fa{constructor(e,n,r){n===void 0?n=0:n>e.length&&We(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&We(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return fa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=fa.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ut(e.length,n.length)}static compareSegments(e,n){const r=fa.isNumericId(e),i=fa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?fa.extractNumericId(e).compare(fa.extractNumericId(n)):jS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class Kt extends fa{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Kt(n)}static emptyPath(){return new Kt([])}}const jY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends fa{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return jY.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gM}static keyField(){return new ar([gM])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(a(),i++)}if(a(),o)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Kt.fromString(e))}static fromName(e){return new Ve(Kt.fromString(e).popFirst(5))}static empty(){return new Ve(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t,e,n){if(!n)throw new Ne(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LY(t,e,n,r){if(e===!0&&r===!0)throw new Ne(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function yM(t){if(!Ve.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vM(t){if(Ve.isDocumentKey(t))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hq(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Gv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":We(12329,{type:typeof t})}function Ci(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gv(t);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lp(t,e){if(!hq(t))throw new Ne(me.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Ne(me.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=-62135596800,xM=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xM);return new Qt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bM)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xM}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lp(e,Qt._jsonSchema))return new Qt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qt._jsonSchemaVersion="firestore/timestamp/1.0",Qt._jsonSchema={type:En("string",Qt._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Qt(0,0))}static max(){return new Je(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=-1;function VY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(r===1e9?new Qt(n+1,0):new Qt(n,r));return new ks(i,Ve.empty(),e)}function UY(t){return new ks(t.readTime,t.key,Lh)}class ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ks(Je.min(),Ve.empty(),Lh)}static max(){return new ks(Je.max(),Ve.empty(),Lh)}}function $Y(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qY{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==BY)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&We(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,a=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++a,o&&a===i&&n()},c=>r(c))}),o=!0,a===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next(h=>{o[f]=h,++l,l===a&&r(o)},h=>i(h))}})}static doWhile(e,n){return new ve((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function FY(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _f(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=-1;function Wv(t){return t==null}function Ey(t){return t===0&&1/t==-1/0}function zY(t){return typeof t=="number"&&Number.isInteger(t)&&!Ey(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq="";function GY(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_M(e)),e=HY(t.get(n),e);return _M(e)}function HY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case pq:n+="";break;default:n+=a}}return n}function _M(t){return t+pq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new an(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ag(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ag(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ag(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ag(this.root,e,this.comparator,!0)}}class Ag{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=a??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ir(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw We(43730,{key:this.key,value:this.value});if(this.right.isRed())throw We(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw We(27949);return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw We(57766)}get value(){throw We(16141)}get color(){throw We(16727)}get left(){throw We(29726)}get right(){throw We(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wM(this.data.getIterator())}getIteratorFrom(e){return new wM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class wM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new ni([])}unionWith(e){let n=new Bn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gq("Invalid base64 string: "+a):a}}(e);return new or(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new or(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const WY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=WY.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mn(t.seconds),nanos:mn(t.nanos)}}function mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="server_timestamp",vq="__type__",bq="__previous_value__",xq="__local_write_time__";function o1(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[vq])==null?void 0:r.stringValue)===yq}function Kv(t){const e=t.mapValue.fields[bq];return o1(e)?Kv(e):e}function Vh(t){const e=Is(t.mapValue.fields[xq].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n,r,i,a,o,l,c,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h}}const Sy="(default)";class Uh{constructor(e,n){this.projectId=e,this.database=n||Sy}static empty(){return new Uh("","")}get isDefaultDatabase(){return this.database===Sy}isEqual(e){return e instanceof Uh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="__type__",YY="__max__",Cg={mapValue:{}},Tq="__vector__",Ay="value";function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o1(t)?4:XY(t)?9007199254740991:JY(t)?10:11:We(28295,{value:t})}function Sa(t,e){if(t===e)return!0;const n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vh(t).isEqual(Vh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Is(i.timestampValue),l=Is(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Rs(i.bytesValue).isEqual(Rs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return mn(i.geoPointValue.latitude)===mn(a.geoPointValue.latitude)&&mn(i.geoPointValue.longitude)===mn(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return mn(i.integerValue)===mn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=mn(i.doubleValue),l=mn(a.doubleValue);return o===l?Ey(o)===Ey(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Dc(t.arrayValue.values||[],e.arrayValue.values||[],Sa);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},l=a.mapValue.fields||{};if(TM(o)!==TM(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Sa(o[c],l[c])))return!1;return!0}(t,e);default:return We(52216,{left:t})}}function $h(t,e){return(t.values||[]).find(n=>Sa(n,e))!==void 0}function Oc(t,e){if(t===e)return 0;const n=Ps(t),r=Ps(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=mn(a.integerValue||a.doubleValue),c=mn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return EM(t.timestampValue,e.timestampValue);case 4:return EM(Vh(t),Vh(e));case 5:return jS(t.stringValue,e.stringValue);case 6:return function(a,o){const l=Rs(a),c=Rs(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=ut(l[f],c[f]);if(h!==0)return h}return ut(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=ut(mn(a.latitude),mn(o.latitude));return l!==0?l:ut(mn(a.longitude),mn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return SM(t.arrayValue,e.arrayValue);case 10:return function(a,o){var b,T,w,S;const l=a.fields||{},c=o.fields||{},f=(b=l[Ay])==null?void 0:b.arrayValue,h=(T=c[Ay])==null?void 0:T.arrayValue,m=ut(((w=f==null?void 0:f.values)==null?void 0:w.length)||0,((S=h==null?void 0:h.values)==null?void 0:S.length)||0);return m!==0?m:SM(f,h)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Cg.mapValue&&o===Cg.mapValue)return 0;if(a===Cg.mapValue)return 1;if(o===Cg.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),f=o.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const b=jS(c[m],h[m]);if(b!==0)return b;const T=Oc(l[c[m]],f[h[m]]);if(T!==0)return T}return ut(c.length,h.length)}(t.mapValue,e.mapValue);default:throw We(23264,{he:n})}}function EM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Is(t),r=Is(e),i=ut(n.seconds,r.seconds);return i!==0?i:ut(n.nanos,r.nanos)}function SM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Oc(n[i],r[i]);if(a)return a}return ut(n.length,r.length)}function jc(t){return LS(t)}function LS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ve.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=LS(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${LS(n.fields[o])}`;return i+"}"}(t.mapValue):We(61005,{value:t})}function ay(t){switch(Ps(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kv(t);return e?16+ay(e):16;case 5:return 2*t.stringValue.length;case 6:return Rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+ay(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bs(r.fields,(a,o)=>{i+=a.length+ay(o)}),i}(t.mapValue);default:throw We(13486,{value:t})}}function AM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VS(t){return!!t&&"integerValue"in t}function s1(t){return!!t&&"arrayValue"in t}function CM(t){return!!t&&"nullValue"in t}function NM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function oy(t){return!!t&&"mapValue"in t}function JY(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_q])==null?void 0:r.stringValue)===Tq}function bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bh(t.arrayValue.values[n]);return e}return{...t}}function XY(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YY}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.value=e}static empty(){return new Lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!oy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bh(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=bh(o):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());oy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];oy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bs(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Lr(bh(this.value))}}function wq(t){const e=[];return Bs(t.fields,(n,r)=>{const i=new ar([n]);if(oy(r)){const a=wq(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r,i,a,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new gr(e,0,Je.min(),Je.min(),Je.min(),Lr.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,Je.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,Je.min(),Je.min(),Lr.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,Je.min(),Je.min(),Lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.position=e,this.inclusive=n}}function kM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Ve.comparator(Ve.fromName(o.referenceValue),n.key):r=Oc(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function IM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function QY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eq{}class wn extends Eq{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eJ(e,n,r):n==="array-contains"?new rJ(e,r):n==="in"?new iJ(e,r):n==="not-in"?new aJ(e,r):n==="array-contains-any"?new oJ(e,r):new wn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tJ(e,r):new nJ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oc(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return We(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends Eq{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wi(e,n)}matches(e){return Sq(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sq(t){return t.op==="and"}function Aq(t){return ZY(t)&&Sq(t)}function ZY(t){for(const e of t.filters)if(e instanceof Wi)return!1;return!0}function US(t){if(t instanceof wn)return t.field.canonicalString()+t.op.toString()+jc(t.value);if(Aq(t))return t.filters.map(e=>US(e)).join(",");{const e=t.filters.map(n=>US(n)).join(",");return`${t.op}(${e})`}}function Cq(t,e){return t instanceof wn?function(r,i){return i instanceof wn&&r.op===i.op&&r.field.isEqual(i.field)&&Sa(r.value,i.value)}(t,e):t instanceof Wi?function(r,i){return i instanceof Wi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,l)=>a&&Cq(o,i.filters[l]),!0):!1}(t,e):void We(19439)}function Nq(t){return t instanceof wn?function(n){return`${n.field.canonicalString()} ${n.op} ${jc(n.value)}`}(t):t instanceof Wi?function(n){return n.op.toString()+" {"+n.getFilters().map(Nq).join(" ,")+"}"}(t):"Filter"}class eJ extends wn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class tJ extends wn{constructor(e,n){super(e,"in",n),this.keys=kq("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nJ extends wn{constructor(e,n){super(e,"not-in",n),this.keys=kq("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kq(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class rJ extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s1(n)&&$h(n.arrayValue,this.value)}}class iJ extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$h(this.value.arrayValue,n)}}class aJ extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if($h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$h(this.value.arrayValue,n)}}class oJ extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$h(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(e,n=null,r=[],i=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=l,this.Te=null}}function RM(t,e=null,n=[],r=[],i=null,a=null,o=null){return new sJ(t,e,n,r,i,a,o)}function l1(t){const e=Xe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>US(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Wv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jc(r)).join(",")),e.Te=n}return e.Te}function u1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Cq(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IM(t.startAt,e.startAt)&&IM(t.endAt,e.endAt)}function $S(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n=null,r=[],i=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lJ(t,e,n,r,i,a,o,l){return new Tf(t,e,n,r,i,a,o,l)}function Yv(t){return new Tf(t)}function PM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Iq(t){return t.collectionGroup!==null}function xh(t){const e=Xe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Bn(ar.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(l=l.add(f.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Bh(a,r))}),n.has(ar.keyField().canonicalString())||e.Ie.push(new Bh(ar.keyField(),r))}return e.Ie}function va(t){const e=Xe(t);return e.Ee||(e.Ee=uJ(e,xh(t))),e.Ee}function uJ(t,e){if(t.limitType==="F")return RM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Bh(i.field,a)});const n=t.endAt?new Cy(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cy(t.startAt.position,t.startAt.inclusive):null;return RM(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function BS(t,e){const n=t.filters.concat([e]);return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qS(t,e,n){return new Tf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jv(t,e){return u1(va(t),va(e))&&t.limitType===e.limitType}function Rq(t){return`${l1(va(t))}|lt:${t.limitType}`}function oc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Nq(i)).join(", ")}]`),Wv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jc(i)).join(",")),`Target(${r})`}(va(t))}; limitType=${t.limitType})`}function Xv(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ve.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of xh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const f=kM(o,l,c);return o.inclusive?f<=0:f<0}(r.startAt,xh(r),i)||r.endAt&&!function(o,l,c){const f=kM(o,l,c);return o.inclusive?f>=0:f>0}(r.endAt,xh(r),i))}(t,e)}function cJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pq(t){return(e,n)=>{let r=!1;for(const i of xh(t)){const a=fJ(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function fJ(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),f=l.data.field(a);return c!==null&&f!==null?Oc(c,f):We(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return We(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bs(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return mq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ=new an(Ve.comparator);function vo(){return dJ}const Mq=new an(Ve.comparator);function uh(...t){let e=Mq;for(const n of t)e=e.insert(n.key,n);return e}function Dq(t){let e=Mq;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pl(){return _h()}function Oq(){return _h()}function _h(){return new ru(t=>t.toString(),(t,e)=>t.isEqual(e))}const hJ=new an(Ve.comparator),pJ=new Bn(Ve.comparator);function ct(...t){let e=pJ;for(const n of t)e=e.add(n);return e}const mJ=new Bn(ut);function gJ(){return mJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ey(e)?"-0":e}}function jq(t){return{integerValue:""+t}}function yJ(t,e){return zY(e)?jq(e):c1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this._=void 0}}function vJ(t,e,n){return t instanceof qh?function(i,a){const o={fields:{[vq]:{stringValue:yq},[xq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&o1(a)&&(a=Kv(a)),a&&(o.fields[bq]=a),{mapValue:o}}(n,e):t instanceof Lc?Vq(t,e):t instanceof Fh?Uq(t,e):function(i,a){const o=Lq(i,a),l=MM(o)+MM(i.Ae);return VS(o)&&VS(i.Ae)?jq(l):c1(i.serializer,l)}(t,e)}function bJ(t,e,n){return t instanceof Lc?Vq(t,e):t instanceof Fh?Uq(t,e):n}function Lq(t,e){return t instanceof Ny?function(r){return VS(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class qh extends Qv{}class Lc extends Qv{constructor(e){super(),this.elements=e}}function Vq(t,e){const n=$q(e);for(const r of t.elements)n.some(i=>Sa(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fh extends Qv{constructor(e){super(),this.elements=e}}function Uq(t,e){let n=$q(e);for(const r of t.elements)n=n.filter(i=>!Sa(i,r));return{arrayValue:{values:n}}}class Ny extends Qv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function MM(t){return mn(t.integerValue||t.doubleValue)}function $q(t){return s1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.field=e,this.transform=n}}function xJ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Lc&&i instanceof Lc||r instanceof Fh&&i instanceof Fh?Dc(r.elements,i.elements,Sa):r instanceof Ny&&i instanceof Ny?Sa(r.Ae,i.Ae):r instanceof qh&&i instanceof qh}(t.transform,e.transform)}class _J{constructor(e,n){this.version=e,this.transformResults=n}}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zv{}function qq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f1(t.key,Ni.none()):new Vp(t.key,t.data,Ni.none());{const n=t.data,r=Lr.empty();let i=new Bn(ar.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new qs(t.key,r,new ni(i.toArray()),Ni.none())}}function TJ(t,e,n){t instanceof Vp?function(i,a,o){const l=i.value.clone(),c=OM(i.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qs?function(i,a,o){if(!sy(i.precondition,a))return void a.convertToUnknownDocument(o.version);const l=OM(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(Fq(i)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Th(t,e,n,r){return t instanceof Vp?function(a,o,l,c){if(!sy(a.precondition,o))return l;const f=a.value.clone(),h=jM(a.fieldTransforms,c,o);return f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof qs?function(a,o,l,c){if(!sy(a.precondition,o))return l;const f=jM(a.fieldTransforms,c,o),h=o.data;return h.setAll(Fq(a)),h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(a,o,l){return sy(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function wJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=Lq(r.transform,i||null);a!=null&&(n===null&&(n=Lr.empty()),n.set(r.field,a))}return n||null}function DM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dc(r,i,(a,o)=>xJ(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vp extends Zv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qs extends Zv{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Fq(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OM(t,e,n){const r=new Map;At(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,l=e.data.field(a.field);r.set(a.field,bJ(o,l,n[i]))}return r}function jM(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,vJ(a,o,e))}return r}class f1 extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EJ extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&TJ(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Oq();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(i.key)?null:l;const c=qq(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ct())}isEqual(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(n,r)=>DM(n,r))&&Dc(this.baseMutations,e.baseMutations,(n,r)=>DM(n,r))}}class d1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){At(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return hJ}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new d1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,mt;function NJ(t){switch(t){case me.OK:return We(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return We(15467,{code:t})}}function zq(t){if(t===void 0)return yo("GRPC error has no .code"),me.UNKNOWN;switch(t){case _n.OK:return me.OK;case _n.CANCELLED:return me.CANCELLED;case _n.UNKNOWN:return me.UNKNOWN;case _n.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case _n.INTERNAL:return me.INTERNAL;case _n.UNAVAILABLE:return me.UNAVAILABLE;case _n.UNAUTHENTICATED:return me.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case _n.NOT_FOUND:return me.NOT_FOUND;case _n.ALREADY_EXISTS:return me.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return me.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case _n.ABORTED:return me.ABORTED;case _n.OUT_OF_RANGE:return me.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return me.UNIMPLEMENTED;case _n.DATA_LOSS:return me.DATA_LOSS;default:return We(39323,{code:t})}}(mt=_n||(_n={}))[mt.OK=0]="OK",mt[mt.CANCELLED=1]="CANCELLED",mt[mt.UNKNOWN=2]="UNKNOWN",mt[mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mt[mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mt[mt.NOT_FOUND=5]="NOT_FOUND",mt[mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",mt[mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",mt[mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",mt[mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mt[mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mt[mt.ABORTED=10]="ABORTED",mt[mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",mt[mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",mt[mt.INTERNAL=13]="INTERNAL",mt[mt.UNAVAILABLE=14]="UNAVAILABLE",mt[mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ=new xs([4294967295,4294967295],0);function LM(t){const e=kJ().encode(t),n=new iq;return n.update(e),new Uint8Array(n.digest())}function VM(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xs([n,r],0),new xs([i,a],0)]}class h1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ch(`Invalid padding: ${n}`);if(r<0)throw new ch(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ch(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ch(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(xs.fromNumber(r)));return i.compare(IJ)===1&&(i=new xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=LM(e),[r,i]=VM(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new h1(a,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const n=LM(e),[r,i]=VM(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Up.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eb(Je.min(),i,new an(ut),vo(),ct())}}class Up{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Up(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Gq{constructor(e,n){this.targetId=e,this.Ce=n}}class Hq{constructor(e,n,r=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UM{constructor(){this.ve=0,this.Fe=$M(),this.Me=or.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),r=ct();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:We(38017,{changeType:a})}}),new Up(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=$M()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,At(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=vo(),this.Je=Ng(),this.He=Ng(),this.Ye=new an(ut)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:We(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if($S(a))if(r===0){const o=new Ve(a.path);this.et(n,o,gr.newNoDocument(o,Je.min()))}else At(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),c=l?this.ct(l,e,o):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,l;try{o=Rs(r).toUint8Array()}catch(c){if(c instanceof gq)return Mc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new h1(o,i,a)}catch(c){return Mc(c instanceof ch?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,o)=>{const l=this.ot(o);if(l){if(a.current&&$S(l.target)){const c=new Ve(l.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,gr.newNoDocument(c,e))}a.Be&&(n.set(o,a.ke()),a.qe())}});let r=ct();this.He.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.je.forEach((a,o)=>o.setReadTime(e));const i=new eb(e,n,this.Ye,this.je,r);return this.je=vo(),this.Je=Ng(),this.He=Ng(),this.Ye=new an(ut),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new UM,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bn(ut),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bn(ut),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new UM),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ng(){return new an(Ve.comparator)}function $M(){return new an(Ve.comparator)}const PJ={asc:"ASCENDING",desc:"DESCENDING"},MJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DJ={and:"AND",or:"OR"};class OJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function FS(t,e){return t.useProto3Json||Wv(e)?e:{value:e}}function ky(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jJ(t,e){return ky(t,e.toTimestamp())}function ba(t){return At(!!t,49232),Je.fromTimestamp(function(n){const r=Is(n);return new Qt(r.seconds,r.nanos)}(t))}function p1(t,e){return zS(t,e).canonicalString()}function zS(t,e){const n=function(i){return new Kt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Kq(t){const e=Kt.fromString(t);return At(Zq(e),10190,{key:e.toString()}),e}function GS(t,e){return p1(t.databaseId,e.path)}function m_(t,e){const n=Kq(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(Jq(n))}function Yq(t,e){return p1(t.databaseId,e)}function LJ(t){const e=Kq(t);return e.length===4?Kt.emptyPath():Jq(e)}function HS(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jq(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function BM(t,e,n){return{name:GS(t,e),fields:n.value.mapValue.fields}}function VJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:We(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,h){return f.useProto3Json?(At(h===void 0||typeof h=="string",58123),or.fromBase64String(h||"")):(At(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),or.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(f){const h=f.code===void 0?me.UNKNOWN:zq(f.code);return new Ne(h,f.message||"")}(o);n=new Hq(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=m_(t,r.document.name),a=ba(r.document.updateTime),o=r.document.createTime?ba(r.document.createTime):Je.min(),l=new Lr({mapValue:{fields:r.document.fields}}),c=gr.newFoundDocument(i,a,o,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new ly(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=m_(t,r.document),a=r.readTime?ba(r.readTime):Je.min(),o=gr.newNoDocument(i,a),l=r.removedTargetIds||[];n=new ly([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=m_(t,r.document),a=r.removedTargetIds||[];n=new ly([],a,i,null)}else{if(!("filter"in e))return We(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new CJ(i,a),l=r.targetId;n=new Gq(l,o)}}return n}function UJ(t,e){let n;if(e instanceof Vp)n={update:BM(t,e.key,e.value)};else if(e instanceof f1)n={delete:GS(t,e.key)};else if(e instanceof qs)n={update:BM(t,e.key,e.data),updateMask:KJ(e.fieldMask)};else{if(!(e instanceof EJ))return We(16599,{Vt:e.type});n={verify:GS(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const l=o.transform;if(l instanceof qh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Lc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Fh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ny)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw We(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:jJ(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:We(27497)}(t,e.precondition)),n}function $J(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?ba(i.updateTime):ba(a);return o.isEqual(Je.min())&&(o=ba(a)),new _J(o,i.transformResults||[])}(n,e))):[]}function BJ(t,e){return{documents:[Yq(t,e.path)]}}function qJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Yq(t,i);const a=function(f){if(f.length!==0)return Qq(Wi.create(f,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(h=>function(b){return{field:sc(b.field),direction:GJ(b.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=FS(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:i}}function FJ(t){let e=LJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){At(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(m){const b=Xq(m);return b instanceof Wi&&Aq(b)?b.getFilters():[b]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(b=>function(w){return new Bh(lc(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(b))}(n.orderBy));let l=null;n.limit&&(l=function(m){let b;return b=typeof m=="object"?m.value:m,Wv(b)?null:b}(n.limit));let c=null;n.startAt&&(c=function(m){const b=!!m.before,T=m.values||[];return new Cy(T,b)}(n.startAt));let f=null;return n.endAt&&(f=function(m){const b=!m.before,T=m.values||[];return new Cy(T,b)}(n.endAt)),lJ(e,i,o,a,l,"F",c,f)}function zJ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return We(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Xq(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=lc(n.unaryFilter.field);return wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lc(n.unaryFilter.field);return wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=lc(n.unaryFilter.field);return wn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lc(n.unaryFilter.field);return wn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return We(61313);default:return We(60726)}}(t):t.fieldFilter!==void 0?function(n){return wn.create(lc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return We(58110);default:return We(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wi.create(n.compositeFilter.filters.map(r=>Xq(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return We(1026)}}(n.compositeFilter.op))}(t):We(30097,{filter:t})}function GJ(t){return PJ[t]}function HJ(t){return MJ[t]}function WJ(t){return DJ[t]}function sc(t){return{fieldPath:t.canonicalString()}}function lc(t){return ar.fromServerFormat(t.fieldPath)}function Qq(t){return t instanceof wn?function(n){if(n.op==="=="){if(NM(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NAN"}};if(CM(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(NM(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NAN"}};if(CM(n.value))return{unaryFilter:{field:sc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sc(n.field),op:HJ(n.op),value:n.value}}}(t):t instanceof Wi?function(n){const r=n.getFilters().map(i=>Qq(i));return r.length===1?r[0]:{compositeFilter:{op:WJ(n.op),filters:r}}}(t):We(54877,{filter:t})}function KJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Zq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,i,a=Je.min(),o=Je.min(),l=or.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(e){this.yt=e}}function JJ(t){const e=FJ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(){this.Cn=new QJ}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(ks.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class QJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bn(Kt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},e4=41943040;class Or{static withCacheSize(e){return new Or(e,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or.DEFAULT_COLLECTION_PERCENTILE=10,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Or.DEFAULT=new Or(e4,Or.DEFAULT_COLLECTION_PERCENTILE,Or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Or.DISABLED=new Or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vc(0)}static cr(){return new Vc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM="LruGarbageCollector",ZJ=1048576;function zM([t,e],[n,r]){const i=ut(t,n);return i===0?ut(e,r):i}class eX{constructor(e){this.Ir=e,this.buffer=new Bn(zM),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(FM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_f(n)?ke(FM,"Ignoring IndexedDB error during garbage collection: ",n):await xf(n)}await this.Vr(3e5)})}}class nX{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Hv.ce);const r=new eX(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(qM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qM):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(a=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(f=Date.now(),ac()<=st.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function rX(t,e){return new nX(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this.changes=new ru(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Th(r.mutation,i,ni.empty(),Qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ct()){const i=Pl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=uh();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Pl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ct()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let a=vo();const o=_h(),l=function(){return _h()}();return n.forEach((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof qs)?a=a.insert(f.key,f):h!==void 0?(o.set(f.key,h.mutation.getFieldMask()),Th(h.mutation,f,h.mutation.getFieldMask(),Qt.now())):o.set(f.key,ni.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,h)=>o.set(f,h)),n.forEach((f,h)=>l.set(f,new aX(h,o.get(f)??null))),l))}recalculateAndSaveOverlays(e,n){const r=_h();let i=new an((o,l)=>o-l),a=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||ni.empty();h=l.applyToLocalView(f,h),r.set(c,h);const m=(i.get(l.batchId)||ct()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,m=Oq();h.forEach(b=>{if(!a.has(b)){const T=qq(n.get(b),r.get(b));T!==null&&m.set(b,T),a=a.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,m))}return ve.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Iq(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(Pl());let l=Lh,c=a;return o.next(f=>ve.forEach(f,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(h)?ve.resolve():this.remoteDocumentCache.getEntry(e,h).next(b=>{c=c.insert(h,b)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,ct())).next(h=>({batchId:l,changes:Dq(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let i=uh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=uh();return this.indexManager.getCollectionParents(e,a).next(l=>ve.forEach(l,c=>{const f=function(m,b){return new Tf(b,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(h=>{h.forEach((m,b)=>{o=o.insert(m,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((c,f)=>{const h=f.getKey();o.get(h)===null&&(o=o.insert(h,gr.newInvalidDocument(h)))});let l=uh();return o.forEach((c,f)=>{const h=a.get(c);h!==void 0&&Th(h.mutation,f,ni.empty(),Qt.now()),Xv(n,f)&&(l=l.insert(c,f))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sX{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ba(i.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:JJ(i.bundledQuery),readTime:ba(i.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX{constructor(){this.overlays=new an(Ve.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pl();return ve.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Pl(),a=n.length+1,o=new Ve(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new an((f,h)=>f-h);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=a.get(f.largestBatchId);h===null&&(h=Pl(),a=a.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=Pl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,h)=>l.set(f,h)),!(l.size()>=i)););return ve.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AJ(n,r));let a=this.qr.get(n);a===void 0&&(a=ct(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.Qr=new Bn(Kn.$r),this.Ur=new Bn(Kn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Kn(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Ve(new Kt([])),r=new Kn(n,e),i=new Kn(n,e+1),a=[];return this.Ur.forEachInRange([r,i],o=>{this.Gr(o),a.push(o.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ve(new Kt([])),r=new Kn(n,e),i=new Kn(n,e+1);let a=ct();return this.Ur.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Kn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ve.comparator(e.key,n.key)||ut(e.Yr,n.Yr)}static Kr(e,n){return ut(e.Yr,n.Yr)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Kn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new SJ(a,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new Kn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ve.resolve(o)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?a1:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kn(n,0),i=new Kn(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],o=>{const l=this.Xr(o.Yr);a.push(l)}),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(ut);return n.forEach(i=>{const a=new Kn(i,0),o=new Kn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],l=>{r=r.add(l.Yr)})}),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ve.isDocumentKey(a)||(a=a.child(""));const o=new Kn(new Ve(a),0);let l=new Bn(ut);return this.Zr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Yr)),!0)},o),ve.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){At(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,i=>{const a=new Kn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Kn(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fX{constructor(e){this.ri=e,this.docs=function(){return new an(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=vo();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():gr.newInvalidDocument(i))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=vo();const o=n.path,l=new Ve(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||$Y(UY(h),r)<=0||(i.has(h.key)||Xv(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return ve.resolve(a)}getAllFromCollectionGroup(e,n,r,i){We(9500)}ii(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dX(this)}getSize(e){return ve.resolve(this.size)}}class dX extends iX{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.persistence=e,this.si=new ru(n=>l1(n),u1),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.oi=0,this._i=new m1,this.targetCount=0,this.ai=Vc.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ve.waitFor(a).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hv(0),this.li=!1,this.li=!0,this.hi=new uX,this.referenceDelegate=e(this),this.Pi=new hX(this),this.indexManager=new XJ,this.remoteDocumentCache=function(i){return new fX(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new YJ(n),this.Ii=new sX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new cX(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new pX(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return ve.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class pX extends qY{constructor(e){super(),this.currentSequenceNumber=e}}class g1{constructor(e){this.persistence=e,this.Ri=new m1,this.Vi=null}static mi(e){return new g1(e)}get fi(){if(this.Vi)return this.Vi;throw We(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,r=>{const i=Ve.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,Je.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Iy{constructor(e,n){this.persistence=e,this.pi=new ru(r=>GY(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rX(this,n)}static mi(e,n){return new Iy(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return ve.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?ve.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,n).next(l=>{l||(r++,a.removeEntry(o,Je.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ay(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=ct(),i=ct();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new y1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gX{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return O8()?8:FY(vr())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new mX;return this.Ss(e,n,o).next(l=>{if(a.result=l,this.Vs)return this.bs(e,n,o,l.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(ac()<=st.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",oc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(ac()<=st.DEBUG&&ke("QueryEngine","Query:",oc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ac()<=st.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",oc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,va(n))):ve.resolve())}ys(e,n){if(PM(n))return ve.resolve(null);let r=va(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=qS(n,null,"F"),r=va(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=ct(...a);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.Ds(n,l);return this.Cs(n,f,o,c.readTime)?this.ys(e,qS(n,null,"F")):this.vs(e,f,n,c)}))})))}ws(e,n,r,i){return PM(n)||i.isEqual(Je.min())?ve.resolve(null):this.ps.getDocuments(e,r).next(a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?ve.resolve(null):(ac()<=st.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oc(n)),this.vs(e,o,n,VY(i,Lh)).next(l=>l))})}Ds(e,n){let r=new Bn(Pq(e));return n.forEach((i,a)=>{Xv(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ac()<=st.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",oc(n)),this.ps.getDocumentsMatchingQuery(e,n,ks.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="LocalStore",yX=3e8;class vX{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new an(ut),this.xs=new ru(a=>l1(a),u1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oX(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bX(t,e,n,r){return new vX(t,e,n,r)}async function n4(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],l=[];let c=ct();for(const f of i){o.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of a){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(f=>({Ls:f,removedBatchIds:o,addedBatchIds:l}))})})}function xX(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,f,h){const m=f.batch,b=m.keys();let T=ve.resolve();return b.forEach(w=>{T=T.next(()=>h.getEntry(c,w)).next(S=>{const E=f.docVersions.get(w);At(E!==null,48541),S.version.compareTo(E)<0&&(m.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),h.addEntry(S)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ct();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function r4(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function _X(t,e){const n=Xe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((h,m)=>{const b=i.get(m);if(!b)return;l.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(a,h.addedDocuments,m)));let T=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?T=T.withResumeToken(or.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(m,T),function(S,E,I){return S.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=yX?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(b,T,h)&&l.push(n.Pi.updateTargetData(a,T))});let c=vo(),f=ct();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),l.push(TX(a,o,e.documentUpdates).next(h=>{c=h.ks,f=h.qs})),!r.isEqual(Je.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next(m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(h)}return ve.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(n.Ms=i,a))}function TX(t,e,n){let r=ct(),i=ct();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=vo();return n.forEach((l,c)=>{const f=a.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Je.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ke(v1,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)}),{ks:o,qs:i}})}function wX(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=a1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function EX(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,ve.resolve(i)):n.Pi.allocateTargetId(r).next(o=>(i=new ps(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function WS(t,e,n){const r=Xe(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!_f(o))throw o;ke(v1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function GM(t,e,n){const r=Xe(t);let i=Je.min(),a=ct();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,h){const m=Xe(c),b=m.xs.get(h);return b!==void 0?ve.resolve(m.Ms.get(b)):m.Pi.getTargetData(f,h)}(r,o,va(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Je.min(),n?a:ct())).next(l=>(SX(r,cJ(e),l),{documents:l,Qs:a})))}function SX(t,e,n){let r=t.Os.get(e)||Je.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class HM{constructor(){this.activeTargetIds=gJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AX{constructor(){this.Mo=new HM,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HM,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="ConnectivityMonitor";class KM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(WM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(WM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg=null;function KS(){return kg===null?kg=function(){return 268435456+Math.round(2147483648*Math.random())}():kg++,"0x"+kg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="RestConnection",NX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kX{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Sy?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=KS(),l=this.zo(e,n.toUriEncodedString());ke(g_,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,a);const{host:f}=new URL(l),h=yf(f);return this.Jo(e,l,c,r,h).then(m=>(ke(g_,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Mc(g_,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=NX[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IX{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="WebChannelConnection";class RX extends kX{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=KS();return new Promise((l,c)=>{const f=new aq;f.setWithCredentials(!0),f.listenOnce(oq.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case iy.NO_ERROR:const m=f.getResponseJson();ke(cr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case iy.TIMEOUT:ke(cr,`RPC '${e}' ${o} timed out`),c(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case iy.HTTP_ERROR:const b=f.getStatus();if(ke(cr,`RPC '${e}' ${o} failed with status:`,b,"response text:",f.getResponseText()),b>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const w=T==null?void 0:T.error;if(w&&w.status&&w.message){const S=function(I){const C=I.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(C)>=0?C:me.UNKNOWN}(w.status);c(new Ne(S,w.message))}else c(new Ne(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:We(9055,{l_:e,streamId:o,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ke(cr,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);ke(cr,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",h,r,15)})}T_(e,n,r){const i=KS(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=uq(),l=lq(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=a.join("");ke(cr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=o.createWebChannel(h,c);this.I_(m);let b=!1,T=!1;const w=new IX({Yo:E=>{T?ke(cr,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(b||(ke(cr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),b=!0),ke(cr,`RPC '${e}' stream ${i} sending:`,E),m.send(E))},Zo:()=>m.close()}),S=(E,I,C)=>{E.listen(I,N=>{try{C(N)}catch(D){setTimeout(()=>{throw D},0)}})};return S(m,lh.EventType.OPEN,()=>{T||(ke(cr,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),S(m,lh.EventType.CLOSE,()=>{T||(T=!0,ke(cr,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))}),S(m,lh.EventType.ERROR,E=>{T||(T=!0,Mc(cr,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new Ne(me.UNAVAILABLE,"The operation could not be completed")))}),S(m,lh.EventType.MESSAGE,E=>{var I;if(!T){const C=E.data[0];At(!!C,16349);const N=C,D=(N==null?void 0:N.error)||((I=N[0])==null?void 0:I.error);if(D){ke(cr,`RPC '${e}' stream ${i} received error:`,D);const R=D.status;let j=function(O){const $=_n[O];if($!==void 0)return zq($)}(R),P=D.message;j===void 0&&(j=me.INTERNAL,P="Unknown error status: "+R+" with message "+D.message),T=!0,w.a_(new Ne(j,P)),m.close()}else ke(cr,`RPC '${e}' stream ${i} received:`,C),w.u_(C)}}),S(l,sq.STAT_EVENT,E=>{E.stat===OS.PROXY?ke(cr,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===OS.NOPROXY&&ke(cr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function y_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){return new OJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="PersistentStream";class a4{constructor(e,n,r,i,a,o,l,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new i4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(yo(n.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Ne(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ke(YM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ke(YM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PX extends a4{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VJ(this.serializer,e),r=function(a){if(!("targetChange"in a))return Je.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Je.min():o.readTime?ba(o.readTime):Je.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=HS(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=$S(c)?{documents:BJ(a,c)}:{query:qJ(a,c).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Wq(a,o.resumeToken);const f=FS(a,o.expectedCount);f!==null&&(l.expectedCount=f)}else if(o.snapshotVersion.compareTo(Je.min())>0){l.readTime=ky(a,o.snapshotVersion.toTimestamp());const f=FS(a,o.expectedCount);f!==null&&(l.expectedCount=f)}return l}(this.serializer,e);const r=zJ(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=HS(this.serializer),n.removeTarget=e,this.q_(n)}}class MX extends a4{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$J(e.writeResults,e.commitTime),r=ba(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=HS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UJ(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DX{}class OX extends DX{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Go(e,zS(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(me.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,zS(n,r),i,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(me.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yo(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl="RemoteStore";class LX{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{iu(this)&&(ke(Gl,"Restarting streams for network reachability change."),await async function(c){const f=Xe(c);f.Ea.add(4),await $p(f),f.Ra.set("Unknown"),f.Ea.delete(4),await nb(f)}(this))})}),this.Ra=new jX(r,i)}}async function nb(t){if(iu(t))for(const e of t.da)await e(!0)}async function $p(t){for(const e of t.da)await e(!1)}function o4(t,e){const n=Xe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),T1(n)?_1(n):wf(n).O_()&&x1(n,e))}function b1(t,e){const n=Xe(t),r=wf(n);n.Ia.delete(e),r.O_()&&s4(n,e),n.Ia.size===0&&(r.O_()?r.L_():iu(n)&&n.Ra.set("Unknown"))}function x1(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wf(t).Y_(e)}function s4(t,e){t.Va.Ue(e),wf(t).Z_(e)}function _1(t){t.Va=new RJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),wf(t).start(),t.Ra.ua()}function T1(t){return iu(t)&&!wf(t).x_()&&t.Ia.size>0}function iu(t){return Xe(t).Ea.size===0}function l4(t){t.Va=void 0}async function VX(t){t.Ra.set("Online")}async function UX(t){t.Ia.forEach((e,n)=>{x1(t,e)})}async function $X(t,e){l4(t),T1(t)?(t.Ra.ha(e),_1(t)):t.Ra.set("Unknown")}async function BX(t,e,n){if(t.Ra.set("Online"),e instanceof Hq&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const l of a.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(r){ke(Gl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ry(t,r)}else if(e instanceof ly?t.Va.Ze(e):e instanceof Gq?t.Va.st(e):t.Va.tt(e),!n.isEqual(Je.min()))try{const r=await r4(t.localStore);n.compareTo(r)>=0&&await function(a,o){const l=a.Va.Tt(o);return l.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=a.Ia.get(f);h&&a.Ia.set(f,h.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,f)=>{const h=a.Ia.get(c);if(!h)return;a.Ia.set(c,h.withResumeToken(or.EMPTY_BYTE_STRING,h.snapshotVersion)),s4(a,c);const m=new ps(h.target,c,f,h.sequenceNumber);x1(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ke(Gl,"Failed to raise snapshot:",r),await Ry(t,r)}}async function Ry(t,e,n){if(!_f(e))throw e;t.Ea.add(1),await $p(t),t.Ra.set("Offline"),n||(n=()=>r4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ke(Gl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await nb(t)})}function u4(t,e){return e().catch(n=>Ry(t,n,e))}async function rb(t){const e=Xe(t),n=Ms(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:a1;for(;qX(e);)try{const i=await wX(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,FX(e,i)}catch(i){await Ry(e,i)}c4(e)&&f4(e)}function qX(t){return iu(t)&&t.Ta.length<10}function FX(t,e){t.Ta.push(e);const n=Ms(t);n.O_()&&n.X_&&n.ea(e.mutations)}function c4(t){return iu(t)&&!Ms(t).x_()&&t.Ta.length>0}function f4(t){Ms(t).start()}async function zX(t){Ms(t).ra()}async function GX(t){const e=Ms(t);for(const n of t.Ta)e.ea(n.mutations)}async function HX(t,e,n){const r=t.Ta.shift(),i=d1.from(r,e,n);await u4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rb(t)}async function WX(t,e){e&&Ms(t).X_&&await async function(r,i){if(function(o){return NJ(o)&&o!==me.ABORTED}(i.code)){const a=r.Ta.shift();Ms(r).B_(),await u4(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await rb(r)}}(t,e),c4(t)&&f4(t)}async function JM(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),ke(Gl,"RemoteStore received new credentials");const r=iu(n);n.Ea.add(3),await $p(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nb(n)}async function KX(t,e){const n=Xe(t);e?(n.Ea.delete(2),await nb(n)):e||(n.Ea.add(2),await $p(n),n.Ra.set("Unknown"))}function wf(t){return t.ma||(t.ma=function(n,r,i){const a=Xe(n);return a.sa(),new PX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:VX.bind(null,t),t_:UX.bind(null,t),r_:$X.bind(null,t),H_:BX.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),T1(t)?_1(t):t.Ra.set("Unknown")):(await t.ma.stop(),l4(t))})),t.ma}function Ms(t){return t.fa||(t.fa=function(n,r,i){const a=Xe(n);return a.sa(),new MX(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zX.bind(null,t),r_:WX.bind(null,t),ta:GX.bind(null,t),na:HX.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await rb(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(Gl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,l=new w1(e,n,o,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E1(t,e){if(yo("AsyncQueue",`${e}: ${t}`),_f(t))return new Ne(me.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{static emptySet(e){return new _c(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=uh(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _c)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _c;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.ga=new an(Ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):We(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uc{constructor(e,n,r,i,a,o,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Uc(e,n,_c.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JX{constructor(){this.queries=QM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Xe(n),a=i.queries;i.queries=QM(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new Ne(me.ABORTED,"Firestore shutting down"))}}function QM(){return new ru(t=>Rq(t),Jv)}async function d4(t,e){const n=Xe(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new YX,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=E1(o,`Initialization of query '${oc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&S1(n)}async function h4(t,e){const n=Xe(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function XX(t,e){const n=Xe(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&S1(n)}function QX(t,e,n){const r=Xe(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function S1(t){t.Ca.forEach(e=>{e.next()})}var YS,ZM;(ZM=YS||(YS={})).Ma="default",ZM.Cache="cache";class p4{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==YS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.key=e}}class g4{constructor(e){this.key=e}}class ZX{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ct(),this.mutatedKeys=ct(),this.eu=Pq(e),this.tu=new _c(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new XM,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const b=i.get(h),T=Xv(this.query,m)?m:null,w=!!b&&this.mutatedKeys.has(b.key),S=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let E=!1;b&&T?b.data.isEqual(T.data)?w!==S&&(r.track({type:3,doc:T}),E=!0):this.su(b,T)||(r.track({type:2,doc:T}),E=!0,(c&&this.eu(T,c)>0||f&&this.eu(T,f)<0)&&(l=!0)):!b&&T?(r.track({type:0,doc:T}),E=!0):b&&!T&&(r.track({type:1,doc:b}),E=!0,(c||f)&&(l=!0)),E&&(T?(o=o.add(T),a=S?a.add(h):a.delete(h)):(o=o.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:l,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(T,w){const S=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We(20277,{Rt:E})}};return S(T)-S(w)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,f=c!==this.Za;return this.Za=c,o.length!==0||f?{snapshot:new Uc(this.query,e.tu,a,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new XM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ct(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new g4(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new m4(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const A1="SyncEngine";class eQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tQ{constructor(e){this.key=e,this.hu=!1}}class nQ{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ru(l=>Rq(l),Jv),this.Iu=new Map,this.Eu=new Set,this.du=new an(Ve.comparator),this.Au=new Map,this.Ru=new m1,this.Vu={},this.mu=new Map,this.fu=Vc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rQ(t,e,n=!0){const r=T4(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await y4(r,e,n,!0),i}async function iQ(t,e){const n=T4(t);await y4(n,e,!0,!1)}async function y4(t,e,n,r){const i=await EX(t.localStore,va(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await aQ(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&o4(t.remoteStore,i),l}async function aQ(t,e,n,r,i){t.pu=(m,b,T)=>async function(S,E,I,C){let N=E.view.ru(I);N.Cs&&(N=await GM(S.localStore,E.query,!1).then(({documents:P})=>E.view.ru(P,N)));const D=C&&C.targetChanges.get(E.targetId),R=C&&C.targetMismatches.get(E.targetId)!=null,j=E.view.applyChanges(N,S.isPrimaryClient,D,R);return tD(S,E.targetId,j.au),j.snapshot}(t,m,b,T);const a=await GM(t.localStore,e,!0),o=new ZX(e,a.Qs),l=o.ru(a.documents),c=Up.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(l,t.isPrimaryClient,c);tD(t,n,f.au);const h=new eQ(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function oQ(t,e,n){const r=Xe(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(o=>!Jv(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await WS(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&b1(r.remoteStore,i.targetId),JS(r,i.targetId)}).catch(xf)):(JS(r,i.targetId),await WS(r.localStore,i.targetId,!0))}async function sQ(t,e){const n=Xe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),b1(n.remoteStore,r.targetId))}async function lQ(t,e,n){const r=mQ(t);try{const i=await function(o,l){const c=Xe(o),f=Qt.now(),h=l.reduce((T,w)=>T.add(w.key),ct());let m,b;return c.persistence.runTransaction("Locally write mutations","readwrite",T=>{let w=vo(),S=ct();return c.Ns.getEntries(T,h).next(E=>{w=E,w.forEach((I,C)=>{C.isValidDocument()||(S=S.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(T,w)).next(E=>{m=E;const I=[];for(const C of l){const N=wJ(C,m.get(C.key).overlayedDocument);N!=null&&I.push(new qs(C.key,N,wq(N.value.mapValue),Ni.exists(!0)))}return c.mutationQueue.addMutationBatch(T,f,I,l)}).next(E=>{b=E;const I=E.applyToLocalDocumentSet(m,S);return c.documentOverlayCache.saveOverlays(T,E.batchId,I)})}).then(()=>({batchId:b.batchId,changes:Dq(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,c){let f=o.Vu[o.currentUser.toKey()];f||(f=new an(ut)),f=f.insert(l,c),o.Vu[o.currentUser.toKey()]=f}(r,i.batchId,n),await Bp(r,i.changes),await rb(r.remoteStore)}catch(i){const a=E1(i,"Failed to persist write");n.reject(a)}}async function v4(t,e){const n=Xe(t);try{const r=await _X(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Au.get(a);o&&(At(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?At(o.hu,14607):i.removedDocuments.size>0&&(At(o.hu,42227),o.hu=!1))}),await Bp(n,r,e)}catch(r){await xf(r)}}function eD(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Xe(o);c.onlineState=l;let f=!1;c.queries.forEach((h,m)=>{for(const b of m.Sa)b.va(l)&&(f=!0)}),f&&S1(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uQ(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new an(Ve.comparator);o=o.insert(a,gr.newNoDocument(a,Je.min()));const l=ct().add(a),c=new eb(Je.min(),new Map,new an(ut),o,l);await v4(r,c),r.du=r.du.remove(a),r.Au.delete(e),C1(r)}else await WS(r.localStore,e,!1).then(()=>JS(r,e,n)).catch(xf)}async function cQ(t,e){const n=Xe(t),r=e.batch.batchId;try{const i=await xX(n.localStore,e);x4(n,r,null),b4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bp(n,i)}catch(i){await xf(i)}}async function fQ(t,e,n){const r=Xe(t);try{const i=await function(o,l){const c=Xe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next(m=>(At(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(f,m))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h)).next(()=>c.localDocuments.getDocuments(f,h))})}(r.localStore,e);x4(r,e,n),b4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bp(r,i)}catch(i){await xf(i)}}function b4(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function x4(t,e,n){const r=Xe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function JS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||_4(t,r)})}function _4(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(b1(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),C1(t))}function tD(t,e,n){for(const r of n)r instanceof m4?(t.Ru.addReference(r.key,e),dQ(t,r)):r instanceof g4?(ke(A1,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||_4(t,r.key)):We(19791,{wu:r})}function dQ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(A1,"New document in limbo: "+n),t.Eu.add(r),C1(t))}function C1(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ve(Kt.fromString(e)),r=t.fu.next();t.Au.set(r,new tQ(n)),t.du=t.du.insert(n,r),o4(t.remoteStore,new ps(va(Yv(n.path)),r,"TargetPurposeLimboResolution",Hv.ce))}}async function Bp(t,e,n){const r=Xe(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((l,c)=>{o.push(r.pu(c,e,n).then(f=>{var h;if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(f){i.push(f);const m=y1.As(c.targetId,f);a.push(m)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(c,f){const h=Xe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>ve.forEach(f,b=>ve.forEach(b.Es,T=>h.persistence.referenceDelegate.addReference(m,b.targetId,T)).next(()=>ve.forEach(b.ds,T=>h.persistence.referenceDelegate.removeReference(m,b.targetId,T)))))}catch(m){if(!_f(m))throw m;ke(v1,"Failed to update sequence numbers: "+m)}for(const m of f){const b=m.targetId;if(!m.fromCache){const T=h.Ms.get(b),w=T.snapshotVersion,S=T.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(b,S)}}}(r.localStore,a))}async function hQ(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){ke(A1,"User change. New user:",e.toKey());const r=await n4(n.localStore,e);n.currentUser=e,function(a,o){a.mu.forEach(l=>{l.forEach(c=>{c.reject(new Ne(me.CANCELLED,o))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bp(n,r.Ls)}}function pQ(t,e){const n=Xe(t),r=n.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function T4(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uQ.bind(null,e),e.Pu.H_=XX.bind(null,e.eventManager),e.Pu.yu=QX.bind(null,e.eventManager),e}function mQ(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fQ.bind(null,e),e}class Py{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bX(this.persistence,new gX,e.initialUser,this.serializer)}Cu(e){return new t4(g1.mi,this.serializer)}Du(e){return new AX}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Py.provider={build:()=>new Py};class gQ extends Py{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){At(this.persistence.referenceDelegate instanceof Iy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Or.withCacheSize(this.cacheSizeBytes):Or.DEFAULT;return new t4(r=>Iy.mi(r,n),this.serializer)}}class XS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hQ.bind(null,this.syncEngine),await KX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JX}()}createDatastore(e){const n=tb(e.databaseInfo.databaseId),r=function(a){return new RX(a)}(e.databaseInfo);return function(a,o,l,c){return new OX(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,l){return new LX(r,i,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>eD(this.syncEngine,n,0),function(){return KM.v()?new KM:new CX}())}createSyncEngine(e,n){return function(i,a,o,l,c,f,h){const m=new nQ(i,a,o,l,c,f);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Xe(i);ke(Gl,"RemoteStore shutting down."),a.Ea.add(5),await $p(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}XS.provider={build:()=>new XS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class yQ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=i1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{ke(Ds,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ke(Ds,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=E1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function v_(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await n4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vQ(t);ke(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>JM(e.remoteStore,i)),t._onlineComponents=e}async function vQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Ds,"Using user provided OfflineComponentProvider");try{await v_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mc("Error using user provided cache. Falling back to memory cache: "+n),await v_(t,new Py)}}else ke(Ds,"Using default OfflineComponentProvider"),await v_(t,new gQ(void 0));return t._offlineComponents}async function E4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Ds,"Using user provided OnlineComponentProvider"),await nD(t,t._uninitializedComponentsProvider._online)):(ke(Ds,"Using default OnlineComponentProvider"),await nD(t,new XS))),t._onlineComponents}function bQ(t){return E4(t).then(e=>e.syncEngine)}async function QS(t){const e=await E4(t),n=e.eventManager;return n.onListen=rQ.bind(null,e.syncEngine),n.onUnlisten=oQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sQ.bind(null,e.syncEngine),n}function xQ(t,e,n={}){const r=new _s;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,f){const h=new w4({next:b=>{h.Nu(),o.enqueueAndForget(()=>h4(a,m));const T=b.docs.has(l);!T&&b.fromCache?f.reject(new Ne(me.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&c&&c.source==="server"?f.reject(new Ne(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),m=new p4(Yv(l.path),h,{includeMetadataChanges:!0,qa:!0});return d4(a,m)}(await QS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="firestore.googleapis.com",iD=!0;class aD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A4,this.ssl=iD}else this.host=e.host,this.ssl=e.ssl??iD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=e4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZJ)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S4(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ib{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new CY;switch(r.type){case"firstParty":return new RY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rD.get(n);r&&(ke("ComponentProvider","Removing Datastore"),rD.delete(n),r.terminate())}(this),Promise.resolve()}}function _Q(t,e,n,r={}){var f;t=Ci(t,ib);const i=yf(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(s3(`https://${l}`),l3("Firestore",!0)),a.host!==A4&&a.host!==l&&Mc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:i,emulatorOptions:r};if(!Es(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=mr.MOCK_USER;else{h=S8(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new mr(b)}t._authCredentials=new NY(new fq(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new au(this.firestore,e,this._query)}}class un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Lp(n,un._jsonSchema))return new un(e,r||null,new Ve(Kt.fromString(n.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:En("string",un._jsonSchemaVersion),referencePath:En("string")};class Ts extends au{constructor(e,n,r){super(e,n,Yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new Ve(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function Gd(t,e,...n){if(t=An(t),dq("collection","path",e),t instanceof ib){const r=Kt.fromString(e,...n);return vM(r),new Ts(t,null,r)}{if(!(t instanceof un||t instanceof Ts))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return vM(r),new Ts(t.firestore,null,r)}}function Ui(t,e,...n){if(t=An(t),arguments.length===1&&(e=i1.newId()),dq("doc","path",e),t instanceof ib){const r=Kt.fromString(e,...n);return yM(r),new un(t,null,new Ve(r))}{if(!(t instanceof un||t instanceof Ts))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return yM(r),new un(t.firestore,t instanceof Ts?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="AsyncQueue";class sD{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new i4(this,"async_queue_retry"),this._c=()=>{const r=y_();r&&ke(oD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=y_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=y_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new _s;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_f(e))throw e;ke(oD,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,yo("INTERNAL UNHANDLED ERROR: ",lD(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=w1.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&We(47125,{Pc:lD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function lD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Os extends ib{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sD(e),this._firestoreClient=void 0,await e}}}function TQ(t,e){const n=WC(),r=Sy,i=Pp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=w8("firestore");a&&_Q(i,...a)}return i}function N1(t){if(t._terminated)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wQ(t),t._firestoreClient}function wQ(t){var r,i,a;const e=t._freezeSettings(),n=function(l,c,f,h){return new KY(l,c,f,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,S4(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ei(or.fromBase64String(e))}catch(n){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ei(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lp(e,Ei._jsonSchema))return Ei.fromBase64String(e.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:En("string",Ei._jsonSchemaVersion),bytes:En("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xa._jsonSchemaVersion}}static fromJSON(e){if(Lp(e,xa._jsonSchema))return new xa(e.latitude,e.longitude)}}xa._jsonSchemaVersion="firestore/geoPoint/1.0",xa._jsonSchema={type:En("string",xa._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_a._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lp(e,_a._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _a(e.vectorValues);throw new Ne(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_a._jsonSchemaVersion="firestore/vectorValue/1.0",_a._jsonSchema={type:En("string",_a._jsonSchemaVersion),vectorValues:En("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ=/^__.*__$/;class SQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vp(e,this.data,n,this.fieldTransforms)}}class C4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We(40011,{Ac:t})}}class ob{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ob({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return My(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(N4(this.Ac)&&EQ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tb(e)}Cc(e,n,r,i=!1){return new ob({Ac:e,methodName:n,Dc:r,path:ar.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sb(t){const e=t._freezeSettings(),n=tb(t._databaseId);return new AQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k4(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);R1("Data must be an object, but it was:",o,r);const l=I4(r,o);let c,f;if(a.merge)c=new ni(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const b=ZS(e,m,n);if(!o.contains(b))throw new Ne(me.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);P4(h,b)||h.push(b)}c=new ni(h),f=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,f=o.fieldTransforms;return new SQ(new Lr(l),c,f)}class lb extends qp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lb}}function CQ(t,e,n){return new ob({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class k1 extends qp{_toFieldTransform(e){return new Bq(e.path,new qh)}isEqual(e){return e instanceof k1}}class I1 extends qp{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=CQ(this,e,!0),r=this.vc.map(a=>Ef(a,n)),i=new Lc(r);return new Bq(e.path,i)}isEqual(e){return e instanceof I1&&Es(this.vc,e.vc)}}function NQ(t,e,n,r){const i=t.Cc(1,e,n);R1("Data must be an object, but it was:",i,r);const a=[],o=Lr.empty();Bs(r,(c,f)=>{const h=P1(e,c,n);f=An(f);const m=i.yc(h);if(f instanceof lb)a.push(h);else{const b=Ef(f,m);b!=null&&(a.push(h),o.set(h,b))}});const l=new ni(a);return new C4(o,l,i.fieldTransforms)}function kQ(t,e,n,r,i,a){const o=t.Cc(1,e,n),l=[ZS(e,r,n)],c=[i];if(a.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)l.push(ZS(e,a[b])),c.push(a[b+1]);const f=[],h=Lr.empty();for(let b=l.length-1;b>=0;--b)if(!P4(f,l[b])){const T=l[b];let w=c[b];w=An(w);const S=o.yc(T);if(w instanceof lb)f.push(T);else{const E=Ef(w,S);E!=null&&(f.push(T),h.set(T,E))}}const m=new ni(f);return new C4(h,m,o.fieldTransforms)}function IQ(t,e,n,r=!1){return Ef(n,t.Cc(r?4:3,e))}function Ef(t,e){if(R4(t=An(t)))return R1("Unsupported field value:",e,t),I4(t,e);if(t instanceof qp)return function(r,i){if(!N4(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const l of r){let c=Ef(l,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yJ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Qt.fromDate(r);return{timestampValue:ky(i.serializer,a)}}if(r instanceof Qt){const a=new Qt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ky(i.serializer,a)}}if(r instanceof xa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ei)return{bytesValue:Wq(i.serializer,r._byteString)};if(r instanceof un){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:p1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _a)return function(o,l){return{mapValue:{fields:{[_q]:{stringValue:Tq},[Ay]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw l.Sc("VectorValues must only contain numeric values.");return c1(l.serializer,f)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Gv(r)}`)}(t,e)}function I4(t,e){const n={};return mq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bs(t,(r,i)=>{const a=Ef(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function R4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qt||t instanceof xa||t instanceof Ei||t instanceof un||t instanceof qp||t instanceof _a)}function R1(t,e,n){if(!R4(n)||!hq(n)){const r=Gv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ZS(t,e,n){if((e=An(e))instanceof ab)return e._internalPath;if(typeof e=="string")return P1(t,e);throw My("Field path arguments must be of type string or ",t,!1,void 0,n)}const RQ=new RegExp("[~\\*/\\[\\]]");function P1(t,e,n){if(e.search(RQ)>=0)throw My(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ab(...e.split("."))._internalPath}catch{throw My(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function My(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Ne(me.INVALID_ARGUMENT,l+t+c)}function P4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(M1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PQ extends M4{data(){return super.data()}}function M1(t,e){return typeof e=="string"?P1(t,e):e instanceof ab?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D1{}class D4 extends D1{}function DQ(t,e,...n){let r=[];e instanceof D1&&r.push(e),r=r.concat(n),function(a){const o=a.filter(c=>c instanceof j1).length,l=a.filter(c=>c instanceof O1).length;if(o>1||o>0&&l>0)throw new Ne(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class O1 extends D4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new O1(e,n,r)}_apply(e){const n=this._parse(e);return O4(e._query,n),new au(e.firestore,e.converter,BS(e._query,n))}_parse(e){const n=sb(e.firestore);return function(a,o,l,c,f,h,m){let b;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){fD(m,h);const w=[];for(const S of m)w.push(cD(c,a,S));b={arrayValue:{values:w}}}else b=cD(c,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||fD(m,h),b=IQ(l,o,m,h==="in"||h==="not-in");return wn.create(f,h,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class j1 extends D1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const l=a.getFlattenedFilters();for(const c of l)O4(o,c),o=BS(o,c)}(e._query,n),new au(e.firestore,e.converter,BS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class L1 extends D4{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new L1(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(a,o)}(e._query,this._field,this._direction);return new au(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Tf(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function OQ(t,e="asc"){const n=e,r=M1("orderBy",t);return L1._create(r,n)}function cD(t,e,n){if(typeof(n=An(n))=="string"){if(n==="")throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iq(e)&&n.indexOf("/")!==-1)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!Ve.isDocumentKey(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AM(t,new Ve(r))}if(n instanceof un)return AM(t,n._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gv(n)}.`)}function fD(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O4(t,e){const n=function(i,a){for(const o of i)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jQ{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw We(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bs(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Ay].arrayValue)==null?void 0:i.values)==null?void 0:a.map(o=>mn(o.doubleValue));return new _a(n)}convertGeoPoint(e){return new xa(mn(e.latitude),mn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vh(e));default:return null}}convertTimestamp(e){const n=Is(e);return new Qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);At(Zq(r),9688,{name:e});const i=new Uh(r.get(1),r.get(3)),a=new Ve(r.popFirst(5));return i.isEqual(n)||yo(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class fh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vl extends M4{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(M1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vl._jsonSchema={type:En("string",Vl._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class uy extends Vl{data(e={}){return super.data(e)}}class Tc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uy(this._firestore,this._userDataWriter,r.key,r,new fh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new uy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new uy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),h=o.indexOf(l.doc.key)),{type:LQ(l.type),doc:c,oldIndex:f,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Tc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=i1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VQ(t){t=Ci(t,un);const e=Ci(t.firestore,Os);return xQ(N1(e),t._key).then(n=>V4(e,t,n))}Tc._jsonSchemaVersion="firestore/querySnapshot/1.0",Tc._jsonSchema={type:En("string",Tc._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};class L4 extends jQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function UQ(t,e,n){t=Ci(t,un);const r=Ci(t.firestore,Os),i=j4(t.converter,e);return ub(r,[k4(sb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ni.none())])}function Hd(t,e,n,...r){t=Ci(t,un);const i=Ci(t.firestore,Os),a=sb(i);let o;return o=typeof(e=An(e))=="string"||e instanceof ab?kQ(a,"updateDoc",t._key,e,n,r):NQ(a,"updateDoc",t._key,e),ub(i,[o.toMutation(t._key,Ni.exists(!0))])}function b_(t){return ub(Ci(t.firestore,Os),[new f1(t._key,Ni.none())])}function Ig(t,e){const n=Ci(t.firestore,Os),r=Ui(t),i=j4(t.converter,e);return ub(n,[k4(sb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ni.exists(!1))]).then(()=>r)}function dD(t,...e){var c,f,h;t=An(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uD(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uD(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(f=m.error)==null?void 0:f.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let a,o,l;if(t instanceof un)o=Ci(t.firestore,Os),l=Yv(t._key.path),a={next:m=>{e[r]&&e[r](V4(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Ci(t,au);o=Ci(m.firestore,Os),l=m._query;const b=new L4(o);a={next:T=>{e[r]&&e[r](new Tc(o,b,m,T))},error:e[r+1],complete:e[r+2]},MQ(t._query)}return function(b,T,w,S){const E=new w4(S),I=new p4(T,E,w);return b.asyncQueue.enqueueAndForget(async()=>d4(await QS(b),I)),()=>{E.Nu(),b.asyncQueue.enqueueAndForget(async()=>h4(await QS(b),I))}}(N1(o),l,i,a)}function ub(t,e){return function(r,i){const a=new _s;return r.asyncQueue.enqueueAndForget(async()=>lQ(await bQ(r),i,a)),a.promise}(N1(t),e)}function V4(t,e,n){const r=n.docs.get(e._key),i=new L4(t);return new Vl(t,i,e._key,r,new fh(n.hasPendingWrites,n.fromCache),e.converter)}function U4(){return new k1("serverTimestamp")}function $Q(...t){return new I1("arrayUnion",t)}(function(e,n=!0){(function(i){bf=i})(Us),Ns(new Ss("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),l=new Os(new kY(r.getProvider("auth-internal")),new PY(o,r.getProvider("app-check-internal")),function(f,h){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uh(f.options.projectId,h)}(o,i),o);return a={useFetchStreams:n,...a},l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),zi(hM,pM,e),zi(hM,pM,"esm2020")})();const $4={apiKey:"AIzaSyD-F-SqweTiNZGn68oje1eu9XJB_09n3uo",authDomain:"schuldvriend-466617.firebaseapp.com",projectId:"schuldvriend-466617",storageBucket:"schuldvriend-466617.firebasestorage.app",messagingSenderId:"210636324501",appId:"1:210636324501:web:299782ccbb6e44fae6259c"},BQ=["apiKey","authDomain","projectId"],hD=BQ.filter(t=>!$4[t]);if(hD.length>0)throw new Error(`Missing Firebase configuration: ${hD.join(", ")}`);DS.apps.length||DS.initializeApp($4);const cb=gY(),Ar=TQ(),B4=q.createContext(void 0),qQ=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0);return q.useEffect(()=>{const a=iK(cb,o=>{n(o),i(!1)});return()=>a()},[]),v.jsx(B4.Provider,{value:{user:e,loading:r},children:t})},q4=()=>{const t=q.useContext(B4);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};var Ut=(t=>(t.MONTHLY="maandelijks",t.MANUAL="handmatig",t.EENMALIG="eenmalig",t))(Ut||{}),Ti=(t=>(t.DEBT_ADDED="debt_added",t.DEBT_UPDATED="debt_updated",t.DEBT_DELETED="debt_deleted",t.DEBT_PAID_OFF="debt_paid_off",t.DEBT_REOPENED="debt_reopened",t.PAYMENT_LOGGED="payment_logged",t.INCOME_ADDED="income_added",t.INCOME_UPDATED="income_updated",t.INCOME_DELETED="income_deleted",t.EXPENSE_ADDED="expense_added",t.EXPENSE_UPDATED="expense_updated",t.EXPENSE_DELETED="expense_deleted",t.SYSTEM_MESSAGE="system_message",t))(Ti||{});const ei=()=>Math.random().toString(36).substring(2,11),Fs=(t,e)=>{if(!t)return"N/A";const n=typeof t=="string"?new Date(t):t,r=e?{timeZone:"UTC",...e}:{year:"numeric",month:"long",day:"numeric",timeZone:"UTC"};return n.toLocaleDateString("nl-NL",r)},cn=(t,e)=>{const n={style:"currency",currency:"EUR"};return new Intl.NumberFormat("nl-NL",{...n,...e}).format(t).replace(/\s/g,"")},FQ=new Map,zh=(t,e="per")=>{var r;return((r={[Ut.MONTHLY]:{per:"per maand",full:"Maandelijks"},[Ut.MANUAL]:{per:"handmatig",full:"Eenmalig"},[Ut.EENMALIG]:{per:"eenmalig",full:"Eenmalig"}}[t])==null?void 0:r[e])||t.toString()},Aa=t=>{var b,T;const e=`${t.id}|${t.totalAmount}|${JSON.stringify(t.paymentPlan)}|${(t.paidOn||[]).join(",")}`,n=FQ;if(n.has(e))return(n.get(e)||[]).slice();if(t.isPaidOff||!t.paymentPlan||t.paymentPlan.amount<=0)return[];const r=t.paymentPlan,i=[];let a=t.totalAmount;if(a<=0)return[];const[o,l,c]=r.startDate.split("-").map(Number);let f=new Date(Date.UTC(o,l-1,c));if(isNaN(f.getTime()))return[];if(r.frequency===Ut.MANUAL){const w=f.toISOString().split("T")[0];return i.push({debtId:t.id,debtCreditorName:t.creditorName,paymentAmount:Math.min(r.amount,a),dueDate:w,originalPlan:r,isPaid:((b=t.paidOn)==null?void 0:b.includes(w))??!1}),i}let h=0;const m=1200;for(;a>.009&&h<m;){const w=Math.min(r.amount,a),S=f.toISOString().split("T")[0];i.push({debtId:t.id,debtCreditorName:t.creditorName,paymentAmount:w,dueDate:S,originalPlan:r,isPaid:((T=t.paidOn)==null?void 0:T.includes(S))??!1}),a-=w;const E=f.getUTCDate();f.setUTCMonth(f.getUTCMonth()+1),f.getUTCDate()!==E&&f.setUTCDate(0),h++}try{if(n.size>500){const w=n.keys().next().value;w&&n.delete(w)}n.set(e,i.slice())}catch{}return i},Fp=t=>t.isPaidOff?t.totalAmount:Aa(t).filter(r=>r.isPaid).reduce((r,i)=>r+i.paymentAmount,0),zQ=t=>{const e=t.totalAmount-Fp(t);return Math.max(0,e)},GQ=t=>{const e=new Date("2025-07-20T12:00:00Z"),r=t.flatMap(i=>i.isPaidOff?[]:Aa(i)).filter(i=>{const a=new Date(i.dueDate.replace(/-/g,"/"));return!i.isPaid&&a<e});return r.sort((i,a)=>new Date(i.dueDate.replace(/-/g,"/")).getTime()-new Date(a.dueDate.replace(/-/g,"/")).getTime()),r},F4=t=>{const e=t.filter(i=>!i.isPaidOff);if(e.length===0)return new Date;const n=e.map(i=>{const a=Aa(i);return a.length===0?null:new Date(a[a.length-1].dueDate)}).filter(i=>i!==null);if(n.length===0)return null;const r=new Date(Math.max(...n.map(i=>i.getTime())));return r.setUTCMonth(r.getUTCMonth()+1),r.setUTCDate(1),r},pD=(t,e)=>{switch(e){case Ut.MONTHLY:return t;case Ut.EENMALIG:default:return 0}},HQ=(t,e)=>{let n=0;const r=`${e.getUTCFullYear()}-${(e.getUTCMonth()+1).toString().padStart(2,"0")}`;for(const i of t){if(i.isPaidOff)continue;const a=Aa(i);for(const o of a)o.dueDate.startsWith(r)&&(n+=o.paymentAmount)}return n},z4=(t,e,n)=>{const r=t.filter(I=>!I.isPaidOff);if(r.length===0)return[];const i=F4(r);if(!i)return[];const a=new Map;for(const I of r)Aa(I).forEach(N=>{const D=N.dueDate.substring(0,7);a.set(D,(a.get(D)||0)+N.paymentAmount)});const o=[];let l=r.reduce((I,C)=>I+C.totalAmount,0);const c=r.length>0?new Date(Math.min(...r.map(I=>new Date(I.startDate.replace(/-/g,"/")).getTime()))):new Date;if(isNaN(c.getTime()))return[];let f=new Date(Date.UTC(c.getFullYear(),c.getMonth(),1));const h=Array.from(a.entries()).filter(([I,C])=>I<f.toISOString().substring(0,7)).reduce((I,[C,N])=>I+N,0);l-=h;let m=0;const b=e.reduce((I,C)=>C.frequency===Ut.MONTHLY?I+C.amount:I,0),T=n.reduce((I,C)=>C.frequency===Ut.MONTHLY?I+C.amount:I,0),w=b-T;let S=0;const E=1200;for(;f<=i&&S<E&&l>0;){const I=f.toISOString().substring(0,7),C=a.get(I)||0;o.push({month:I,year:f.getUTCFullYear().toString(),monthLabel:new Intl.DateTimeFormat("nl-NL",{month:"short"}).format(f).replace(".",""),openstaandeSchuld:Math.max(0,l),aflossing:C,spaarruimte:w-C,spaargeld:Math.max(0,m)}),l-=C,m+=w-C;const N=f.getUTCDate();f.setUTCMonth(f.getUTCMonth()+1),f.getUTCDate()!==N&&f.setUTCDate(0),S++}return o.length>0&&l<=0&&o.push({month:f.toISOString().substring(0,7),year:f.getUTCFullYear().toString(),monthLabel:new Intl.DateTimeFormat("nl-NL",{month:"short"}).format(f).replace(".",""),openstaandeSchuld:0,aflossing:0,spaarruimte:w,spaargeld:Math.max(0,m)}),o},Gh="#141ff5",V1=(t,e)=>{if(e<=0)return[];if(e===1)return[t];const n=[t];let r=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),a=parseInt(t.substring(5,7),16);const o=Math.min(Math.ceil((e-1)/2),3);for(let c=1;c<=o;c++){const f=c/(o+1)*.7,h=Math.min(255,Math.floor(r+(255-r)*f)),m=Math.min(255,Math.floor(i+(255-i)*f)),b=Math.min(255,Math.floor(a+(255-a)*f));n.push(`#${h.toString(16).padStart(2,"0")}${m.toString(16).padStart(2,"0")}${b.toString(16).padStart(2,"0")}`)}const l=e-1-o;for(let c=1;c<=l;c++){const f=c/(l+1)*.6,h=Math.max(0,Math.floor(r*(1-f))),m=Math.max(0,Math.floor(i*(1-f))),b=Math.max(0,Math.floor(a*(1-f)));n.push(`#${h.toString(16).padStart(2,"0")}${m.toString(16).padStart(2,"0")}${b.toString(16).padStart(2,"0")}`)}return Array.from(new Set(n)).slice(0,e)};class WQ{constructor(e,n){kt(this,"calls",[]);this.maxCalls=e,this.windowMs=n}canMakeCall(){const e=Date.now();return this.calls=this.calls.filter(n=>e-n<this.windowMs),this.calls.length>=this.maxCalls?!1:(this.calls.push(e),!0)}getRemainingCalls(){return Math.max(0,this.maxCalls-this.calls.length)}}class KQ{constructor(){kt(this,"rateLimiter",new WQ(100,6e4))}checkRateLimit(){if(!this.rateLimiter.canMakeCall())throw new Error("Te veel verzoeken. Probeer het later opnieuw.")}subscribeToUser(e,n){const r=Ui(Ar,"users",e);return dD(r,i=>{if(i.exists()){const a=i.data();n({id:i.id,email:a.email,firstName:a.firstName,lastName:a.lastName,birthDate:a.birthDate,municipality:a.municipality,createdAt:a.createdAt})}else console.warn("Gebruikersdocument niet gevonden"),n(null)},i=>{console.error("Error subscribing to user:",i),n(null)})}subscribeToCollection(e,n,r,i){const a=Gd(Ar,"users",e,n),o=DQ(a,OQ(r,"desc"));return dD(o,l=>{const c=l.docs.map(f=>{var b;const h=f.data(),m=(b=h.timestamp)!=null&&b.toDate?h.timestamp.toDate().toISOString():new Date().toISOString();return{id:f.id,...h,...n==="activityLog"&&{timestamp:m}}});i(c)},l=>{console.error(`Error subscribing to ${n}:`,l),i([])})}subscribeToDebts(e,n){return this.subscribeToCollection(e,"debts","startDate",n)}subscribeToIncomes(e,n){return this.subscribeToCollection(e,"incomes","startDate",n)}subscribeToExpenses(e,n){return this.subscribeToCollection(e,"expenses","startDate",n)}subscribeToActivityLog(e,n){return this.subscribeToCollection(e,"activityLog","timestamp",n)}async logUserAction(e,n,r,i){this.checkRateLimit();try{const a=Gd(Ar,"users",e,"activityLog");await Ig(a,{type:n,description:r,itemId:i||null,timestamp:U4()})}catch(a){throw console.error("Error logging action:",a),new Error("Kon actie niet loggen")}}async addDebt(e,n){this.checkRateLimit();try{const r=await Ig(Gd(Ar,"users",e,"debts"),{...n,isPaidOff:!1});return await this.logUserAction(e,Ti.DEBT_ADDED,`Nieuwe schuld '${n.creditorName}' toegevoegd.`,r.id),r.id}catch(r){throw console.error("Error adding debt:",r),new Error("Kon schuld niet toevoegen")}}async updateDebt(e,n){this.checkRateLimit();try{const{id:r,...i}=n;await Hd(Ui(Ar,"users",e,"debts",r),i),await this.logUserAction(e,Ti.DEBT_UPDATED,`Schuld '${n.creditorName}' bijgewerkt.`,r)}catch(r){throw console.error("Error updating debt:",r),new Error("Kon schuld niet bijwerken")}}async deleteDebt(e,n){this.checkRateLimit();try{await b_(Ui(Ar,"users",e,"debts",n)),await this.logUserAction(e,Ti.DEBT_DELETED,"Schuld verwijderd.")}catch(r){throw console.error("Error deleting debt:",r),new Error("Kon schuld niet verwijderen")}}async addIncome(e,n){this.checkRateLimit();try{const r=await Ig(Gd(Ar,"users",e,"incomes"),n);return await this.logUserAction(e,Ti.INCOME_ADDED,`Inkomst '${n.source}' toegevoegd.`,r.id),r.id}catch(r){throw console.error("Error adding income:",r),new Error("Kon inkomst niet toevoegen")}}async updateIncome(e,n){this.checkRateLimit();try{const{id:r,...i}=n;await Hd(Ui(Ar,"users",e,"incomes",r),i),await this.logUserAction(e,Ti.INCOME_UPDATED,`Inkomst '${n.source}' bijgewerkt.`,r)}catch(r){throw console.error("Error updating income:",r),new Error("Kon inkomst niet bijwerken")}}async deleteIncome(e,n){this.checkRateLimit();try{await b_(Ui(Ar,"users",e,"incomes",n)),await this.logUserAction(e,Ti.INCOME_DELETED,"Inkomst verwijderd.")}catch(r){throw console.error("Error deleting income:",r),new Error("Kon inkomst niet verwijderen")}}async addExpense(e,n){this.checkRateLimit();try{const r=await Ig(Gd(Ar,"users",e,"expenses"),n);return await this.logUserAction(e,Ti.EXPENSE_ADDED,`Uitgave '${n.category}' toegevoegd.`,r.id),r.id}catch(r){throw console.error("Error adding expense:",r),new Error("Kon uitgave niet toevoegen")}}async updateExpense(e,n){this.checkRateLimit();try{const{id:r,...i}=n;await Hd(Ui(Ar,"users",e,"expenses",r),i),await this.logUserAction(e,Ti.EXPENSE_UPDATED,`Uitgave '${n.category}' bijgewerkt.`,r)}catch(r){throw console.error("Error updating expense:",r),new Error("Kon uitgave niet bijwerken")}}async deleteExpense(e,n){this.checkRateLimit();try{await b_(Ui(Ar,"users",e,"expenses",n)),await this.logUserAction(e,Ti.EXPENSE_DELETED,"Uitgave verwijderd.")}catch(r){throw console.error("Error deleting expense:",r),new Error("Kon uitgave niet verwijderen")}}async logScheduledPayment(e,n){this.checkRateLimit();try{const r=Ui(Ar,"users",e,"debts",n.debtId),i=await VQ(r);if(!i.exists())throw new Error("Schuld niet gevonden");const a=i.data(),o=a.paidOn||[];if(o.includes(n.dueDate))throw new Error("Deze betaling is al geregistreerd");const l=[...o,n.dueDate],h=Aa({...a,paidOn:l}).filter(m=>m.isPaid).reduce((m,b)=>m+b.paymentAmount,0)>=a.totalAmount;await Hd(r,{paidOn:$Q(n.dueDate),isPaidOff:h}),await this.logUserAction(e,Ti.PAYMENT_LOGGED,`Betaling voor '${n.debtCreditorName}' gelogd.`,n.debtId),h&&await this.logUserAction(e,Ti.DEBT_PAID_OFF,`Schuld '${n.debtCreditorName}' is volledig afbetaald!`,n.debtId)}catch(r){throw console.error("Error logging payment:",r),new Error("Kon betaling niet loggen")}}async updateUserProfile(e,n,r){this.checkRateLimit();try{const i=Ui(Ar,"users",e);await Hd(i,r);const a=`${r.firstName} ${r.lastName}`.trim();n.displayName!==a&&await H3(n,{displayName:a})}catch(i){throw console.error("Error updating user profile:",i),new Error("Kon profiel niet bijwerken")}}}const fr=new KQ,G4=q.createContext(void 0),YQ=({children:t})=>{const[e,n]=q.useState([]),r=q.useCallback((o,l,c,f=5e3)=>{const h=Math.random().toString(36).substring(2,11),m={id:h,type:o,title:l,message:c,duration:f,isVisible:!0};n(b=>[...b,m]),f>0&&setTimeout(()=>{i(h)},f)},[]),i=q.useCallback(o=>{n(l=>l.map(c=>c.id===o?{...c,isVisible:!1}:c)),setTimeout(()=>{n(l=>l.filter(c=>c.id!==o))},300)},[]),a=q.useCallback(()=>{n([])},[]);return v.jsxs(G4.Provider,{value:{toasts:e,showToast:r,hideToast:i,clearAllToasts:a},children:[t,v.jsx(JQ,{toasts:e,onHide:i})]})},H4=()=>{const t=q.useContext(G4);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t},JQ=({toasts:t,onHide:e})=>typeof document>"u"?null:OC.createPortal(v.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm w-full",children:t.map(n=>v.jsx(XQ,{toast:n,onHide:e},n.id))}),document.body),XQ=({toast:t,onHide:e})=>{const n=i=>{const a="p-4 rounded-lg shadow-lg border backdrop-blur-sm transition-all duration-300 transform";switch(i){case"success":return`${a} bg-green-50/90 dark:bg-green-900/30 border-green-200 dark:border-green-700 text-green-800 dark:text-green-200`;case"error":return`${a} bg-red-50/90 dark:bg-red-900/30 border-red-200 dark:border-red-700 text-red-800 dark:text-red-200`;case"warning":return`${a} bg-yellow-50/90 dark:bg-yellow-900/30 border-yellow-200 dark:border-yellow-700 text-yellow-800 dark:text-yellow-200`;case"info":return`${a} bg-blue-50/90 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200`;default:return`${a} bg-gray-50/90 dark:bg-gray-900/30 border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200`}},r=i=>{switch(i){case"success":return"";case"error":return"";case"warning":return"";case"info":return"";default:return""}};return v.jsx("div",{className:`${n(t.type)} ${t.isVisible?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,role:"alert","aria-live":"polite",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("span",{className:"text-lg font-medium","aria-hidden":"true",children:r(t.type)}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-medium text-sm",children:t.title}),t.message&&v.jsx("p",{className:"text-sm opacity-90 mt-1",children:t.message})]})]}),v.jsx("button",{onClick:()=>e(t.id),className:"ml-3 text-lg opacity-60 hover:opacity-100 transition-opacity","aria-label":"Melding sluiten",children:""})]})})},QQ=()=>{const{showToast:t}=H4();return q.useCallback((e,n)=>{t("success",e,n)},[t])},ZQ=()=>{const{showToast:t}=H4();return q.useCallback((e,n)=>{t("error",e,n)},[t])};function eZ(){const[t,e]=q.useState({isLoading:!1,error:void 0}),n=q.useCallback(async(i,a,o)=>{e({isLoading:!0,error:void 0});try{const l=await i();return e({isLoading:!1,error:void 0}),a&&a(l),{success:!0,data:l,message:"Operatie succesvol uitgevoerd"}}catch(l){const c=l instanceof Error?l.message:"Er is een onbekende fout opgetreden";return e({isLoading:!1,error:c}),o&&o(c),console.error("Async operation failed:",l),{success:!1,error:c,message:"Operatie mislukt"}}},[]),r=q.useCallback(()=>{e({isLoading:!1,error:void 0})},[]);return{...t,execute:n,reset:r}}const tZ=(t,e)=>{const{as:n,children:r,className:i="",interactive:a=!1,pressed:o=!1,glassVariant:l=!1,transparencyLevel:c="default",style:f,...h}=t,m=n||"div",{theme:b}=Vs();let T=`
    p-3 sm:p-4
    rounded-neumorphic-lg
    transition-all duration-300 ease-in-out
    font-light
  `,w,S,E="",I={};l?(c==="high"?o?(S=b==="dark"?"bg-dark-surface/50":"bg-white/50",E=b==="dark"?"border border-dark-shadow-light/30":"border border-light-shadow-light/30"):(S=b==="dark"?"bg-dark-surface/40":"bg-white/40",E=b==="dark"?"border border-dark-shadow-light/20":"border border-light-shadow-light/20"):o?(S=b==="dark"?"bg-dark-surface/80":"bg-light-surface/80",E=b==="dark"?"border border-dark-shadow-light/50":"border border-light-shadow-light/50"):(S=b==="dark"?"bg-dark-surface/70":"bg-light-surface/70",E=b==="dark"?"border border-dark-shadow-light/30":"border border-light-shadow-light/30"),o?w=b==="dark"?"shadow-xl":"shadow-lg":w=b==="dark"?"shadow-2xl":"shadow-xl",I={backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},T+=` ${S} ${E}`):(S="bg-light-surface dark:bg-dark-surface",w=o?"shadow-neumorphic-pressed-light dark:shadow-neumorphic-pressed-dark":"shadow-neumorphic-convex-light dark:shadow-neumorphic-convex-dark",T+=` ${S}`);const C=a&&!l?"hover:shadow-neumorphic-flat-light dark:hover:shadow-neumorphic-flat-dark active:shadow-neumorphic-pressed-light dark:active:shadow-neumorphic-pressed-dark cursor-pointer":a&&l?"hover:bg-light-surface/75 dark:hover:bg-dark-surface/75 active:bg-light-surface/85 dark:active:bg-dark-surface/85 cursor-pointer":"",N=[T.trim(),w.trim(),a?C.trim():"",i.trim()].filter(Boolean).join(" ").replace(/\s+/g," "),D={...I,...f};return v.jsx(m,{className:N,style:D,ref:e,...h,children:r})},W4=q.forwardRef(tZ);W4.displayName="NeumorphicCard";const nZ=(t,e)=>{const n={...t,glassVariant:!0};return v.jsx(W4,{...n,ref:e})},Ae=q.forwardRef(nZ);Ae.displayName="GlassCard";const Rg=({title:t,value:e,valueClass:n,children:r,formatAsCurrency:i=!0,icon:a,className:o=""})=>v.jsxs(Ae,{className:`flex-1 flex flex-col items-center text-center p-1.5 sm:p-2 ${o}`,children:[a&&Y.isValidElement(a)&&Y.cloneElement(a,{className:`text-2xl sm:text-3xl mb-1.5 ${a.props.className||""}`.trim()}),v.jsx("h3",{className:"text-[0.65rem] sm:text-[0.7rem] font-medium text-light-text-secondary dark:text-dark-text-secondary tracking-tight mb-0.5",children:t}),typeof e=="number"&&!isNaN(e)&&i?v.jsx("p",{className:`text-sm sm:text-base lg:text-lg font-bold text-light-text-primary dark:text-dark-text-primary ${n||""}`,children:cn(e)}):v.jsx("p",{className:`text-sm sm:text-base lg:text-lg font-bold text-light-text-primary dark:text-dark-text-primary ${n||""}`,children:e.toString()}),r&&v.jsx("div",{className:"mt-1 w-full text-xs font-light text-light-text-secondary dark:text-dark-text-secondary",children:r})]});function K4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=K4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=K4(t))&&(r&&(r+=" "),r+=e);return r}var x_,mD;function Br(){if(mD)return x_;mD=1;var t=Array.isArray;return x_=t,x_}var __,gD;function Y4(){if(gD)return __;gD=1;var t=typeof wg=="object"&&wg&&wg.Object===Object&&wg;return __=t,__}var T_,yD;function Ia(){if(yD)return T_;yD=1;var t=Y4(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return T_=n,T_}var w_,vD;function zp(){if(vD)return w_;vD=1;var t=Ia(),e=t.Symbol;return w_=e,w_}var E_,bD;function rZ(){if(bD)return E_;bD=1;var t=zp(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var f=!0}catch{}var h=r.call(o);return f&&(l?o[i]=c:delete o[i]),h}return E_=a,E_}var S_,xD;function iZ(){if(xD)return S_;xD=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return S_=n,S_}var A_,_D;function So(){if(_D)return A_;_D=1;var t=zp(),e=rZ(),n=iZ(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:a&&a in Object(l)?e(l):n(l)}return A_=o,A_}var C_,TD;function Ao(){if(TD)return C_;TD=1;function t(e){return e!=null&&typeof e=="object"}return C_=t,C_}var N_,wD;function Sf(){if(wD)return N_;wD=1;var t=So(),e=Ao(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return N_=r,N_}var k_,ED;function U1(){if(ED)return k_;ED=1;var t=Br(),e=Sf(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return k_=i,k_}var I_,SD;function zs(){if(SD)return I_;SD=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return I_=t,I_}var R_,AD;function $1(){if(AD)return R_;AD=1;var t=So(),e=zs(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==a}return R_=o,R_}var P_,CD;function aZ(){if(CD)return P_;CD=1;var t=Ia(),e=t["__core-js_shared__"];return P_=e,P_}var M_,ND;function oZ(){if(ND)return M_;ND=1;var t=aZ(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return M_=n,M_}var D_,kD;function J4(){if(kD)return D_;kD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return D_=n,D_}var O_,ID;function sZ(){if(ID)return O_;ID=1;var t=$1(),e=oZ(),n=zs(),r=J4(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(b){if(!n(b)||e(b))return!1;var T=t(b)?h:a;return T.test(r(b))}return O_=m,O_}var j_,RD;function lZ(){if(RD)return j_;RD=1;function t(e,n){return e==null?void 0:e[n]}return j_=t,j_}var L_,PD;function ou(){if(PD)return L_;PD=1;var t=sZ(),e=lZ();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return L_=n,L_}var V_,MD;function fb(){if(MD)return V_;MD=1;var t=ou(),e=t(Object,"create");return V_=e,V_}var U_,DD;function uZ(){if(DD)return U_;DD=1;var t=fb();function e(){this.__data__=t?t(null):{},this.size=0}return U_=e,U_}var $_,OD;function cZ(){if(OD)return $_;OD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return $_=t,$_}var B_,jD;function fZ(){if(jD)return B_;jD=1;var t=fb(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return r.call(o,a)?o[a]:void 0}return B_=i,B_}var q_,LD;function dZ(){if(LD)return q_;LD=1;var t=fb(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return q_=r,q_}var F_,VD;function hZ(){if(VD)return F_;VD=1;var t=fb(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return F_=n,F_}var z_,UD;function pZ(){if(UD)return z_;UD=1;var t=uZ(),e=cZ(),n=fZ(),r=dZ(),i=hZ();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,z_=a,z_}var G_,$D;function mZ(){if($D)return G_;$D=1;function t(){this.__data__=[],this.size=0}return G_=t,G_}var H_,BD;function B1(){if(BD)return H_;BD=1;function t(e,n){return e===n||e!==e&&n!==n}return H_=t,H_}var W_,qD;function db(){if(qD)return W_;qD=1;var t=B1();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return W_=e,W_}var K_,FD;function gZ(){if(FD)return K_;FD=1;var t=db(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():n.call(a,o,1),--this.size,!0}return K_=r,K_}var Y_,zD;function yZ(){if(zD)return Y_;zD=1;var t=db();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Y_=e,Y_}var J_,GD;function vZ(){if(GD)return J_;GD=1;var t=db();function e(n){return t(this.__data__,n)>-1}return J_=e,J_}var X_,HD;function bZ(){if(HD)return X_;HD=1;var t=db();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return X_=e,X_}var Q_,WD;function hb(){if(WD)return Q_;WD=1;var t=mZ(),e=gZ(),n=yZ(),r=vZ(),i=bZ();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Q_=a,Q_}var Z_,KD;function q1(){if(KD)return Z_;KD=1;var t=ou(),e=Ia(),n=t(e,"Map");return Z_=n,Z_}var eT,YD;function xZ(){if(YD)return eT;YD=1;var t=pZ(),e=hb(),n=q1();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return eT=r,eT}var tT,JD;function _Z(){if(JD)return tT;JD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return tT=t,tT}var nT,XD;function pb(){if(XD)return nT;XD=1;var t=_Z();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return nT=e,nT}var rT,QD;function TZ(){if(QD)return rT;QD=1;var t=pb();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return rT=e,rT}var iT,ZD;function wZ(){if(ZD)return iT;ZD=1;var t=pb();function e(n){return t(this,n).get(n)}return iT=e,iT}var aT,eO;function EZ(){if(eO)return aT;eO=1;var t=pb();function e(n){return t(this,n).has(n)}return aT=e,aT}var oT,tO;function SZ(){if(tO)return oT;tO=1;var t=pb();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return oT=e,oT}var sT,nO;function F1(){if(nO)return sT;nO=1;var t=xZ(),e=TZ(),n=wZ(),r=EZ(),i=SZ();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var f=o[l];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,sT=a,sT}var lT,rO;function X4(){if(rO)return lT;rO=1;var t=F1(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var f=r.apply(this,o);return a.cache=c.set(l,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,lT=n,lT}var uT,iO;function AZ(){if(iO)return uT;iO=1;var t=X4(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return uT=n,uT}var cT,aO;function CZ(){if(aO)return cT;aO=1;var t=AZ(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,f){a.push(c?f.replace(n,"$1"):l||o)}),a});return cT=r,cT}var fT,oO;function z1(){if(oO)return fT;oO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return fT=t,fT}var dT,sO;function NZ(){if(sO)return dT;sO=1;var t=zp(),e=z1(),n=Br(),r=Sf(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return dT=o,dT}var hT,lO;function Q4(){if(lO)return hT;lO=1;var t=NZ();function e(n){return n==null?"":t(n)}return hT=e,hT}var pT,uO;function Z4(){if(uO)return pT;uO=1;var t=Br(),e=U1(),n=CZ(),r=Q4();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return pT=i,pT}var mT,cO;function mb(){if(cO)return mT;cO=1;var t=Sf();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return mT=e,mT}var gT,fO;function G1(){if(fO)return gT;fO=1;var t=Z4(),e=mb();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return gT=n,gT}var yT,dO;function eF(){if(dO)return yT;dO=1;var t=G1();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return yT=e,yT}var kZ=eF();const ii=Rt(kZ);var vT,hO;function IZ(){if(hO)return vT;hO=1;function t(e){return e==null}return vT=t,vT}var RZ=IZ();const Ze=Rt(RZ);var bT,pO;function PZ(){if(pO)return bT;pO=1;var t=So(),e=Br(),n=Ao(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return bT=i,bT}var MZ=PZ();const Hl=Rt(MZ);var DZ=$1();const Ye=Rt(DZ);var OZ=zs();const Af=Rt(OZ);var xT={exports:{}},Et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mO;function jZ(){if(mO)return Et;mO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function S(E){if(typeof E=="object"&&E!==null){var I=E.$$typeof;switch(I){case t:switch(E=E.type,E){case n:case i:case r:case f:case h:return E;default:switch(E=E&&E.$$typeof,E){case l:case o:case c:case b:case m:case a:return E;default:return I}}case e:return I}}}return Et.ContextConsumer=o,Et.ContextProvider=a,Et.Element=t,Et.ForwardRef=c,Et.Fragment=n,Et.Lazy=b,Et.Memo=m,Et.Portal=e,Et.Profiler=i,Et.StrictMode=r,Et.Suspense=f,Et.SuspenseList=h,Et.isAsyncMode=function(){return!1},Et.isConcurrentMode=function(){return!1},Et.isContextConsumer=function(E){return S(E)===o},Et.isContextProvider=function(E){return S(E)===a},Et.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===t},Et.isForwardRef=function(E){return S(E)===c},Et.isFragment=function(E){return S(E)===n},Et.isLazy=function(E){return S(E)===b},Et.isMemo=function(E){return S(E)===m},Et.isPortal=function(E){return S(E)===e},Et.isProfiler=function(E){return S(E)===i},Et.isStrictMode=function(E){return S(E)===r},Et.isSuspense=function(E){return S(E)===f},Et.isSuspenseList=function(E){return S(E)===h},Et.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===h||E===T||typeof E=="object"&&E!==null&&(E.$$typeof===b||E.$$typeof===m||E.$$typeof===a||E.$$typeof===o||E.$$typeof===c||E.$$typeof===w||E.getModuleId!==void 0)},Et.typeOf=S,Et}var gO;function LZ(){return gO||(gO=1,xT.exports=jZ()),xT.exports}var VZ=LZ(),_T,yO;function tF(){if(yO)return _T;yO=1;var t=So(),e=Ao(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return _T=r,_T}var TT,vO;function UZ(){if(vO)return TT;vO=1;var t=tF();function e(n){return t(n)&&n!=+n}return TT=e,TT}var $Z=UZ();const Cf=Rt($Z);var BZ=tF();const qZ=Rt(BZ);var Cr=function(e){return e===0?0:e>0?1:-1},Ml=function(e){return Hl(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return qZ(e)&&!Cf(e)},FZ=function(e){return Ze(e)},$n=function(e){return Ee(e)||Hl(e)},zZ=0,Nf=function(e){var n=++zZ;return"".concat(e||"").concat(n)},Nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!Hl(e))return r;var a;if(Ml(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Cf(a)&&(a=r),i&&a>n&&(a=n),a},uc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},GZ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},jr=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Dy(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ii(r,e))===n})}var HZ=function(e,n){return Ee(e)&&Ee(n)?e-n:Hl(e)&&Hl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function wc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function eA(t){"@babel/helpers - typeof";return eA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eA(t)}var WZ=["viewBox","children"],KZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bO=["points","pathLength"],wT={svg:WZ,polygon:bO,polyline:bO},H1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Oy=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!Af(r))return null;var i={};return Object.keys(r).forEach(function(a){H1.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},YZ=function(e,n,r){return function(i){return e(n,r,i),null}},Wl=function(e,n,r){if(!Af(e)||eA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];H1.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=YZ(o,n,r))}),i},JZ=["children"],XZ=["children"];function xO(t,e){if(t==null)return{};var n=QZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tA(t){"@babel/helpers - typeof";return tA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tA(t)}var _O={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},TO=null,ET=null,W1=function t(e){if(e===TO&&Array.isArray(ET))return ET;var n=[];return q.Children.forEach(e,function(r){Ze(r)||(VZ.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ET=n,TO=e,n};function ki(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fo(i)}):r=[fo(e)],W1(t).forEach(function(i){var a=ii(i,"type.displayName")||ii(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Xr(t,e){var n=ki(t,e);return n&&n[0]}var wO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ee(r)||r<=0||!Ee(i)||i<=0)},ZZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eee=function(e){return e&&e.type&&Hl(e.type)&&ZZ.indexOf(e.type)>=0},tee=function(e){return e&&tA(e)==="object"&&"clipDot"in e},nee=function(e,n,r,i){var a,o=(a=wT==null?void 0:wT[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Ye(e)&&(i&&o.includes(n)||KZ.includes(n))||r&&H1.includes(n)},Ue=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!Af(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;nee((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},nA=function t(e,n){if(e===n)return!0;var r=q.Children.count(e);if(r!==q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return EO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!EO(a,o))return!1}return!0},EO=function(e,n){if(Ze(e)&&Ze(n))return!0;if(!Ze(e)&&!Ze(n)){var r=e.props||{},i=r.children,a=xO(r,JZ),o=n.props||{},l=o.children,c=xO(o,XZ);return i&&l?wc(a,c)&&nA(i,l):!i&&!l?wc(a,c):!1}return!1},SO=function(e,n){var r=[],i={};return W1(e).forEach(function(a,o){if(eee(a))r.push(a);else if(a){var l=fo(a.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var m=f(a,l,o);r.push(m),i[l]=!0}}}),r},ree=function(e){var n=e&&e.type;return n&&_O[n]?_O[n]:null},iee=function(e,n){return W1(n).indexOf(e)},aee=["children","width","height","viewBox","className","style","title","desc"];function rA(){return rA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rA.apply(this,arguments)}function oee(t,e){if(t==null)return{};var n=see(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function see(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,f=oee(t,aee),h=i||{width:n,height:r,x:0,y:0},m=nt("recharts-surface",a);return Y.createElement("svg",rA({},Ue(f,!0,"svg"),{className:m,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),e)}var lee=["children","className"];function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aA.apply(this,arguments)}function uee(t,e){if(t==null)return{};var n=cee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=Y.forwardRef(function(t,e){var n=t.children,r=t.className,i=uee(t,lee),a=nt("recharts-layer",r);return Y.createElement("g",aA({className:a},Ue(i,!0),{ref:e}),n)}),ho=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},ST,AO;function fee(){if(AO)return ST;AO=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return ST=t,ST}var AT,CO;function dee(){if(CO)return AT;CO=1;var t=fee();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return AT=e,AT}var CT,NO;function nF(){if(NO)return CT;NO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(f){return l.test(f)}return CT=c,CT}var NT,kO;function hee(){if(kO)return NT;kO=1;function t(e){return e.split("")}return NT=t,NT}var kT,IO;function pee(){if(IO)return kT;IO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",T="\\u200d",w=f+"?",S="["+a+"]?",E="(?:"+T+"(?:"+[h,m,b].join("|")+")"+S+w+")*",I=S+w+E,C="(?:"+[h+l+"?",l,m,b,o].join("|")+")",N=RegExp(c+"(?="+c+")|"+C+I,"g");function D(R){return R.match(N)||[]}return kT=D,kT}var IT,RO;function mee(){if(RO)return IT;RO=1;var t=hee(),e=nF(),n=pee();function r(i){return e(i)?n(i):t(i)}return IT=r,IT}var RT,PO;function gee(){if(PO)return RT;PO=1;var t=dee(),e=nF(),n=mee(),r=Q4();function i(a){return function(o){o=r(o);var l=e(o)?n(o):void 0,c=l?l[0]:o.charAt(0),f=l?t(l,1).join(""):o.slice(1);return c[a]()+f}}return RT=i,RT}var PT,MO;function yee(){if(MO)return PT;MO=1;var t=gee(),e=t("toUpperCase");return PT=e,PT}var vee=yee();const gb=Rt(vee);function Wt(t){return function(){return t}}const rF=Math.cos,jy=Math.sin,Ki=Math.sqrt,Ly=Math.PI,yb=2*Ly,oA=Math.PI,sA=2*oA,kl=1e-6,bee=sA-kl;function iF(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xee(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return iF;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class _ee{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?iF:xee(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-e,f=i-n,h=o-e,m=l-n,b=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(b>kl)if(!(Math.abs(m*c-f*h)>kl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let T=r-o,w=i-l,S=c*c+f*f,E=T*T+w*w,I=Math.sqrt(S),C=Math.sqrt(b),N=a*Math.tan((oA-Math.acos((S+b-E)/(2*I*C)))/2),D=N/C,R=N/I;Math.abs(D-1)>kl&&this._append`L${e+D*h},${n+D*m}`,this._append`A${a},${a},0,0,${+(m*T>h*w)},${this._x1=e+R*c},${this._y1=n+R*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,m=1^o,b=o?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>kl||Math.abs(this._y1-h)>kl)&&this._append`L${f},${h}`,r&&(b<0&&(b=b%sA+sA),b>bee?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=f},${this._y1=h}`:b>kl&&this._append`A${r},${r},0,${+(b>=oA)},${m},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function K1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _ee(e)}function Y1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function aF(t){this._context=t}aF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vb(t){return new aF(t)}function oF(t){return t[0]}function sF(t){return t[1]}function lF(t,e){var n=Wt(!0),r=null,i=vb,a=null,o=K1(l);t=typeof t=="function"?t:t===void 0?oF:Wt(t),e=typeof e=="function"?e:e===void 0?sF:Wt(e);function l(c){var f,h=(c=Y1(c)).length,m,b=!1,T;for(r==null&&(a=i(T=o())),f=0;f<=h;++f)!(f<h&&n(m=c[f],f,c))===b&&((b=!b)?a.lineStart():a.lineEnd()),b&&a.point(+t(m,f,c),+e(m,f,c));if(T)return a=null,T+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Wt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Wt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Wt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Pg(t,e,n){var r=null,i=Wt(!0),a=null,o=vb,l=null,c=K1(f);t=typeof t=="function"?t:t===void 0?oF:Wt(+t),e=typeof e=="function"?e:Wt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?sF:Wt(+n);function f(m){var b,T,w,S=(m=Y1(m)).length,E,I=!1,C,N=new Array(S),D=new Array(S);for(a==null&&(l=o(C=c())),b=0;b<=S;++b){if(!(b<S&&i(E=m[b],b,m))===I)if(I=!I)T=b,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=b-1;w>=T;--w)l.point(N[w],D[w]);l.lineEnd(),l.areaEnd()}I&&(N[b]=+t(E,b,m),D[b]=+e(E,b,m),l.point(r?+r(E,b,m):N[b],n?+n(E,b,m):D[b]))}if(C)return l=null,C+""||null}function h(){return lF().defined(i).curve(o).context(a)}return f.x=function(m){return arguments.length?(t=typeof m=="function"?m:Wt(+m),r=null,f):t},f.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Wt(+m),f):t},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Wt(+m),f):r},f.y=function(m){return arguments.length?(e=typeof m=="function"?m:Wt(+m),n=null,f):e},f.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Wt(+m),f):e},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Wt(+m),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Wt(!!m),f):i},f.curve=function(m){return arguments.length?(o=m,a!=null&&(l=o(a)),f):o},f.context=function(m){return arguments.length?(m==null?a=l=null:l=o(a=m),f):a},f}class uF{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Tee(t){return new uF(t,!0)}function wee(t){return new uF(t,!1)}const J1={draw(t,e){const n=Ki(e/Ly);t.moveTo(n,0),t.arc(0,0,n,0,yb)}},Eee={draw(t,e){const n=Ki(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},cF=Ki(1/3),See=cF*2,Aee={draw(t,e){const n=Ki(e/See),r=n*cF;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cee={draw(t,e){const n=Ki(e),r=-n/2;t.rect(r,r,n,n)}},Nee=.8908130915292852,fF=jy(Ly/10)/jy(7*Ly/10),kee=jy(yb/10)*fF,Iee=-rF(yb/10)*fF,Ree={draw(t,e){const n=Ki(e*Nee),r=kee*n,i=Iee*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=yb*a/5,l=rF(o),c=jy(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},MT=Ki(3),Pee={draw(t,e){const n=-Ki(e/(MT*3));t.moveTo(0,n*2),t.lineTo(-MT*n,-n),t.lineTo(MT*n,-n),t.closePath()}},vi=-.5,bi=Ki(3)/2,lA=1/Ki(12),Mee=(lA/2+1)*3,Dee={draw(t,e){const n=Ki(e/Mee),r=n/2,i=n*lA,a=r,o=n*lA+n,l=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(vi*r-bi*i,bi*r+vi*i),t.lineTo(vi*a-bi*o,bi*a+vi*o),t.lineTo(vi*l-bi*c,bi*l+vi*c),t.lineTo(vi*r+bi*i,vi*i-bi*r),t.lineTo(vi*a+bi*o,vi*o-bi*a),t.lineTo(vi*l+bi*c,vi*c-bi*l),t.closePath()}};function Oee(t,e){let n=null,r=K1(i);t=typeof t=="function"?t:Wt(t||J1),e=typeof e=="function"?e:Wt(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Wt(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Vy(){}function Uy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function dF(t){this._context=t}dF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jee(t){return new dF(t)}function hF(t){this._context=t}hF.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lee(t){return new hF(t)}function pF(t){this._context=t}pF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vee(t){return new pF(t)}function mF(t){this._context=t}mF.prototype={areaStart:Vy,areaEnd:Vy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Uee(t){return new mF(t)}function DO(t){return t<0?-1:1}function OO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(DO(a)+DO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function jO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function DT(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,i+l*e,a-l,o-l*n,a,o)}function $y(t){this._context=t}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:DT(this,this._t0,jO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,DT(this,jO(this,n=OO(this,t,e)),n);break;default:DT(this,this._t0,n=OO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function gF(t){this._context=new yF(t)}(gF.prototype=Object.create($y.prototype)).point=function(t,e){$y.prototype.point.call(this,e,t)};function yF(t){this._context=t}yF.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function $ee(t){return new $y(t)}function Bee(t){return new gF(t)}function vF(t){this._context=t}vF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=LO(t),i=LO(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function qee(t){return new vF(t)}function bb(t,e){this._context=t,this._t=e}bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Fee(t){return new bb(t,.5)}function zee(t){return new bb(t,0)}function Gee(t){return new bb(t,1)}function $c(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,l=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function uA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Hee(t,e){return t[e]}function Wee(t){const e=[];return e.key=t,e}function Kee(){var t=Wt([]),e=uA,n=$c,r=Hee;function i(a){var o=Array.from(t.apply(this,arguments),Wee),l,c=o.length,f=-1,h;for(const m of a)for(l=0,++f;l<c;++l)(o[l][f]=[0,+r(m,o[l].key,f,a)]).data=m;for(l=0,h=Y1(e(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Wt(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Wt(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?uA:typeof a=="function"?a:Wt(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??$c,i):n},i}function Yee(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}$c(t,e)}}function Jee(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}$c(t,e)}}function Xee(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,f=0;l<o;++l){for(var h=t[e[l]],m=h[r][1]||0,b=h[r-1][1]||0,T=(m-b)/2,w=0;w<l;++w){var S=t[e[w]],E=S[r][1]||0,I=S[r-1][1]||0;T+=E-I}c+=m,f+=T*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,$c(t,e)}}function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}var Qee=["type","size","sizeType"];function cA(){return cA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cA.apply(this,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){Zee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zee(t,e,n){return e=ete(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ete(t){var e=tte(t,"string");return Hh(e)=="symbol"?e:e+""}function tte(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nte(t,e){if(t==null)return{};var n=rte(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bF={symbolCircle:J1,symbolCross:Eee,symbolDiamond:Aee,symbolSquare:Cee,symbolStar:Ree,symbolTriangle:Pee,symbolWye:Dee},ite=Math.PI/180,ate=function(e){var n="symbol".concat(gb(e));return bF[n]||J1},ote=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ite;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ste=function(e,n){bF["symbol".concat(gb(e))]=n},X1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=nte(e,Qee),f=UO(UO({},c),{},{type:r,size:a,sizeType:l}),h=function(){var E=ate(r),I=Oee().type(E).size(ote(a,l,r));return I()},m=f.className,b=f.cx,T=f.cy,w=Ue(f,!0);return b===+b&&T===+T&&a===+a?Y.createElement("path",cA({},w,{className:nt("recharts-symbols",m),transform:"translate(".concat(b,", ").concat(T,")"),d:h()})):null};X1.registerSymbol=ste;function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fA.apply(this,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lte(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){Wh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ute(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_F(r.key),r)}}function fte(t,e,n){return e&&cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dte(t,e,n){return e=By(e),hte(t,xF()?Reflect.construct(e,n||[],By(t).constructor):e.apply(t,n))}function hte(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pte(t)}function pte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!t})()}function By(t){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},By(t)}function mte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dA(t,e)}function dA(t,e){return dA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dA(t,e)}function Wh(t,e,n){return e=_F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=gte(t,"string");return Bc(e)=="symbol"?e:e+""}function gte(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xi=32,Q1=function(t){function e(){return ute(this,e),dte(this,e,arguments)}return mte(e,t),fte(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=xi/2,o=xi/6,l=xi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:xi,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(xi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(xi/8,"h").concat(xi,"v").concat(xi*3/4,"h").concat(-xi,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(r.legendIcon)){var f=lte({},r);return delete f.legendIcon,Y.cloneElement(r.legendIcon,f)}return Y.createElement(X1,{fill:c,cx:a,cy:a,size:xi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:xi,height:xi},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},b={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(T,w){var S=T.formatter||c,E=nt(Wh(Wh({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",T.inactive));if(T.type==="none")return null;var I=Ye(T.value)?null:T.value;ho(!Ye(T.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=T.inactive?f:T.color;return Y.createElement("li",fA({className:E,style:m,key:"legend-item-".concat(w)},Wl(r.props,T,w)),Y.createElement(iA,{width:o,height:o,viewBox:h,style:b},r.renderIcon(T)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},S?S(I,T,w):I))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(q.PureComponent);Wh(Q1,"displayName","Legend");Wh(Q1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var OT,BO;function yte(){if(BO)return OT;BO=1;var t=hb();function e(){this.__data__=new t,this.size=0}return OT=e,OT}var jT,qO;function vte(){if(qO)return jT;qO=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return jT=t,jT}var LT,FO;function bte(){if(FO)return LT;FO=1;function t(e){return this.__data__.get(e)}return LT=t,LT}var VT,zO;function xte(){if(zO)return VT;zO=1;function t(e){return this.__data__.has(e)}return VT=t,VT}var UT,GO;function _te(){if(GO)return UT;GO=1;var t=hb(),e=q1(),n=F1(),r=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(a,o),this.size=l.size,this}return UT=i,UT}var $T,HO;function TF(){if(HO)return $T;HO=1;var t=hb(),e=yte(),n=vte(),r=bte(),i=xte(),a=_te();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,$T=o,$T}var BT,WO;function Tte(){if(WO)return BT;WO=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return BT=e,BT}var qT,KO;function wte(){if(KO)return qT;KO=1;function t(e){return this.__data__.has(e)}return qT=t,qT}var FT,YO;function wF(){if(YO)return FT;YO=1;var t=F1(),e=Tte(),n=wte();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,FT=r,FT}var zT,JO;function EF(){if(JO)return zT;JO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return zT=t,zT}var GT,XO;function SF(){if(XO)return GT;XO=1;function t(e,n){return e.has(n)}return GT=t,GT}var HT,QO;function AF(){if(QO)return HT;QO=1;var t=wF(),e=EF(),n=SF(),r=1,i=2;function a(o,l,c,f,h,m){var b=c&r,T=o.length,w=l.length;if(T!=w&&!(b&&w>T))return!1;var S=m.get(o),E=m.get(l);if(S&&E)return S==l&&E==o;var I=-1,C=!0,N=c&i?new t:void 0;for(m.set(o,l),m.set(l,o);++I<T;){var D=o[I],R=l[I];if(f)var j=b?f(R,D,I,l,o,m):f(D,R,I,o,l,m);if(j!==void 0){if(j)continue;C=!1;break}if(N){if(!e(l,function(P,M){if(!n(N,M)&&(D===P||h(D,P,c,f,m)))return N.push(M)})){C=!1;break}}else if(!(D===R||h(D,R,c,f,m))){C=!1;break}}return m.delete(o),m.delete(l),C}return HT=a,HT}var WT,ZO;function Ete(){if(ZO)return WT;ZO=1;var t=Ia(),e=t.Uint8Array;return WT=e,WT}var KT,e2;function Ste(){if(e2)return KT;e2=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return KT=t,KT}var YT,t2;function Z1(){if(t2)return YT;t2=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return YT=t,YT}var JT,n2;function Ate(){if(n2)return JT;n2=1;var t=zp(),e=Ete(),n=B1(),r=AF(),i=Ste(),a=Z1(),o=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",b="[object Number]",T="[object RegExp]",w="[object Set]",S="[object String]",E="[object Symbol]",I="[object ArrayBuffer]",C="[object DataView]",N=t?t.prototype:void 0,D=N?N.valueOf:void 0;function R(j,P,M,O,$,V,F){switch(M){case C:if(j.byteLength!=P.byteLength||j.byteOffset!=P.byteOffset)return!1;j=j.buffer,P=P.buffer;case I:return!(j.byteLength!=P.byteLength||!V(new e(j),new e(P)));case c:case f:case b:return n(+j,+P);case h:return j.name==P.name&&j.message==P.message;case T:case S:return j==P+"";case m:var B=i;case w:var te=O&o;if(B||(B=a),j.size!=P.size&&!te)return!1;var Z=F.get(j);if(Z)return Z==P;O|=l,F.set(j,P);var W=r(B(j),B(P),O,$,V,F);return F.delete(j),W;case E:if(D)return D.call(j)==D.call(P)}return!1}return JT=R,JT}var XT,r2;function CF(){if(r2)return XT;r2=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return XT=t,XT}var QT,i2;function Cte(){if(i2)return QT;i2=1;var t=CF(),e=Br();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return QT=n,QT}var ZT,a2;function Nte(){if(a2)return ZT;a2=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var l=e[r];n(l,r,e)&&(o[a++]=l)}return o}return ZT=t,ZT}var ew,o2;function kte(){if(o2)return ew;o2=1;function t(){return[]}return ew=t,ew}var tw,s2;function Ite(){if(s2)return tw;s2=1;var t=Nte(),e=kte(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return r.call(o,l)}))}:e;return tw=a,tw}var nw,l2;function Rte(){if(l2)return nw;l2=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return nw=t,nw}var rw,u2;function Pte(){if(u2)return rw;u2=1;var t=So(),e=Ao(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return rw=r,rw}var iw,c2;function eN(){if(c2)return iw;c2=1;var t=Pte(),e=Ao(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return iw=a,iw}var dh={exports:{}},aw,f2;function Mte(){if(f2)return aw;f2=1;function t(){return!1}return aw=t,aw}dh.exports;var d2;function NF(){return d2||(d2=1,function(t,e){var n=Ia(),r=Mte(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f}(dh,dh.exports)),dh.exports}var ow,h2;function tN(){if(h2)return ow;h2=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return ow=n,ow}var sw,p2;function nN(){if(p2)return sw;p2=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return sw=e,sw}var lw,m2;function Dte(){if(m2)return lw;m2=1;var t=So(),e=nN(),n=Ao(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",b="[object RegExp]",T="[object Set]",w="[object String]",S="[object WeakMap]",E="[object ArrayBuffer]",I="[object DataView]",C="[object Float32Array]",N="[object Float64Array]",D="[object Int8Array]",R="[object Int16Array]",j="[object Int32Array]",P="[object Uint8Array]",M="[object Uint8ClampedArray]",O="[object Uint16Array]",$="[object Uint32Array]",V={};V[C]=V[N]=V[D]=V[R]=V[j]=V[P]=V[M]=V[O]=V[$]=!0,V[r]=V[i]=V[E]=V[a]=V[I]=V[o]=V[l]=V[c]=V[f]=V[h]=V[m]=V[b]=V[T]=V[w]=V[S]=!1;function F(B){return n(B)&&e(B.length)&&!!V[t(B)]}return lw=F,lw}var uw,g2;function kF(){if(g2)return uw;g2=1;function t(e){return function(n){return e(n)}}return uw=t,uw}var hh={exports:{}};hh.exports;var y2;function Ote(){return y2||(y2=1,function(t,e){var n=Y4(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(hh,hh.exports)),hh.exports}var cw,v2;function IF(){if(v2)return cw;v2=1;var t=Dte(),e=kF(),n=Ote(),r=n&&n.isTypedArray,i=r?e(r):t;return cw=i,cw}var fw,b2;function jte(){if(b2)return fw;b2=1;var t=Rte(),e=eN(),n=Br(),r=NF(),i=tN(),a=IF(),o=Object.prototype,l=o.hasOwnProperty;function c(f,h){var m=n(f),b=!m&&e(f),T=!m&&!b&&r(f),w=!m&&!b&&!T&&a(f),S=m||b||T||w,E=S?t(f.length,String):[],I=E.length;for(var C in f)(h||l.call(f,C))&&!(S&&(C=="length"||T&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,I)))&&E.push(C);return E}return fw=c,fw}var dw,x2;function Lte(){if(x2)return dw;x2=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return dw=e,dw}var hw,_2;function RF(){if(_2)return hw;_2=1;function t(e,n){return function(r){return e(n(r))}}return hw=t,hw}var pw,T2;function Vte(){if(T2)return pw;T2=1;var t=RF(),e=t(Object.keys,Object);return pw=e,pw}var mw,w2;function Ute(){if(w2)return mw;w2=1;var t=Lte(),e=Vte(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&o.push(l);return o}return mw=i,mw}var gw,E2;function Gp(){if(E2)return gw;E2=1;var t=$1(),e=nN();function n(r){return r!=null&&e(r.length)&&!t(r)}return gw=n,gw}var yw,S2;function xb(){if(S2)return yw;S2=1;var t=jte(),e=Ute(),n=Gp();function r(i){return n(i)?t(i):e(i)}return yw=r,yw}var vw,A2;function $te(){if(A2)return vw;A2=1;var t=Cte(),e=Ite(),n=xb();function r(i){return t(i,n,e)}return vw=r,vw}var bw,C2;function Bte(){if(C2)return bw;C2=1;var t=$te(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,l,c,f,h){var m=l&e,b=t(a),T=b.length,w=t(o),S=w.length;if(T!=S&&!m)return!1;for(var E=T;E--;){var I=b[E];if(!(m?I in o:r.call(o,I)))return!1}var C=h.get(a),N=h.get(o);if(C&&N)return C==o&&N==a;var D=!0;h.set(a,o),h.set(o,a);for(var R=m;++E<T;){I=b[E];var j=a[I],P=o[I];if(c)var M=m?c(P,j,I,o,a,h):c(j,P,I,a,o,h);if(!(M===void 0?j===P||f(j,P,l,c,h):M)){D=!1;break}R||(R=I=="constructor")}if(D&&!R){var O=a.constructor,$=o.constructor;O!=$&&"constructor"in a&&"constructor"in o&&!(typeof O=="function"&&O instanceof O&&typeof $=="function"&&$ instanceof $)&&(D=!1)}return h.delete(a),h.delete(o),D}return bw=i,bw}var xw,N2;function qte(){if(N2)return xw;N2=1;var t=ou(),e=Ia(),n=t(e,"DataView");return xw=n,xw}var _w,k2;function Fte(){if(k2)return _w;k2=1;var t=ou(),e=Ia(),n=t(e,"Promise");return _w=n,_w}var Tw,I2;function PF(){if(I2)return Tw;I2=1;var t=ou(),e=Ia(),n=t(e,"Set");return Tw=n,Tw}var ww,R2;function zte(){if(R2)return ww;R2=1;var t=ou(),e=Ia(),n=t(e,"WeakMap");return ww=n,ww}var Ew,P2;function Gte(){if(P2)return Ew;P2=1;var t=qte(),e=q1(),n=Fte(),r=PF(),i=zte(),a=So(),o=J4(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",b="[object DataView]",T=o(t),w=o(e),S=o(n),E=o(r),I=o(i),C=a;return(t&&C(new t(new ArrayBuffer(1)))!=b||e&&C(new e)!=l||n&&C(n.resolve())!=f||r&&C(new r)!=h||i&&C(new i)!=m)&&(C=function(N){var D=a(N),R=D==c?N.constructor:void 0,j=R?o(R):"";if(j)switch(j){case T:return b;case w:return l;case S:return f;case E:return h;case I:return m}return D}),Ew=C,Ew}var Sw,M2;function Hte(){if(M2)return Sw;M2=1;var t=TF(),e=AF(),n=Ate(),r=Bte(),i=Gte(),a=Br(),o=NF(),l=IF(),c=1,f="[object Arguments]",h="[object Array]",m="[object Object]",b=Object.prototype,T=b.hasOwnProperty;function w(S,E,I,C,N,D){var R=a(S),j=a(E),P=R?h:i(S),M=j?h:i(E);P=P==f?m:P,M=M==f?m:M;var O=P==m,$=M==m,V=P==M;if(V&&o(S)){if(!o(E))return!1;R=!0,O=!1}if(V&&!O)return D||(D=new t),R||l(S)?e(S,E,I,C,N,D):n(S,E,P,I,C,N,D);if(!(I&c)){var F=O&&T.call(S,"__wrapped__"),B=$&&T.call(E,"__wrapped__");if(F||B){var te=F?S.value():S,Z=B?E.value():E;return D||(D=new t),N(te,Z,I,C,D)}}return V?(D||(D=new t),r(S,E,I,C,N,D)):!1}return Sw=w,Sw}var Aw,D2;function rN(){if(D2)return Aw;D2=1;var t=Hte(),e=Ao();function n(r,i,a,o,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,l)}return Aw=n,Aw}var Cw,O2;function Wte(){if(O2)return Cw;O2=1;var t=TF(),e=rN(),n=1,r=2;function i(a,o,l,c){var f=l.length,h=f,m=!c;if(a==null)return!h;for(a=Object(a);f--;){var b=l[f];if(m&&b[2]?b[1]!==a[b[0]]:!(b[0]in a))return!1}for(;++f<h;){b=l[f];var T=b[0],w=a[T],S=b[1];if(m&&b[2]){if(w===void 0&&!(T in a))return!1}else{var E=new t;if(c)var I=c(w,S,T,a,o,E);if(!(I===void 0?e(S,w,n|r,c,E):I))return!1}}return!0}return Cw=i,Cw}var Nw,j2;function MF(){if(j2)return Nw;j2=1;var t=zs();function e(n){return n===n&&!t(n)}return Nw=e,Nw}var kw,L2;function Kte(){if(L2)return kw;L2=1;var t=MF(),e=xb();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],l=r[o];i[a]=[o,l,t(l)]}return i}return kw=n,kw}var Iw,V2;function DF(){if(V2)return Iw;V2=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Iw=t,Iw}var Rw,U2;function Yte(){if(U2)return Rw;U2=1;var t=Wte(),e=Kte(),n=DF();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return Rw=r,Rw}var Pw,$2;function Jte(){if($2)return Pw;$2=1;function t(e,n){return e!=null&&n in Object(e)}return Pw=t,Pw}var Mw,B2;function Xte(){if(B2)return Mw;B2=1;var t=Z4(),e=eN(),n=Br(),r=tN(),i=nN(),a=mb();function o(l,c,f){c=t(c,l);for(var h=-1,m=c.length,b=!1;++h<m;){var T=a(c[h]);if(!(b=l!=null&&f(l,T)))break;l=l[T]}return b||++h!=m?b:(m=l==null?0:l.length,!!m&&i(m)&&r(T,m)&&(n(l)||e(l)))}return Mw=o,Mw}var Dw,q2;function Qte(){if(q2)return Dw;q2=1;var t=Jte(),e=Xte();function n(r,i){return r!=null&&e(r,i,t)}return Dw=n,Dw}var Ow,F2;function Zte(){if(F2)return Ow;F2=1;var t=rN(),e=eF(),n=Qte(),r=U1(),i=MF(),a=DF(),o=mb(),l=1,c=2;function f(h,m){return r(h)&&i(m)?a(o(h),m):function(b){var T=e(b,h);return T===void 0&&T===m?n(b,h):t(m,T,l|c)}}return Ow=f,Ow}var jw,z2;function kf(){if(z2)return jw;z2=1;function t(e){return e}return jw=t,jw}var Lw,G2;function ene(){if(G2)return Lw;G2=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Lw=t,Lw}var Vw,H2;function tne(){if(H2)return Vw;H2=1;var t=G1();function e(n){return function(r){return t(r,n)}}return Vw=e,Vw}var Uw,W2;function nne(){if(W2)return Uw;W2=1;var t=ene(),e=tne(),n=U1(),r=mb();function i(a){return n(a)?t(r(a)):e(a)}return Uw=i,Uw}var $w,K2;function Ra(){if(K2)return $w;K2=1;var t=Yte(),e=Zte(),n=kf(),r=Br(),i=nne();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return $w=a,$w}var Bw,Y2;function OF(){if(Y2)return Bw;Y2=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return Bw=t,Bw}var qw,J2;function rne(){if(J2)return qw;J2=1;function t(e){return e!==e}return qw=t,qw}var Fw,X2;function ine(){if(X2)return Fw;X2=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return Fw=t,Fw}var zw,Q2;function ane(){if(Q2)return zw;Q2=1;var t=OF(),e=rne(),n=ine();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return zw=r,zw}var Gw,Z2;function one(){if(Z2)return Gw;Z2=1;var t=ane();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Gw=e,Gw}var Hw,ej;function sne(){if(ej)return Hw;ej=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return Hw=t,Hw}var Ww,tj;function lne(){if(tj)return Ww;tj=1;function t(){}return Ww=t,Ww}var Kw,nj;function une(){if(nj)return Kw;nj=1;var t=PF(),e=lne(),n=Z1(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return Kw=i,Kw}var Yw,rj;function cne(){if(rj)return Yw;rj=1;var t=wF(),e=one(),n=sne(),r=SF(),i=une(),a=Z1(),o=200;function l(c,f,h){var m=-1,b=e,T=c.length,w=!0,S=[],E=S;if(h)w=!1,b=n;else if(T>=o){var I=f?null:i(c);if(I)return a(I);w=!1,b=r,E=new t}else E=f?[]:S;e:for(;++m<T;){var C=c[m],N=f?f(C):C;if(C=h||C!==0?C:0,w&&N===N){for(var D=E.length;D--;)if(E[D]===N)continue e;f&&E.push(N),S.push(C)}else b(E,N,h)||(E!==S&&E.push(N),S.push(C))}return S}return Yw=l,Yw}var Jw,ij;function fne(){if(ij)return Jw;ij=1;var t=Ra(),e=cne();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Jw=n,Jw}var dne=fne();const aj=Rt(dne);function jF(t,e,n){return e===!0?aj(t,n):Ye(e)?aj(t,e):t}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}var hne=["ref"];function oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oj(Object(n),!0).forEach(function(r){_b(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VF(r.key),r)}}function mne(t,e,n){return e&&sj(t.prototype,e),n&&sj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gne(t,e,n){return e=qy(e),yne(t,LF()?Reflect.construct(e,n||[],qy(t).constructor):e.apply(t,n))}function yne(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vne(t)}function vne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LF=function(){return!!t})()}function qy(t){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qy(t)}function bne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hA(t,e)}function _b(t,e,n){return e=VF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VF(t){var e=xne(t,"string");return qc(e)=="symbol"?e:e+""}function xne(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _ne(t,e){if(t==null)return{};var n=Tne(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wne(t){return t.value}function Ene(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var n=_ne(e,hne);return Y.createElement(Q1,n)}var lj=1,Ec=function(t){function e(){var n;pne(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=gne(this,e,[].concat(i)),_b(n,"lastBoundingBox",{width:-1,height:-1}),n}return bne(e,t),mne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lj||Math.abs(i.height-this.lastBoundingBox.height)>lj)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,m,b;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var T=this.getBBoxSnapshot();m={left:((f||0)-T.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();b={top:((h||0)-w.height)/2}}else b=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return io(io({},m),b)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,m=io(io({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(T){r.wrapperNode=T}},Ene(a,io(io({},this.props),{},{payload:jF(h,f,wne)})))}}],[{key:"getWithHeight",value:function(r,i){var a=io(io({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&Ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(q.PureComponent);_b(Ec,"displayName","Legend");_b(Ec,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Xw,uj;function Sne(){if(uj)return Xw;uj=1;var t=zp(),e=eN(),n=Br(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return Xw=i,Xw}var Qw,cj;function UF(){if(cj)return Qw;cj=1;var t=CF(),e=Sne();function n(r,i,a,o,l){var c=-1,f=r.length;for(a||(a=e),l||(l=[]);++c<f;){var h=r[c];i>0&&a(h)?i>1?n(h,i-1,a,o,l):t(l,h):o||(l[l.length]=h)}return l}return Qw=n,Qw}var Zw,fj;function Ane(){if(fj)return Zw;fj=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++a];if(r(o[f],f,o)===!1)break}return n}}return Zw=t,Zw}var eE,dj;function Cne(){if(dj)return eE;dj=1;var t=Ane(),e=t();return eE=e,eE}var tE,hj;function $F(){if(hj)return tE;hj=1;var t=Cne(),e=xb();function n(r,i){return r&&t(r,i,e)}return tE=n,tE}var nE,pj;function Nne(){if(pj)return nE;pj=1;var t=Gp();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return nE=e,nE}var rE,mj;function iN(){if(mj)return rE;mj=1;var t=$F(),e=Nne(),n=e(t);return rE=n,rE}var iE,gj;function BF(){if(gj)return iE;gj=1;var t=iN(),e=Gp();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(l,c,f){o[++a]=i(l,c,f)}),o}return iE=n,iE}var aE,yj;function kne(){if(yj)return aE;yj=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return aE=t,aE}var oE,vj;function Ine(){if(vj)return oE;vj=1;var t=Sf();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,m=t(r);if(!f&&!m&&!l&&n>r||l&&c&&h&&!f&&!m||a&&c&&h||!i&&h||!o)return 1;if(!a&&!l&&!m&&n<r||m&&i&&o&&!a&&!l||f&&i&&o||!c&&o||!h)return-1}return 0}return oE=e,oE}var sE,bj;function Rne(){if(bj)return sE;bj=1;var t=Ine();function e(n,r,i){for(var a=-1,o=n.criteria,l=r.criteria,c=o.length,f=i.length;++a<c;){var h=t(o[a],l[a]);if(h){if(a>=f)return h;var m=i[a];return h*(m=="desc"?-1:1)}}return n.index-r.index}return sE=e,sE}var lE,xj;function Pne(){if(xj)return lE;xj=1;var t=z1(),e=G1(),n=Ra(),r=BF(),i=kne(),a=kF(),o=Rne(),l=kf(),c=Br();function f(h,m,b){m.length?m=t(m,function(S){return c(S)?function(E){return e(E,S.length===1?S[0]:S)}:S}):m=[l];var T=-1;m=t(m,a(n));var w=r(h,function(S,E,I){var C=t(m,function(N){return N(S)});return{criteria:C,index:++T,value:S}});return i(w,function(S,E){return o(S,E,b)})}return lE=f,lE}var uE,_j;function Mne(){if(_j)return uE;_j=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return uE=t,uE}var cE,Tj;function Dne(){if(Tj)return cE;Tj=1;var t=Mne(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),f=Array(c);++l<c;)f[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=a(f),t(r,this,h)}}return cE=n,cE}var fE,wj;function One(){if(wj)return fE;wj=1;function t(e){return function(){return e}}return fE=t,fE}var dE,Ej;function qF(){if(Ej)return dE;Ej=1;var t=ou(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return dE=e,dE}var hE,Sj;function jne(){if(Sj)return hE;Sj=1;var t=One(),e=qF(),n=kf(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return hE=r,hE}var pE,Aj;function Lne(){if(Aj)return pE;Aj=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var l=n(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return pE=r,pE}var mE,Cj;function Vne(){if(Cj)return mE;Cj=1;var t=jne(),e=Lne(),n=e(t);return mE=n,mE}var gE,Nj;function Une(){if(Nj)return gE;Nj=1;var t=kf(),e=Dne(),n=Vne();function r(i,a){return n(e(i,a,t),i+"")}return gE=r,gE}var yE,kj;function Tb(){if(kj)return yE;kj=1;var t=B1(),e=Gp(),n=tN(),r=zs();function i(a,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?e(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return yE=i,yE}var vE,Ij;function $ne(){if(Ij)return vE;Ij=1;var t=UF(),e=Pne(),n=Une(),r=Tb(),i=n(function(a,o){if(a==null)return[];var l=o.length;return l>1&&r(a,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return vE=i,vE}var Bne=$ne();const aN=Rt(Bne);function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function pA(){return pA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pA.apply(this,arguments)}function qne(t,e){return Hne(t)||Gne(t,e)||zne(t,e)||Fne()}function Fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(t,e){if(t){if(typeof t=="string")return Rj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rj(t,e)}}function Rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Hne(t){if(Array.isArray(t))return t}function Pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pj(Object(n),!0).forEach(function(r){Wne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wne(t,e,n){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Yne(t,"string");return Kh(e)=="symbol"?e:e+""}function Yne(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jne(t){return Array.isArray(t)&&$n(t[0])&&$n(t[1])?t.join(" ~ "):t}var Xne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,m=e.formatter,b=e.itemSorter,T=e.wrapperClassName,w=e.labelClassName,S=e.label,E=e.labelFormatter,I=e.accessibilityLayer,C=I===void 0?!1:I,N=function(){if(h&&h.length){var F={padding:0,margin:0},B=(b?aN(h,b):h).map(function(te,Z){if(te.type==="none")return null;var W=bE({display:"block",paddingTop:4,paddingBottom:4,color:te.color||"#000"},l),Q=te.formatter||m||Jne,le=te.value,ae=te.name,H=le,X=ae;if(Q&&H!=null&&X!=null){var ne=Q(le,ae,te,Z,h);if(Array.isArray(ne)){var se=qne(ne,2);H=se[0],X=se[1]}else H=ne}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Z),style:W},$n(X)?Y.createElement("span",{className:"recharts-tooltip-item-name"},X):null,$n(X)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},H),Y.createElement("span",{className:"recharts-tooltip-item-unit"},te.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:F},B)}return null},D=bE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),R=bE({margin:0},f),j=!Ze(S),P=j?S:"",M=nt("recharts-default-tooltip",T),O=nt("recharts-tooltip-label",w);j&&E&&h!==void 0&&h!==null&&(P=E(S,h));var $=C?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",pA({className:M,style:D},$),Y.createElement("p",{className:O,style:R},Y.isValidElement(P)?P:"".concat(P)),N())};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function Mg(t,e,n){return e=Qne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Zne(t,"string");return Yh(e)=="symbol"?e:e+""}function Zne(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wd="recharts-tooltip-wrapper",ere={visibility:"hidden"};function tre(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return nt(Wd,Mg(Mg(Mg(Mg({},"".concat(Wd,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(Wd,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(Wd,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(Wd,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function Mj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&Ee(a[r]))return a[r];var h=n[r]-l-i,m=n[r]+i;if(e[r])return o[r]?h:m;if(o[r]){var b=h,T=c[r];return b<T?Math.max(m,c[r]):Math.max(h,c[r])}var w=m+l,S=c[r]+f;return w>S?Math.max(h,c[r]):Math.max(m,c[r])}function nre(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rre(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,m;return o.height>0&&o.width>0&&n?(h=Mj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=Mj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=nre({translateX:h,translateY:m,useTranslate3d:l})):f=ere,{cssProperties:f,cssClasses:tre({translateX:h,translateY:m,coordinate:n})}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){gA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ire(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function are(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zF(r.key),r)}}function ore(t,e,n){return e&&are(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sre(t,e,n){return e=Fy(e),lre(t,FF()?Reflect.construct(e,n||[],Fy(t).constructor):e.apply(t,n))}function lre(t,e){if(e&&(Fc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ure(t)}function ure(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!t})()}function Fy(t){return Fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fy(t)}function cre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mA(t,e)}function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mA(t,e)}function gA(t,e,n){return e=zF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zF(t){var e=fre(t,"string");return Fc(e)=="symbol"?e:e+""}function fre(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jj=1,dre=function(t){function e(){var n;ire(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=sre(this,e,[].concat(i)),gA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gA(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return cre(e,t),ore(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jj||Math.abs(r.height-this.state.lastBoundingBox.height)>jj)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,m=i.hasPayload,b=i.isAnimationActive,T=i.offset,w=i.position,S=i.reverseDirection,E=i.useTranslate3d,I=i.viewBox,C=i.wrapperStyle,N=rre({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:T,position:w,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:E,viewBox:I}),D=N.cssClasses,R=N.cssProperties,j=Oj(Oj({transition:b&&a?"transform ".concat(l,"ms ").concat(c):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return Y.createElement("div",{tabIndex:-1,className:D,style:j,ref:function(M){r.wrapperNode=M}},f)}}])}(q.PureComponent),hre=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},su={isSsr:hre()};function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){oN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HF(r.key),r)}}function gre(t,e,n){return e&&mre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yre(t,e,n){return e=zy(e),vre(t,GF()?Reflect.construct(e,n||[],zy(t).constructor):e.apply(t,n))}function vre(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bre(t)}function bre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!t})()}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zy(t)}function xre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}function yA(t,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yA(t,e)}function oN(t,e,n){return e=HF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HF(t){var e=_re(t,"string");return zc(e)=="symbol"?e:e+""}function _re(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tre(t){return t.dataKey}function wre(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(Xne,e)}var wi=function(t){function e(){return pre(this,e),yre(this,e,arguments)}return xre(e,t),gre(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,m=i.filterNull,b=i.isAnimationActive,T=i.offset,w=i.payload,S=i.payloadUniqBy,E=i.position,I=i.reverseDirection,C=i.useTranslate3d,N=i.viewBox,D=i.wrapperStyle,R=w??[];m&&R.length&&(R=jF(w.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),S,Tre));var j=R.length>0;return Y.createElement(dre,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:b,active:a,coordinate:h,hasPayload:j,offset:T,position:E,reverseDirection:I,useTranslate3d:C,viewBox:N,wrapperStyle:D},wre(f,Vj(Vj({},this.props),{},{payload:R})))}}])}(q.PureComponent);oN(wi,"displayName","Tooltip");oN(wi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!su.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xE,Uj;function Ere(){if(Uj)return xE;Uj=1;var t=Ia(),e=function(){return t.Date.now()};return xE=e,xE}var _E,$j;function Sre(){if($j)return _E;$j=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return _E=e,_E}var TE,Bj;function Are(){if(Bj)return TE;Bj=1;var t=Sre(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return TE=n,TE}var wE,qj;function WF(){if(qj)return wE;qj=1;var t=Are(),e=zs(),n=Sf(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var m=a.test(f);return m||o.test(f)?l(f.slice(2),m?2:8):i.test(f)?r:+f}return wE=c,wE}var EE,Fj;function Cre(){if(Fj)return EE;Fj=1;var t=zs(),e=Ere(),n=WF(),r="Expected a function",i=Math.max,a=Math.min;function o(l,c,f){var h,m,b,T,w,S,E=0,I=!1,C=!1,N=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(I=!!f.leading,C="maxWait"in f,b=C?i(n(f.maxWait)||0,c):b,N="trailing"in f?!!f.trailing:N);function D(B){var te=h,Z=m;return h=m=void 0,E=B,T=l.apply(Z,te),T}function R(B){return E=B,w=setTimeout(M,c),I?D(B):T}function j(B){var te=B-S,Z=B-E,W=c-te;return C?a(W,b-Z):W}function P(B){var te=B-S,Z=B-E;return S===void 0||te>=c||te<0||C&&Z>=b}function M(){var B=e();if(P(B))return O(B);w=setTimeout(M,j(B))}function O(B){return w=void 0,N&&h?D(B):(h=m=void 0,T)}function $(){w!==void 0&&clearTimeout(w),E=0,h=S=m=w=void 0}function V(){return w===void 0?T:O(e())}function F(){var B=e(),te=P(B);if(h=arguments,m=this,S=B,te){if(w===void 0)return R(S);if(C)return clearTimeout(w),w=setTimeout(M,c),D(S)}return w===void 0&&(w=setTimeout(M,c)),T}return F.cancel=$,F.flush=V,F}return EE=o,EE}var SE,zj;function Nre(){if(zj)return SE;zj=1;var t=Cre(),e=zs(),n="Expected a function";function r(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return SE=r,SE}var kre=Nre();const KF=Rt(kre);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Pre(t,"string");return Jh(e)=="symbol"?e:e+""}function Pre(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mre(t,e){return Lre(t)||jre(t,e)||Ore(t,e)||Dre()}function Dre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t,e){if(t){if(typeof t=="string")return Hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(t,e)}}function Hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Lre(t){if(Array.isArray(t))return t}var sN=q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,m=t.minHeight,b=t.maxHeight,T=t.children,w=t.debounce,S=w===void 0?0:w,E=t.id,I=t.className,C=t.onResize,N=t.style,D=N===void 0?{}:N,R=q.useRef(null),j=q.useRef();j.current=C,q.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var P=q.useState({containerWidth:i.width,containerHeight:i.height}),M=Mre(P,2),O=M[0],$=M[1],V=q.useCallback(function(B,te){$(function(Z){var W=Math.round(B),Q=Math.round(te);return Z.containerWidth===W&&Z.containerHeight===Q?Z:{containerWidth:W,containerHeight:Q}})},[]);q.useEffect(function(){var B=function(ae){var H,X=ae[0].contentRect,ne=X.width,se=X.height;V(ne,se),(H=j.current)===null||H===void 0||H.call(j,ne,se)};S>0&&(B=KF(B,S,{trailing:!0,leading:!1}));var te=new ResizeObserver(B),Z=R.current.getBoundingClientRect(),W=Z.width,Q=Z.height;return V(W,Q),te.observe(R.current),function(){te.disconnect()}},[V,S]);var F=q.useMemo(function(){var B=O.containerWidth,te=O.containerHeight;if(B<0||te<0)return null;ho(Ml(o)||Ml(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ho(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Z=Ml(o)?B:o,W=Ml(c)?te:c;n&&n>0&&(Z?W=Z/n:W&&(Z=W*n),b&&W>b&&(W=b)),ho(Z>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Z,W,o,c,h,m,n);var Q=!Array.isArray(T)&&fo(T.type).endsWith("Chart");return Y.Children.map(T,function(le){return Y.isValidElement(le)?q.cloneElement(le,Dg({width:Z,height:W},Q?{style:Dg({height:"100%",width:"100%",maxHeight:W,maxWidth:Z},le.props.style)}:{})):le})},[n,T,c,b,m,h,O,o]);return Y.createElement("div",{id:E?"".concat(E):void 0,className:nt("recharts-responsive-container",I),style:Dg(Dg({},D),{},{width:o,height:c,minWidth:h,minHeight:m,maxHeight:b}),ref:R},F)}),wb=function(e){return null};wb.displayName="Cell";function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){Vre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vre(t,e,n){return e=Ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ure(t){var e=$re(t,"string");return Xh(e)=="symbol"?e:e+""}function $re(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rc={widthCache:{},cacheCount:0},Bre=2e3,qre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kj="recharts_measurement_span";function Fre(t){var e=vA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var wh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||su.isSsr)return{width:0,height:0};var r=Fre(n),i=JSON.stringify({text:e,copyStyle:r});if(rc.widthCache[i])return rc.widthCache[i];try{var a=document.getElementById(Kj);a||(a=document.createElement("span"),a.setAttribute("id",Kj),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=vA(vA({},qre),r);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return rc.widthCache[i]=c,++rc.cacheCount>Bre&&(rc.cacheCount=0,rc.widthCache={}),c}catch{return{width:0,height:0}}},zre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function Gy(t,e){return Kre(t)||Wre(t,e)||Hre(t,e)||Gre()}function Gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(t,e){if(t){if(typeof t=="string")return Yj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yj(t,e)}}function Yj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Kre(t){if(Array.isArray(t))return t}function Yre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xre(r.key),r)}}function Jre(t,e,n){return e&&Jj(t.prototype,e),n&&Jj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xre(t){var e=Qre(t,"string");return Qh(e)=="symbol"?e:e+""}function Qre(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,YF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tie=Object.keys(YF),fc="NaN";function nie(t,e){return t*YF[e]}var Og=function(){function t(e,n){Yre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Zre.test(n)&&(this.num=NaN,this.unit=""),tie.includes(n)&&(this.num=nie(e,n),this.unit="px")}return Jre(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=eie.exec(n))!==null&&r!==void 0?r:[],a=Gy(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function JF(t){if(t.includes(fc))return fc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Xj.exec(e))!==null&&n!==void 0?n:[],i=Gy(r,4),a=i[1],o=i[2],l=i[3],c=Og.parse(a??""),f=Og.parse(l??""),h=o==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return fc;e=e.replace(Xj,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,b=(m=Qj.exec(e))!==null&&m!==void 0?m:[],T=Gy(b,4),w=T[1],S=T[2],E=T[3],I=Og.parse(w??""),C=Og.parse(E??""),N=S==="+"?I.add(C):I.subtract(C);if(N.isNaN())return fc;e=e.replace(Qj,N.toString())}return e}var Zj=/\(([^()]*)\)/;function rie(t){for(var e=t;e.includes("(");){var n=Zj.exec(e),r=Gy(n,2),i=r[1];e=e.replace(Zj,JF(i))}return e}function iie(t){var e=t.replace(/\s+/g,"");return e=rie(e),e=JF(e),e}function aie(t){try{return iie(t)}catch{return fc}}function AE(t){var e=aie(t.slice(5,-1));return e===fc?"":e}var oie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],sie=["dx","dy","angle","className","breakAll"];function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bA.apply(this,arguments)}function eL(t,e){if(t==null)return{};var n=lie(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tL(t,e){return die(t)||fie(t,e)||cie(t,e)||uie()}function uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(t,e){if(t){if(typeof t=="string")return nL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nL(t,e)}}function nL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function die(t){if(Array.isArray(t))return t}var XF=/[ \f\n\r\t\v\u2028\u2029]+/,QF=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Ze(n)||(r?a=n.toString().split(""):a=n.toString().split(XF));var o=a.map(function(c){return{word:c,width:wh(c,i).width}}),l=r?0:wh("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},hie=function(e,n,r,i,a){var o=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=Ee(o),m=l,b=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z.reduce(function(W,Q){var le=Q.word,ae=Q.width,H=W[W.length-1];if(H&&(i==null||a||H.width+ae+r<Number(i)))H.words.push(le),H.width+=ae+r;else{var X={words:[le],width:ae};W.push(X)}return W},[])},T=b(n),w=function(Z){return Z.reduce(function(W,Q){return W.width>Q.width?W:Q})};if(!h)return T;for(var S="",E=function(Z){var W=m.slice(0,Z),Q=QF({breakAll:f,style:c,children:W+S}).wordsWithComputedWidth,le=b(Q),ae=le.length>o||w(le).width>Number(i);return[ae,le]},I=0,C=m.length-1,N=0,D;I<=C&&N<=m.length-1;){var R=Math.floor((I+C)/2),j=R-1,P=E(j),M=tL(P,2),O=M[0],$=M[1],V=E(R),F=tL(V,1),B=F[0];if(!O&&!B&&(I=R+1),O&&B&&(C=R-1),!O&&B){D=$;break}N++}return D||T},rL=function(e){var n=Ze(e)?[]:e.toString().split(XF);return[{words:n}]},pie=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!su.isSsr){var c,f,h=QF({breakAll:o,children:i,style:a});if(h){var m=h.wordsWithComputedWidth,b=h.spaceWidth;c=m,f=b}else return rL(i);return hie({breakAll:o,children:i,maxLines:l,style:a},c,f,n,r)}return rL(i)},iL="#808080",Kl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,b=e.textAnchor,T=b===void 0?"start":b,w=e.verticalAnchor,S=w===void 0?"end":w,E=e.fill,I=E===void 0?iL:E,C=eL(e,oie),N=q.useMemo(function(){return pie({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),D=C.dx,R=C.dy,j=C.angle,P=C.className,M=C.breakAll,O=eL(C,sie);if(!$n(r)||!$n(a))return null;var $=r+(Ee(D)?D:0),V=a+(Ee(R)?R:0),F;switch(S){case"start":F=AE("calc(".concat(f,")"));break;case"middle":F=AE("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:F=AE("calc(".concat(N.length-1," * -").concat(l,")"));break}var B=[];if(m){var te=N[0].width,Z=C.width;B.push("scale(".concat((Ee(Z)?Z/te:1)/te,")"))}return j&&B.push("rotate(".concat(j,", ").concat($,", ").concat(V,")")),B.length&&(O.transform=B.join(" ")),Y.createElement("text",bA({},Ue(O,!0),{x:$,y:V,className:nt("recharts-text",P),textAnchor:T,fill:I.includes("url")?iL:I}),N.map(function(W,Q){var le=W.words.join(M?"":" ");return Y.createElement("tspan",{x:$,dy:Q===0?F:l,key:"".concat(le,"-").concat(Q)},le)}))};function ws(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lN(t){let e,n,r;t.length!==2?(e=ws,n=(l,c)=>ws(t(l),c),r=(l,c)=>t(l)-c):(e=t===ws||t===mie?t:gie,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<0?f=m+1:h=m}while(f<h)}return f}function a(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const m=f+h>>>1;n(l[m],c)<=0?f=m+1:h=m}while(f<h)}return f}function o(l,c,f=0,h=l.length){const m=i(l,c,f,h-1);return m>f&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:o,right:a}}function gie(){return 0}function ZF(t){return t===null?NaN:+t}function*yie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vie=lN(ws),Hp=vie.right;lN(ZF).center;class aL extends Map{constructor(e,n=_ie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oL(this,e))}has(e){return super.has(oL(this,e))}set(e,n){return super.set(bie(this,e),n)}delete(e){return super.delete(xie(this,e))}}function oL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function _ie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tie(t=ws){if(t===ws)return e5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function e5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const wie=Math.sqrt(50),Eie=Math.sqrt(10),Sie=Math.sqrt(2);function Hy(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=wie?10:a>=Eie?5:a>=Sie?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/o,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?Hy(t,e,n*2):[l,c,f]}function xA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Hy(e,t,n):Hy(t,e,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)c[f]=(a-f)/-o;else for(let f=0;f<l;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<l;++f)c[f]=(i+f)/-o;else for(let f=0;f<l;++f)c[f]=(i+f)*o;return c}function _A(t,e,n){return e=+e,t=+t,n=+n,Hy(t,e,n)[2]}function TA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?_A(e,t,n):_A(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function t5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?e5:Tie(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*m*(c-m)/c)*(f-c/2<0?-1:1),T=Math.max(n,Math.floor(e-f*m/c+b)),w=Math.min(r,Math.floor(e+(c-f)*m/c+b));t5(t,e,T,w,i)}const a=t[e];let o=n,l=r;for(Kd(t,n,e),i(t[r],a)>0&&Kd(t,n,r);o<l;){for(Kd(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[n],a)===0?Kd(t,n,l):(++l,Kd(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Kd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Aie(t,e,n){if(t=Float64Array.from(yie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lL(t);if(e>=1)return sL(t);var r,i=(r-1)*e,a=Math.floor(i),o=sL(t5(t,a).subarray(0,a+1)),l=lL(t.subarray(a+1));return o+(l-o)*(i-a)}}function Cie(t,e,n=ZF){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function Nie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Pi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Co(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wA=Symbol("implicit");function uN(){var t=new aL,e=[],n=[],r=wA;function i(a){let o=t.get(a);if(o===void 0){if(r!==wA)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new aL;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uN(e,n).unknown(r)},Pi.apply(i,arguments),i}function Zh(){var t=uN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,l=!1,c=0,f=0,h=.5;delete t.unknown;function m(){var b=e().length,T=i<r,w=T?i:r,S=T?r:i;a=(S-w)/Math.max(1,b-c+f*2),l&&(a=Math.floor(a)),w+=(S-w-a*(b-c))*h,o=a*(1-c),l&&(w=Math.round(w),o=Math.round(o));var E=Nie(b).map(function(I){return w+a*I});return n(T?E.reverse():E)}return t.domain=function(b){return arguments.length?(e(b),m()):e()},t.range=function(b){return arguments.length?([r,i]=b,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(b){return[r,i]=b,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(b){return arguments.length?(l=!!b,m()):l},t.padding=function(b){return arguments.length?(c=Math.min(1,f=+b),m()):c},t.paddingInner=function(b){return arguments.length?(c=Math.min(1,b),m()):c},t.paddingOuter=function(b){return arguments.length?(f=+b,m()):f},t.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),m()):h},t.copy=function(){return Zh(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},Pi.apply(m(),arguments)}function n5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return n5(e())},t}function Eh(){return n5(Zh.apply(null,arguments).paddingInner(1))}function cN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function r5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wp(){}var ep=.7,Wy=1/ep,Sc="\\s*([+-]?\\d+)\\s*",tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kie=/^#([0-9a-f]{3,8})$/,Iie=new RegExp(`^rgb\\(${Sc},${Sc},${Sc}\\)$`),Rie=new RegExp(`^rgb\\(${Ta},${Ta},${Ta}\\)$`),Pie=new RegExp(`^rgba\\(${Sc},${Sc},${Sc},${tp}\\)$`),Mie=new RegExp(`^rgba\\(${Ta},${Ta},${Ta},${tp}\\)$`),Die=new RegExp(`^hsl\\(${tp},${Ta},${Ta}\\)$`),Oie=new RegExp(`^hsla\\(${tp},${Ta},${Ta},${tp}\\)$`),uL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cN(Wp,np,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cL,formatHex:cL,formatHex8:jie,formatHsl:Lie,formatRgb:fL,toString:fL});function cL(){return this.rgb().formatHex()}function jie(){return this.rgb().formatHex8()}function Lie(){return i5(this).formatHsl()}function fL(){return this.rgb().formatRgb()}function np(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dL(e):n===3?new Ur(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?jg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?jg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Iie.exec(t))?new Ur(e[1],e[2],e[3],1):(e=Rie.exec(t))?new Ur(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pie.exec(t))?jg(e[1],e[2],e[3],e[4]):(e=Mie.exec(t))?jg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Die.exec(t))?mL(e[1],e[2]/100,e[3]/100,1):(e=Oie.exec(t))?mL(e[1],e[2]/100,e[3]/100,e[4]):uL.hasOwnProperty(t)?dL(uL[t]):t==="transparent"?new Ur(NaN,NaN,NaN,0):null}function dL(t){return new Ur(t>>16&255,t>>8&255,t&255,1)}function jg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ur(t,e,n,r)}function Vie(t){return t instanceof Wp||(t=np(t)),t?(t=t.rgb(),new Ur(t.r,t.g,t.b,t.opacity)):new Ur}function EA(t,e,n,r){return arguments.length===1?Vie(t):new Ur(t,e,n,r??1)}function Ur(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cN(Ur,EA,r5(Wp,{brighter(t){return t=t==null?Wy:Math.pow(Wy,t),new Ur(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new Ur(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ur(Ul(this.r),Ul(this.g),Ul(this.b),Ky(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hL,formatHex:hL,formatHex8:Uie,formatRgb:pL,toString:pL}));function hL(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}`}function Uie(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}${Dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function pL(){const t=Ky(this.opacity);return`${t===1?"rgb(":"rgba("}${Ul(this.r)}, ${Ul(this.g)}, ${Ul(this.b)}${t===1?")":`, ${t})`}`}function Ky(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ul(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Dl(t){return t=Ul(t),(t<16?"0":"")+t.toString(16)}function mL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bi(t,e,n,r)}function i5(t){if(t instanceof Bi)return new Bi(t.h,t.s,t.l,t.opacity);if(t instanceof Wp||(t=np(t)),!t)return new Bi;if(t instanceof Bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Bi(o,l,c,t.opacity)}function $ie(t,e,n,r){return arguments.length===1?i5(t):new Bi(t,e,n,r??1)}function Bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cN(Bi,$ie,r5(Wp,{brighter(t){return t=t==null?Wy:Math.pow(Wy,t),new Bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ep:Math.pow(ep,t),new Bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ur(CE(t>=240?t-240:t+120,i,r),CE(t,i,r),CE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bi(gL(this.h),Lg(this.s),Lg(this.l),Ky(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ky(this.opacity);return`${t===1?"hsl(":"hsla("}${gL(this.h)}, ${Lg(this.s)*100}%, ${Lg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gL(t){return t=(t||0)%360,t<0?t+360:t}function Lg(t){return Math.max(0,Math.min(1,t||0))}function CE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fN=t=>()=>t;function Bie(t,e){return function(n){return t+n*e}}function qie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Fie(t){return(t=+t)==1?a5:function(e,n){return n-e?qie(e,n,t):fN(isNaN(e)?n:e)}}function a5(t,e){var n=e-t;return n?Bie(t,n):fN(isNaN(t)?e:t)}const yL=function t(e){var n=Fie(e);function r(i,a){var o=n((i=EA(i)).r,(a=EA(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),f=a5(i.opacity,a.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r}(1);function zie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Gie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=If(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function Wie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Yy(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=If(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var SA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NE=new RegExp(SA.source,"g");function Yie(t){return function(){return t}}function Jie(t){return function(e){return t(e)+""}}function Xie(t,e){var n=SA.lastIndex=NE.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=SA.exec(t))&&(i=NE.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Yy(r,i)})),n=NE.lastIndex;return n<e.length&&(a=e.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Jie(c[0].x):Yie(e):(e=c.length,function(f){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(f);return l.join("")})}function If(t,e){var n=typeof e,r;return e==null||n==="boolean"?fN(e):(n==="number"?Yy:n==="string"?(r=np(e))?(e=r,yL):Xie:e instanceof np?yL:e instanceof Date?Wie:Gie(e)?zie:Array.isArray(e)?Hie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kie:Yy)(t,e)}function dN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qie(t,e){e===void 0&&(e=t,t=If);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function Zie(t){return function(){return t}}function Jy(t){return+t}var vL=[0,1];function kr(t){return t}function AA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zie(isNaN(e)?NaN:.5)}function eae(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tae(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=AA(i,r),a=n(o,a)):(r=AA(r,i),a=n(a,o)),function(l){return a(r(l))}}function nae(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=AA(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(l){var c=Hp(t,l,1,r)-1;return a[c](i[c](l))}}function Kp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Eb(){var t=vL,e=vL,n=If,r,i,a,o=kr,l,c,f;function h(){var b=Math.min(t.length,e.length);return o!==kr&&(o=eae(t[0],t[b-1])),l=b>2?nae:tae,c=f=null,m}function m(b){return b==null||isNaN(b=+b)?a:(c||(c=l(t.map(r),e,n)))(r(o(b)))}return m.invert=function(b){return o(i((f||(f=l(e,t.map(r),Yy)))(b)))},m.domain=function(b){return arguments.length?(t=Array.from(b,Jy),h()):t.slice()},m.range=function(b){return arguments.length?(e=Array.from(b),h()):e.slice()},m.rangeRound=function(b){return e=Array.from(b),n=dN,h()},m.clamp=function(b){return arguments.length?(o=b?!0:kr,h()):o!==kr},m.interpolate=function(b){return arguments.length?(n=b,h()):n},m.unknown=function(b){return arguments.length?(a=b,m):a},function(b,T){return r=b,i=T,h()}}function hN(){return Eb()(kr,kr)}function rae(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xy(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Gc(t){return t=Xy(Math.abs(t)),t?t[1]:NaN}function iae(t,e){return function(n,r){for(var i=n.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function aae(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rp(t){if(!(e=oae.exec(t)))throw new Error("invalid format: "+t);var e;return new pN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rp.prototype=pN.prototype;function pN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sae(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var o5;function lae(t,e){var n=Xy(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(o5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xy(t,Math.max(0,e+a-1))[0]}function bL(t,e){var n=Xy(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rae,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>bL(t*100,e),r:bL,s:lae,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _L(t){return t}var TL=Array.prototype.map,wL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uae(t){var e=t.grouping===void 0||t.thousands===void 0?_L:iae(TL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?_L:aae(TL.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(m){m=rp(m);var b=m.fill,T=m.align,w=m.sign,S=m.symbol,E=m.zero,I=m.width,C=m.comma,N=m.precision,D=m.trim,R=m.type;R==="n"?(C=!0,R="g"):xL[R]||(N===void 0&&(N=12),D=!0,R="g"),(E||b==="0"&&T==="=")&&(E=!0,b="0",T="=");var j=S==="$"?n:S==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",P=S==="$"?r:/[%p]/.test(R)?o:"",M=xL[R],O=/[defgprs%]/.test(R);N=N===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(V){var F=j,B=P,te,Z,W;if(R==="c")B=M(V)+B,V="";else{V=+V;var Q=V<0||1/V<0;if(V=isNaN(V)?c:M(Math.abs(V),N),D&&(V=sae(V)),Q&&+V==0&&w!=="+"&&(Q=!1),F=(Q?w==="("?w:l:w==="-"||w==="("?"":w)+F,B=(R==="s"?wL[8+o5/3]:"")+B+(Q&&w==="("?")":""),O){for(te=-1,Z=V.length;++te<Z;)if(W=V.charCodeAt(te),48>W||W>57){B=(W===46?i+V.slice(te+1):V.slice(te))+B,V=V.slice(0,te);break}}}C&&!E&&(V=e(V,1/0));var le=F.length+V.length+B.length,ae=le<I?new Array(I-le+1).join(b):"";switch(C&&E&&(V=e(ae+V,ae.length?I-B.length:1/0),ae=""),T){case"<":V=F+V+B+ae;break;case"=":V=F+ae+V+B;break;case"^":V=ae.slice(0,le=ae.length>>1)+F+V+B+ae.slice(le);break;default:V=ae+F+V+B;break}return a(V)}return $.toString=function(){return m+""},$}function h(m,b){var T=f((m=rp(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Gc(b)/3)))*3,S=Math.pow(10,-w),E=wL[8+w/3];return function(I){return T(S*I)+E}}return{format:f,formatPrefix:h}}var Vg,mN,s5;cae({thousands:",",grouping:[3],currency:["$",""]});function cae(t){return Vg=uae(t),mN=Vg.format,s5=Vg.formatPrefix,Vg}function fae(t){return Math.max(0,-Gc(Math.abs(t)))}function dae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gc(e)/3)))*3-Gc(Math.abs(t)))}function hae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gc(e)-Gc(t))+1}function l5(t,e,n,r){var i=TA(t,e,n),a;switch(r=rp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=dae(i,o))&&(r.precision=a),s5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=hae(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=fae(i))&&(r.precision=a-(r.type==="%")*2);break}}return mN(r)}function Gs(t){var e=t.domain;return t.ticks=function(n){var r=e();return xA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return l5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],l=r[a],c,f,h=10;for(l<o&&(f=o,o=l,l=f,f=i,i=a,a=f);h-- >0;){if(f=_A(o,l,n),f===c)return r[i]=o,r[a]=l,e(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function Qy(){var t=hN();return t.copy=function(){return Kp(t,Qy())},Pi.apply(t,arguments),Gs(t)}function u5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Jy),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return u5(t).unknown(e)},t=arguments.length?Array.from(t,Jy):[0,1],Gs(n)}function c5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function EL(t){return Math.log(t)}function SL(t){return Math.exp(t)}function pae(t){return-Math.log(-t)}function mae(t){return-Math.exp(-t)}function gae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yae(t){return t===10?gae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AL(t){return(e,n)=>-t(-e,n)}function gN(t){const e=t(EL,SL),n=e.domain;let r=10,i,a;function o(){return i=vae(r),a=yae(r),n()[0]<0?(i=AL(i),a=AL(a),t(pae,mae)):t(EL,SL),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const m=h<f;m&&([f,h]=[h,f]);let b=i(f),T=i(h),w,S;const E=l==null?10:+l;let I=[];if(!(r%1)&&T-b<E){if(b=Math.floor(b),T=Math.ceil(T),f>0){for(;b<=T;++b)for(w=1;w<r;++w)if(S=b<0?w/a(-b):w*a(b),!(S<f)){if(S>h)break;I.push(S)}}else for(;b<=T;++b)for(w=r-1;w>=1;--w)if(S=b>0?w/a(-b):w*a(b),!(S<f)){if(S>h)break;I.push(S)}I.length*2<E&&(I=xA(f,h,E))}else I=xA(b,T,Math.min(T-b,E)).map(a);return m?I.reverse():I},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=rp(c)).precision==null&&(c.trim=!0),c=mN(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=f?c(h):""}},e.nice=()=>n(c5(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function f5(){const t=gN(Eb()).domain([1,10]);return t.copy=()=>Kp(t,f5()).base(t.base()),Pi.apply(t,arguments),t}function CL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yN(t){var e=1,n=t(CL(e),NL(e));return n.constant=function(r){return arguments.length?t(CL(e=+r),NL(e)):e},Gs(n)}function d5(){var t=yN(Eb());return t.copy=function(){return Kp(t,d5()).constant(t.constant())},Pi.apply(t,arguments)}function kL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xae(t){return t<0?-t*t:t*t}function vN(t){var e=t(kr,kr),n=1;function r(){return n===1?t(kr,kr):n===.5?t(bae,xae):t(kL(n),kL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Gs(e)}function bN(){var t=vN(Eb());return t.copy=function(){return Kp(t,bN()).exponent(t.exponent())},Pi.apply(t,arguments),t}function _ae(){return bN.apply(null,arguments).exponent(.5)}function IL(t){return Math.sign(t)*t*t}function Tae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function h5(){var t=hN(),e=[0,1],n=!1,r;function i(a){var o=Tae(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(IL(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Jy)).map(IL)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return h5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pi.apply(i,arguments),Gs(i)}function p5(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=Cie(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Hp(n,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ws),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return p5().domain(t).range(e).unknown(r)},Pi.apply(a,arguments)}function m5(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Hp(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return m5().domain([t,e]).range(i).unknown(a)},Pi.apply(Gs(o),arguments)}function g5(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Hp(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return g5().domain(t).range(e).unknown(n)},Pi.apply(i,arguments)}const kE=new Date,IE=new Date;function qn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let f;do c.push(f=new Date(+a)),e(a,l),t(a);while(f<a&&a<o);return c},i.filter=a=>qn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(kE.setTime(+a),IE.setTime(+o),t(kE),t(IE),Math.floor(n(kE,IE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Zy=qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Zy);Zy.range;const lo=1e3,Ai=lo*60,uo=Ai*60,bo=uo*24,xN=bo*7,RL=bo*30,RE=bo*365,Ol=qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getUTCSeconds());Ol.range;const _N=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lo)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getMinutes());_N.range;const TN=qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getUTCMinutes());TN.range;const wN=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lo-t.getMinutes()*Ai)},(t,e)=>{t.setTime(+t+e*uo)},(t,e)=>(e-t)/uo,t=>t.getHours());wN.range;const EN=qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*uo)},(t,e)=>(e-t)/uo,t=>t.getUTCHours());EN.range;const Yp=qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ai)/bo,t=>t.getDate()-1);Yp.range;const Sb=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bo,t=>t.getUTCDate()-1);Sb.range;const y5=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bo,t=>Math.floor(t/bo));y5.range;function lu(t){return qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ai)/xN)}const Ab=lu(0),ev=lu(1),wae=lu(2),Eae=lu(3),Hc=lu(4),Sae=lu(5),Aae=lu(6);Ab.range;ev.range;wae.range;Eae.range;Hc.range;Sae.range;Aae.range;function uu(t){return qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xN)}const Cb=uu(0),tv=uu(1),Cae=uu(2),Nae=uu(3),Wc=uu(4),kae=uu(5),Iae=uu(6);Cb.range;tv.range;Cae.range;Nae.range;Wc.range;kae.range;Iae.range;const SN=qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SN.range;const AN=qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AN.range;const xo=qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});xo.range;const _o=qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});_o.range;function v5(t,e,n,r,i,a){const o=[[Ol,1,lo],[Ol,5,5*lo],[Ol,15,15*lo],[Ol,30,30*lo],[a,1,Ai],[a,5,5*Ai],[a,15,15*Ai],[a,30,30*Ai],[i,1,uo],[i,3,3*uo],[i,6,6*uo],[i,12,12*uo],[r,1,bo],[r,2,2*bo],[n,1,xN],[e,1,RL],[e,3,3*RL],[t,1,RE]];function l(f,h,m){const b=h<f;b&&([f,h]=[h,f]);const T=m&&typeof m.range=="function"?m:c(f,h,m),w=T?T.range(f,+h+1):[];return b?w.reverse():w}function c(f,h,m){const b=Math.abs(h-f)/m,T=lN(([,,E])=>E).right(o,b);if(T===o.length)return t.every(TA(f/RE,h/RE,m));if(T===0)return Zy.every(Math.max(TA(f,h,m),1));const[w,S]=o[b/o[T-1][2]<o[T][2]/b?T-1:T];return w.every(S)}return[l,c]}const[Rae,Pae]=v5(_o,AN,Cb,y5,EN,TN),[Mae,Dae]=v5(xo,SN,Ab,Yp,wN,_N);function PE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ME(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Oae(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,f=Jd(i),h=Xd(i),m=Jd(a),b=Xd(a),T=Jd(o),w=Xd(o),S=Jd(l),E=Xd(l),I=Jd(c),C=Xd(c),N={a:Q,A:le,b:ae,B:H,c:null,d:LL,e:LL,f:ioe,g:poe,G:goe,H:toe,I:noe,j:roe,L:b5,m:aoe,M:ooe,p:X,q:ne,Q:$L,s:BL,S:soe,u:loe,U:uoe,V:coe,w:foe,W:doe,x:null,X:null,y:hoe,Y:moe,Z:yoe,"%":UL},D={a:se,A:_e,b:Ie,B:Ce,c:null,d:VL,e:VL,f:_oe,g:Roe,G:Moe,H:voe,I:boe,j:xoe,L:_5,m:Toe,M:woe,p:ft,q:Be,Q:$L,s:BL,S:Eoe,u:Soe,U:Aoe,V:Coe,w:Noe,W:koe,x:null,X:null,y:Ioe,Y:Poe,Z:Doe,"%":UL},R={a:$,A:V,b:F,B,c:te,d:OL,e:OL,f:Xae,g:DL,G:ML,H:jL,I:jL,j:Wae,L:Jae,m:Hae,M:Kae,p:O,q:Gae,Q:Zae,s:eoe,S:Yae,u:$ae,U:Bae,V:qae,w:Uae,W:Fae,x:Z,X:W,y:DL,Y:ML,Z:zae,"%":Qae};N.x=j(n,N),N.X=j(r,N),N.c=j(e,N),D.x=j(n,D),D.X=j(r,D),D.c=j(e,D);function j(we,Me){return function(je){var ge=[],lt=-1,ze=0,xe=we.length,Ge,Qe,Bt;for(je instanceof Date||(je=new Date(+je));++lt<xe;)we.charCodeAt(lt)===37&&(ge.push(we.slice(ze,lt)),(Qe=PL[Ge=we.charAt(++lt)])!=null?Ge=we.charAt(++lt):Qe=Ge==="e"?" ":"0",(Bt=Me[Ge])&&(Ge=Bt(je,Qe)),ge.push(Ge),ze=lt+1);return ge.push(we.slice(ze,lt)),ge.join("")}}function P(we,Me){return function(je){var ge=Yd(1900,void 0,1),lt=M(ge,we,je+="",0),ze,xe;if(lt!=je.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Me&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(ze=ME(Yd(ge.y,0,1)),xe=ze.getUTCDay(),ze=xe>4||xe===0?tv.ceil(ze):tv(ze),ze=Sb.offset(ze,(ge.V-1)*7),ge.y=ze.getUTCFullYear(),ge.m=ze.getUTCMonth(),ge.d=ze.getUTCDate()+(ge.w+6)%7):(ze=PE(Yd(ge.y,0,1)),xe=ze.getDay(),ze=xe>4||xe===0?ev.ceil(ze):ev(ze),ze=Yp.offset(ze,(ge.V-1)*7),ge.y=ze.getFullYear(),ge.m=ze.getMonth(),ge.d=ze.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),xe="Z"in ge?ME(Yd(ge.y,0,1)).getUTCDay():PE(Yd(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(xe+5)%7:ge.w+ge.U*7-(xe+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,ME(ge)):PE(ge)}}function M(we,Me,je,ge){for(var lt=0,ze=Me.length,xe=je.length,Ge,Qe;lt<ze;){if(ge>=xe)return-1;if(Ge=Me.charCodeAt(lt++),Ge===37){if(Ge=Me.charAt(lt++),Qe=R[Ge in PL?Me.charAt(lt++):Ge],!Qe||(ge=Qe(we,je,ge))<0)return-1}else if(Ge!=je.charCodeAt(ge++))return-1}return ge}function O(we,Me,je){var ge=f.exec(Me.slice(je));return ge?(we.p=h.get(ge[0].toLowerCase()),je+ge[0].length):-1}function $(we,Me,je){var ge=T.exec(Me.slice(je));return ge?(we.w=w.get(ge[0].toLowerCase()),je+ge[0].length):-1}function V(we,Me,je){var ge=m.exec(Me.slice(je));return ge?(we.w=b.get(ge[0].toLowerCase()),je+ge[0].length):-1}function F(we,Me,je){var ge=I.exec(Me.slice(je));return ge?(we.m=C.get(ge[0].toLowerCase()),je+ge[0].length):-1}function B(we,Me,je){var ge=S.exec(Me.slice(je));return ge?(we.m=E.get(ge[0].toLowerCase()),je+ge[0].length):-1}function te(we,Me,je){return M(we,e,Me,je)}function Z(we,Me,je){return M(we,n,Me,je)}function W(we,Me,je){return M(we,r,Me,je)}function Q(we){return o[we.getDay()]}function le(we){return a[we.getDay()]}function ae(we){return c[we.getMonth()]}function H(we){return l[we.getMonth()]}function X(we){return i[+(we.getHours()>=12)]}function ne(we){return 1+~~(we.getMonth()/3)}function se(we){return o[we.getUTCDay()]}function _e(we){return a[we.getUTCDay()]}function Ie(we){return c[we.getUTCMonth()]}function Ce(we){return l[we.getUTCMonth()]}function ft(we){return i[+(we.getUTCHours()>=12)]}function Be(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var Me=j(we+="",N);return Me.toString=function(){return we},Me},parse:function(we){var Me=P(we+="",!1);return Me.toString=function(){return we},Me},utcFormat:function(we){var Me=j(we+="",D);return Me.toString=function(){return we},Me},utcParse:function(we){var Me=P(we+="",!0);return Me.toString=function(){return we},Me}}}var PL={"-":"",_:" ",0:"0"},Jn=/^\s*\d+/,jae=/^%/,Lae=/[\\^$*+?|[\]().{}]/g;function vt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Vae(t){return t.replace(Lae,"\\$&")}function Jd(t){return new RegExp("^(?:"+t.map(Vae).join("|")+")","i")}function Xd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Uae(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $ae(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Bae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Fae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ML(t,e,n){var r=Jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function DL(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function zae(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Gae(t,e,n){var r=Jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Hae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OL(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Wae(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function jL(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Kae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Yae(t,e,n){var r=Jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Jae(t,e,n){var r=Jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Xae(t,e,n){var r=Jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qae(t,e,n){var r=jae.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Zae(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eoe(t,e,n){var r=Jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function LL(t,e){return vt(t.getDate(),e,2)}function toe(t,e){return vt(t.getHours(),e,2)}function noe(t,e){return vt(t.getHours()%12||12,e,2)}function roe(t,e){return vt(1+Yp.count(xo(t),t),e,3)}function b5(t,e){return vt(t.getMilliseconds(),e,3)}function ioe(t,e){return b5(t,e)+"000"}function aoe(t,e){return vt(t.getMonth()+1,e,2)}function ooe(t,e){return vt(t.getMinutes(),e,2)}function soe(t,e){return vt(t.getSeconds(),e,2)}function loe(t){var e=t.getDay();return e===0?7:e}function uoe(t,e){return vt(Ab.count(xo(t)-1,t),e,2)}function x5(t){var e=t.getDay();return e>=4||e===0?Hc(t):Hc.ceil(t)}function coe(t,e){return t=x5(t),vt(Hc.count(xo(t),t)+(xo(t).getDay()===4),e,2)}function foe(t){return t.getDay()}function doe(t,e){return vt(ev.count(xo(t)-1,t),e,2)}function hoe(t,e){return vt(t.getFullYear()%100,e,2)}function poe(t,e){return t=x5(t),vt(t.getFullYear()%100,e,2)}function moe(t,e){return vt(t.getFullYear()%1e4,e,4)}function goe(t,e){var n=t.getDay();return t=n>=4||n===0?Hc(t):Hc.ceil(t),vt(t.getFullYear()%1e4,e,4)}function yoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vt(e/60|0,"0",2)+vt(e%60,"0",2)}function VL(t,e){return vt(t.getUTCDate(),e,2)}function voe(t,e){return vt(t.getUTCHours(),e,2)}function boe(t,e){return vt(t.getUTCHours()%12||12,e,2)}function xoe(t,e){return vt(1+Sb.count(_o(t),t),e,3)}function _5(t,e){return vt(t.getUTCMilliseconds(),e,3)}function _oe(t,e){return _5(t,e)+"000"}function Toe(t,e){return vt(t.getUTCMonth()+1,e,2)}function woe(t,e){return vt(t.getUTCMinutes(),e,2)}function Eoe(t,e){return vt(t.getUTCSeconds(),e,2)}function Soe(t){var e=t.getUTCDay();return e===0?7:e}function Aoe(t,e){return vt(Cb.count(_o(t)-1,t),e,2)}function T5(t){var e=t.getUTCDay();return e>=4||e===0?Wc(t):Wc.ceil(t)}function Coe(t,e){return t=T5(t),vt(Wc.count(_o(t),t)+(_o(t).getUTCDay()===4),e,2)}function Noe(t){return t.getUTCDay()}function koe(t,e){return vt(tv.count(_o(t)-1,t),e,2)}function Ioe(t,e){return vt(t.getUTCFullYear()%100,e,2)}function Roe(t,e){return t=T5(t),vt(t.getUTCFullYear()%100,e,2)}function Poe(t,e){return vt(t.getUTCFullYear()%1e4,e,4)}function Moe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wc(t):Wc.ceil(t),vt(t.getUTCFullYear()%1e4,e,4)}function Doe(){return"+0000"}function UL(){return"%"}function $L(t){return+t}function BL(t){return Math.floor(+t/1e3)}var ic,w5,E5;Ooe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ooe(t){return ic=Oae(t),w5=ic.format,ic.parse,E5=ic.utcFormat,ic.utcParse,ic}function joe(t){return new Date(t)}function Loe(t){return t instanceof Date?+t:+new Date(+t)}function CN(t,e,n,r,i,a,o,l,c,f){var h=hN(),m=h.invert,b=h.domain,T=f(".%L"),w=f(":%S"),S=f("%I:%M"),E=f("%I %p"),I=f("%a %d"),C=f("%b %d"),N=f("%B"),D=f("%Y");function R(j){return(c(j)<j?T:l(j)<j?w:o(j)<j?S:a(j)<j?E:r(j)<j?i(j)<j?I:C:n(j)<j?N:D)(j)}return h.invert=function(j){return new Date(m(j))},h.domain=function(j){return arguments.length?b(Array.from(j,Loe)):b().map(joe)},h.ticks=function(j){var P=b();return t(P[0],P[P.length-1],j??10)},h.tickFormat=function(j,P){return P==null?R:f(P)},h.nice=function(j){var P=b();return(!j||typeof j.range!="function")&&(j=e(P[0],P[P.length-1],j??10)),j?b(c5(P,j)):h},h.copy=function(){return Kp(h,CN(t,e,n,r,i,a,o,l,c,f))},h}function Voe(){return Pi.apply(CN(Mae,Dae,xo,SN,Ab,Yp,wN,_N,Ol,w5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uoe(){return Pi.apply(CN(Rae,Pae,_o,AN,Cb,Sb,EN,TN,Ol,E5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nb(){var t=0,e=1,n,r,i,a,o=kr,l=!1,c;function f(m){return m==null||isNaN(m=+m)?c:o(i===0?.5:(m=(a(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([t,e]=m,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(m){return arguments.length?(l=!!m,f):l},f.interpolator=function(m){return arguments.length?(o=m,f):o};function h(m){return function(b){var T,w;return arguments.length?([T,w]=b,o=m(T,w),f):[o(0),o(1)]}}return f.range=h(If),f.rangeRound=h(dN),f.unknown=function(m){return arguments.length?(c=m,f):c},function(m){return a=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),f}}function Hs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function S5(){var t=Gs(Nb()(kr));return t.copy=function(){return Hs(t,S5())},Co.apply(t,arguments)}function A5(){var t=gN(Nb()).domain([1,10]);return t.copy=function(){return Hs(t,A5()).base(t.base())},Co.apply(t,arguments)}function C5(){var t=yN(Nb());return t.copy=function(){return Hs(t,C5()).constant(t.constant())},Co.apply(t,arguments)}function NN(){var t=vN(Nb());return t.copy=function(){return Hs(t,NN()).exponent(t.exponent())},Co.apply(t,arguments)}function $oe(){return NN.apply(null,arguments).exponent(.5)}function N5(){var t=[],e=kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ws),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Aie(t,a/r))},n.copy=function(){return N5(e).domain(t)},Co.apply(n,arguments)}function kb(){var t=0,e=.5,n=1,r=1,i,a,o,l,c,f=kr,h,m=!1,b;function T(S){return isNaN(S=+S)?b:(S=.5+((S=+h(S))-a)*(r*S<r*a?l:c),f(m?Math.max(0,Math.min(1,S)):S))}T.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),a=h(e=+e),o=h(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,T):[t,e,n]},T.clamp=function(S){return arguments.length?(m=!!S,T):m},T.interpolator=function(S){return arguments.length?(f=S,T):f};function w(S){return function(E){var I,C,N;return arguments.length?([I,C,N]=E,f=Qie(S,[I,C,N]),T):[f(0),f(.5),f(1)]}}return T.range=w(If),T.rangeRound=w(dN),T.unknown=function(S){return arguments.length?(b=S,T):b},function(S){return h=S,i=S(t),a=S(e),o=S(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,T}}function k5(){var t=Gs(kb()(kr));return t.copy=function(){return Hs(t,k5())},Co.apply(t,arguments)}function I5(){var t=gN(kb()).domain([.1,1,10]);return t.copy=function(){return Hs(t,I5()).base(t.base())},Co.apply(t,arguments)}function R5(){var t=yN(kb());return t.copy=function(){return Hs(t,R5()).constant(t.constant())},Co.apply(t,arguments)}function kN(){var t=vN(kb());return t.copy=function(){return Hs(t,kN()).exponent(t.exponent())},Co.apply(t,arguments)}function Boe(){return kN.apply(null,arguments).exponent(.5)}const qL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zh,scaleDiverging:k5,scaleDivergingLog:I5,scaleDivergingPow:kN,scaleDivergingSqrt:Boe,scaleDivergingSymlog:R5,scaleIdentity:u5,scaleImplicit:wA,scaleLinear:Qy,scaleLog:f5,scaleOrdinal:uN,scalePoint:Eh,scalePow:bN,scaleQuantile:p5,scaleQuantize:m5,scaleRadial:h5,scaleSequential:S5,scaleSequentialLog:A5,scaleSequentialPow:NN,scaleSequentialQuantile:N5,scaleSequentialSqrt:$oe,scaleSequentialSymlog:C5,scaleSqrt:_ae,scaleSymlog:d5,scaleThreshold:g5,scaleTime:Voe,scaleUtc:Uoe,tickFormat:l5},Symbol.toStringTag,{value:"Module"}));var DE,FL;function Ib(){if(FL)return DE;FL=1;var t=Sf();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var l=n[a],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return DE=e,DE}var OE,zL;function P5(){if(zL)return OE;zL=1;function t(e,n){return e>n}return OE=t,OE}var jE,GL;function qoe(){if(GL)return jE;GL=1;var t=Ib(),e=P5(),n=kf();function r(i){return i&&i.length?t(i,n,e):void 0}return jE=r,jE}var Foe=qoe();const ms=Rt(Foe);var LE,HL;function M5(){if(HL)return LE;HL=1;function t(e,n){return e<n}return LE=t,LE}var VE,WL;function zoe(){if(WL)return VE;WL=1;var t=Ib(),e=M5(),n=kf();function r(i){return i&&i.length?t(i,n,e):void 0}return VE=r,VE}var Goe=zoe();const Rb=Rt(Goe);var UE,KL;function Hoe(){if(KL)return UE;KL=1;var t=z1(),e=Ra(),n=BF(),r=Br();function i(a,o){var l=r(a)?t:n;return l(a,e(o,3))}return UE=i,UE}var $E,YL;function Woe(){if(YL)return $E;YL=1;var t=UF(),e=Hoe();function n(r,i){return t(e(r,i),1)}return $E=n,$E}var Koe=Woe();const Yoe=Rt(Koe);var BE,JL;function Joe(){if(JL)return BE;JL=1;var t=rN();function e(n,r){return t(n,r)}return BE=e,BE}var Xoe=Joe();const Kc=Rt(Xoe);var Rf=1e9,Qoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RN,nn=!0,Ri="[DecimalError] ",$l=Ri+"Invalid argument: ",IN=Ri+"Exponent out of range: ",Pf=Math.floor,Il=Math.pow,Zoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ti,Yn=1e7,Xt=7,D5=9007199254740991,nv=Pf(D5/Xt),Re={};Re.absoluteValue=Re.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Re.comparedTo=Re.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Re.decimalPlaces=Re.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Xt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Re.dividedBy=Re.div=function(t){return po(this,new this.constructor(t))};Re.dividedToIntegerBy=Re.idiv=function(t){var e=this,n=e.constructor;return zt(po(e,new n(t),0,1),n.precision)};Re.equals=Re.eq=function(t){return!this.cmp(t)};Re.exponent=function(){return Sn(this)};Re.greaterThan=Re.gt=function(t){return this.cmp(t)>0};Re.greaterThanOrEqualTo=Re.gte=function(t){return this.cmp(t)>=0};Re.isInteger=Re.isint=function(){return this.e>this.d.length-2};Re.isNegative=Re.isneg=function(){return this.s<0};Re.isPositive=Re.ispos=function(){return this.s>0};Re.isZero=function(){return this.s===0};Re.lessThan=Re.lt=function(t){return this.cmp(t)<0};Re.lessThanOrEqualTo=Re.lte=function(t){return this.cmp(t)<1};Re.logarithm=Re.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ti))throw Error(Ri+"NaN");if(n.s<1)throw Error(Ri+(n.s?"NaN":"-Infinity"));return n.eq(ti)?new r(0):(nn=!1,e=po(ip(n,a),ip(t,a),a),nn=!0,zt(e,i))};Re.minus=Re.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?L5(e,t):O5(e,(t.s=-t.s,t))};Re.modulo=Re.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ri+"NaN");return n.s?(nn=!1,e=po(n,t,0,1).times(t),nn=!0,n.minus(e)):zt(new r(n),i)};Re.naturalExponential=Re.exp=function(){return j5(this)};Re.naturalLogarithm=Re.ln=function(){return ip(this)};Re.negated=Re.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Re.plus=Re.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?O5(e,t):L5(e,(t.s=-t.s,t))};Re.precision=Re.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($l+t);if(e=Sn(i)+1,r=i.d.length-1,n=r*Xt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Re.squareRoot=Re.sqrt=function(){var t,e,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ri+"NaN")}for(t=Sn(l),nn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=da(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Pf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(po(l,a,o+2)).times(.5),da(a.d).slice(0,o)===(e=da(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(zt(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(e!="9999")break;o+=4}return nn=!0,zt(r,n)};Re.times=Re.mul=function(t){var e,n,r,i,a,o,l,c,f,h=this,m=h.constructor,b=h.d,T=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=b.length,f=T.length,c<f&&(a=b,b=T,T=a,o=c,c=f,f=o),a=[],o=c+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=a[i]+T[r]*b[i-r-1]+e,a[i--]=l%Yn|0,e=l/Yn|0;a[i]=(a[i]+e)%Yn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,nn?zt(t,m.precision):t};Re.toDecimalPlaces=Re.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ca(t,0,Rf),e===void 0?e=r.rounding:Ca(e,0,8),zt(n,t+Sn(n)+1,e))};Re.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Yl(r,!0):(Ca(t,0,Rf),e===void 0?e=i.rounding:Ca(e,0,8),r=zt(new i(r),t+1,e),n=Yl(r,!0,t+1)),n};Re.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Yl(i):(Ca(t,0,Rf),e===void 0?e=a.rounding:Ca(e,0,8),r=zt(new a(i),t+Sn(i)+1,e),n=Yl(r.abs(),!1,t+Sn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Re.toInteger=Re.toint=function(){var t=this,e=t.constructor;return zt(new e(t),Sn(t)+1,e.rounding)};Re.toNumber=function(){return+this};Re.toPower=Re.pow=function(t){var e,n,r,i,a,o,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(ti);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ri+"Infinity");return l}if(l.eq(ti))return l;if(r=c.precision,t.eq(ti))return zt(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=l.s,o){if((n=h<0?-h:h)<=D5){for(i=new c(ti),e=Math.ceil(r/Xt+4),nn=!1;n%2&&(i=i.times(l),QL(i.d,e)),n=Pf(n/2),n!==0;)l=l.times(l),QL(l.d,e);return nn=!0,t.s<0?new c(ti).div(i):zt(i,r)}}else if(a<0)throw Error(Ri+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,nn=!1,i=t.times(ip(l,r+f)),nn=!0,i=j5(i),i.s=a,i};Re.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Sn(i),r=Yl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ca(t,1,Rf),e===void 0?e=a.rounding:Ca(e,0,8),i=zt(new a(i),t,e),n=Sn(i),r=Yl(i,t<=n||n<=a.toExpNeg,t)),r};Re.toSignificantDigits=Re.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ca(t,1,Rf),e===void 0?e=r.rounding:Ca(e,0,8)),zt(new r(n),t,e)};Re.toString=Re.valueOf=Re.val=Re.toJSON=Re[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Sn(t),n=t.constructor;return Yl(t,e<=n.toExpNeg||e>=n.toExpPos)};function O5(t,e){var n,r,i,a,o,l,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),nn?zt(e,m):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=f.length):(r=f,i=o,l=c.length),o=Math.ceil(m/Xt),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=f.length,l-a<0&&(a=l,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/Yn|0,c[a]%=Yn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,nn?zt(e,m):e}function Ca(t,e,n){if(t!==~~t||t<e||t>n)throw Error($l+t)}function da(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Xt-r.length,n&&(a+=ls(n)),a+=r;o=t[e],r=o+"",n=Xt-r.length,n&&(a+=ls(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var po=function(){function t(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%Yn|0,o=a/Yn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Yn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,f,h,m,b,T,w,S,E,I,C,N,D,R,j,P,M,O=r.constructor,$=r.s==i.s?1:-1,V=r.d,F=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(Ri+"Division by zero");for(c=r.e-i.e,P=F.length,R=V.length,T=new O($),w=T.d=[],f=0;F[f]==(V[f]||0);)++f;if(F[f]>(V[f]||0)&&--c,a==null?C=a=O.precision:o?C=a+(Sn(r)-Sn(i))+1:C=a,C<0)return new O(0);if(C=C/Xt+2|0,f=0,P==1)for(h=0,F=F[0],C++;(f<R||h)&&C--;f++)N=h*Yn+(V[f]||0),w[f]=N/F|0,h=N%F|0;else{for(h=Yn/(F[0]+1)|0,h>1&&(F=t(F,h),V=t(V,h),P=F.length,R=V.length),D=P,S=V.slice(0,P),E=S.length;E<P;)S[E++]=0;M=F.slice(),M.unshift(0),j=F[0],F[1]>=Yn/2&&++j;do h=0,l=e(F,S,P,E),l<0?(I=S[0],P!=E&&(I=I*Yn+(S[1]||0)),h=I/j|0,h>1?(h>=Yn&&(h=Yn-1),m=t(F,h),b=m.length,E=S.length,l=e(m,S,b,E),l==1&&(h--,n(m,P<b?M:F,b))):(h==0&&(l=h=1),m=F.slice()),b=m.length,b<E&&m.unshift(0),n(S,m,E),l==-1&&(E=S.length,l=e(F,S,P,E),l<1&&(h++,n(S,P<E?M:F,E))),E=S.length):l===0&&(h++,S=[0]),w[f++]=h,l&&S[0]?S[E++]=V[D]||0:(S=[V[D]],E=1);while((D++<R||S[0]!==void 0)&&C--)}return w[0]||w.shift(),T.e=c,zt(T,o?a+Sn(T)+1:a)}}();function j5(t,e){var n,r,i,a,o,l,c=0,f=0,h=t.constructor,m=h.precision;if(Sn(t)>16)throw Error(IN+Sn(t));if(!t.s)return new h(ti);for(nn=!1,l=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(Il(2,f))/Math.LN10*2+5|0,l+=r,n=i=a=new h(ti),h.precision=l;;){if(i=zt(i.times(t),l),n=n.times(++c),o=a.plus(po(i,n,l)),da(o.d).slice(0,l)===da(a.d).slice(0,l)){for(;f--;)a=zt(a.times(a),l);return h.precision=m,e==null?(nn=!0,zt(a,m)):a}a=o}}function Sn(t){for(var e=t.e*Xt,n=t.d[0];n>=10;n/=10)e++;return e}function qE(t,e,n){if(e>t.LN10.sd())throw nn=!0,n&&(t.precision=n),Error(Ri+"LN10 precision limit exceeded");return zt(new t(t.LN10),e)}function ls(t){for(var e="";t--;)e+="0";return e}function ip(t,e){var n,r,i,a,o,l,c,f,h,m=1,b=10,T=t,w=T.d,S=T.constructor,E=S.precision;if(T.s<1)throw Error(Ri+(T.s?"NaN":"-Infinity"));if(T.eq(ti))return new S(0);if(e==null?(nn=!1,f=E):f=e,T.eq(10))return e==null&&(nn=!0),qE(S,f);if(f+=b,S.precision=f,n=da(w),r=n.charAt(0),a=Sn(T),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)T=T.times(t),n=da(T.d),r=n.charAt(0),m++;a=Sn(T),r>1?(T=new S("0."+n),a++):T=new S(r+"."+n.slice(1))}else return c=qE(S,f+2,E).times(a+""),T=ip(new S(r+"."+n.slice(1)),f-b).plus(c),S.precision=E,e==null?(nn=!0,zt(T,E)):T;for(l=o=T=po(T.minus(ti),T.plus(ti),f),h=zt(T.times(T),f),i=3;;){if(o=zt(o.times(h),f),c=l.plus(po(o,new S(i),f)),da(c.d).slice(0,f)===da(l.d).slice(0,f))return l=l.times(2),a!==0&&(l=l.plus(qE(S,f+2,E).times(a+""))),l=po(l,new S(m),f),S.precision=E,e==null?(nn=!0,zt(l,E)):l;l=c,i+=2}}function XL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Pf(n/Xt),t.d=[],r=(n+1)%Xt,n<0&&(r+=Xt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Xt;r<i;)t.d.push(+e.slice(r,r+=Xt));e=e.slice(r),r=Xt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),nn&&(t.e>nv||t.e<-nv))throw Error(IN+n)}else t.s=0,t.e=0,t.d=[0];return t}function zt(t,e,n){var r,i,a,o,l,c,f,h,m=t.d;for(o=1,a=m[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Xt,i=e,f=m[h=0];else{if(h=Math.ceil((r+1)/Xt),a=m.length,h>=a)return t;for(f=a=m[h],o=1;a>=10;a/=10)o++;r%=Xt,i=r-Xt+o}if(n!==void 0&&(a=Il(10,o-i-1),l=f/a%10|0,c=e<0||m[h+1]!==void 0||f%a,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/Il(10,o-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(a=Sn(t),m.length=1,e=e-a-1,m[0]=Il(10,(Xt-e%Xt)%Xt),t.e=Pf(-e/Xt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=Il(10,Xt-r),m[h]=i>0?(f/Il(10,o-i)%Il(10,i)|0)*a:0),c)for(;;)if(h==0){(m[0]+=a)==Yn&&(m[0]=1,++t.e);break}else{if(m[h]+=a,m[h]!=Yn)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(nn&&(t.e>nv||t.e<-nv))throw Error(IN+Sn(t));return t}function L5(t,e){var n,r,i,a,o,l,c,f,h,m,b=t.constructor,T=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),nn?zt(e,T):e;if(c=t.d,m=e.d,r=e.e,f=t.e,c=c.slice(),o=f-r,o){for(h=o<0,h?(n=c,o=-o,l=m.length):(n=m,r=f,l=c.length),i=Math.max(Math.ceil(T/Xt),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}o=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>o;){if(c[--i]<m[i]){for(a=i;a&&c[--a]===0;)c[a]=Yn-1;--c[a],c[i]+=Yn}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,nn?zt(e,T):e):new b(0)}function Yl(t,e,n){var r,i=Sn(t),a=da(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ls(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ls(-i-1)+a,n&&(r=n-o)>0&&(a+=ls(r))):i>=o?(a+=ls(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ls(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ls(r))),t.s<0?"-"+a:a}function QL(t,e){if(t.length>e)return t.length=e,!0}function V5(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error($l+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return XL(o,a.toString())}else if(typeof a!="string")throw Error($l+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Zoe.test(a))XL(o,a);else throw Error($l+a)}if(i.prototype=Re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=V5,i.config=i.set=ese,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ese(t){if(!t||typeof t!="object")throw Error(Ri+"Object expected");var e,n,r,i=["precision",1,Rf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Pf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error($l+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($l+n+": "+r);return this}var RN=V5(Qoe);ti=new RN(1);const Vt=RN;function tse(t){return ase(t)||ise(t)||rse(t)||nse()}function nse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rse(t,e){if(t){if(typeof t=="string")return CA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CA(t,e)}}function ise(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ase(t){if(Array.isArray(t))return CA(t)}function CA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ose=function(e){return e},U5={},$5=function(e){return e===U5},ZL=function(e){return function n(){return arguments.length===0||arguments.length===1&&$5(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},sse=function t(e,n){return e===1?n:ZL(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==U5}).length;return o>=e?n.apply(void 0,i):t(e-o,ZL(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(m){return $5(m)?c.shift():m});return n.apply(void 0,tse(h).concat(c))}))})},Pb=function(e){return sse(e.length,e)},NA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lse=Pb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),use=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ose;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},kA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},B5=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function cse(t){var e;return t===0?e=1:e=Math.floor(new Vt(t).abs().log(10).toNumber())+1,e}function fse(t,e,n){for(var r=new Vt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var dse=Pb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),hse=Pb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pse=Pb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Mb={rangeStep:fse,getDigitCount:cse,interpolateNumber:dse,uninterpolateNumber:hse,uninterpolateTruncation:pse};function IA(t){return yse(t)||gse(t)||q5(t)||mse()}function mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yse(t){if(Array.isArray(t))return RA(t)}function ap(t,e){return xse(t)||bse(t,e)||q5(t,e)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q5(t,e){if(t){if(typeof t=="string")return RA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bse(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function xse(t){if(Array.isArray(t))return t}function F5(t){var e=ap(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function z5(t,e,n){if(t.lte(0))return new Vt(0);var r=Mb.getDigitCount(t.toNumber()),i=new Vt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,l=new Vt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new Vt(Math.ceil(c))}function _se(t,e,n){var r=1,i=new Vt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new Vt(10).pow(Mb.getDigitCount(t)-1),i=new Vt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Vt(Math.floor(t)))}else t===0?i=new Vt(Math.floor((e-1)/2)):n||(i=new Vt(Math.floor(t)));var o=Math.floor((e-1)/2),l=use(lse(function(c){return i.add(new Vt(c-o).mul(r)).toNumber()}),NA);return l(0,e)}function G5(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Vt(0),tickMin:new Vt(0),tickMax:new Vt(0)};var a=z5(new Vt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Vt(0):(o=new Vt(t).add(e).div(2),o=o.sub(new Vt(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Vt(e).sub(o).div(a).toNumber()),f=l+c+1;return f>n?G5(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:a,tickMin:o.sub(new Vt(l).mul(a)),tickMax:o.add(new Vt(c).mul(a))})}function Tse(t){var e=ap(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=F5([n,r]),c=ap(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(IA(NA(0,i-1).map(function(){return 1/0}))):[].concat(IA(NA(0,i-1).map(function(){return-1/0})),[h]);return n>r?kA(m):m}if(f===h)return _se(f,i,a);var b=G5(f,h,o,a),T=b.step,w=b.tickMin,S=b.tickMax,E=Mb.rangeStep(w,S.add(new Vt(.1).mul(T)),T);return n>r?kA(E):E}function wse(t,e){var n=ap(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=F5([r,i]),l=ap(o,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),m=z5(new Vt(f).sub(c).div(h-1),a,0),b=[].concat(IA(Mb.rangeStep(new Vt(c),new Vt(f).sub(new Vt(.99).mul(m)),m)),[f]);return r>i?kA(b):b}var Ese=B5(Tse),Sse=B5(wse),Ase="Invariant failed";function Jl(t,e){throw new Error(Ase)}var Cse=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function Nse(t,e){return Pse(t)||Rse(t,e)||Ise(t,e)||kse()}function kse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ise(t,e){if(t){if(typeof t=="string")return eV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eV(t,e)}}function eV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Pse(t){if(Array.isArray(t))return t}function Mse(t,e){if(t==null)return{};var n=Dse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ose(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K5(r.key),r)}}function Lse(t,e,n){return e&&jse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vse(t,e,n){return e=iv(e),Use(t,H5()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function Use(t,e){if(e&&(Yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $se(t)}function $se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H5=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function Bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}function PA(t,e){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PA(t,e)}function W5(t,e,n){return e=K5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5(t){var e=qse(t,"string");return Yc(e)=="symbol"?e:e+""}function qse(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Db=function(t){function e(){return Ose(this,e),Vse(this,e,arguments)}return Bse(e,t),Lse(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,f=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,b=Mse(r,Cse),T=Ue(b,!1);this.props.direction==="x"&&h.type!=="number"&&Jl();var w=c.map(function(S){var E=f(S,l),I=E.x,C=E.y,N=E.value,D=E.errorVal;if(!D)return null;var R=[],j,P;if(Array.isArray(D)){var M=Nse(D,2);j=M[0],P=M[1]}else j=P=D;if(a==="vertical"){var O=h.scale,$=C+i,V=$+o,F=$-o,B=O(N-j),te=O(N+P);R.push({x1:te,y1:V,x2:te,y2:F}),R.push({x1:B,y1:$,x2:te,y2:$}),R.push({x1:B,y1:V,x2:B,y2:F})}else if(a==="horizontal"){var Z=m.scale,W=I+i,Q=W-o,le=W+o,ae=Z(N-j),H=Z(N+P);R.push({x1:Q,y1:H,x2:le,y2:H}),R.push({x1:W,y1:ae,x2:W,y2:H}),R.push({x1:Q,y1:ae,x2:le,y2:ae})}return Y.createElement(gt,rv({className:"recharts-errorBar",key:"bar-".concat(R.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},T),R.map(function(X){return Y.createElement("line",rv({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return Y.createElement(gt,{className:"recharts-errorBars"},w)}}])}(Y.Component);W5(Db,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});W5(Db,"displayName","ErrorBar");function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function tV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function El(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(n),!0).forEach(function(r){Fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fse(t,e,n){return e=zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Gse(t,"string");return op(e)=="symbol"?e:e+""}function Gse(t,e){if(op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(op(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y5=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Xr(n,Ec);if(!o)return null;var l=Ec.defaultProps,c=l!==void 0?El(El({},l),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(r||[]).reduce(function(h,m){var b=m.item,T=m.props,w=T.sectors||T.data||[];return h.concat(w.map(function(S){return{type:o.props.iconType||b.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):f=(r||[]).map(function(h){var m=h.item,b=m.type.defaultProps,T=b!==void 0?El(El({},b),m.props):{},w=T.dataKey,S=T.name,E=T.legendType,I=T.hide;return{inactive:I,dataKey:w,type:c.iconType||E||"square",color:PN(m),value:S||w,payload:T}}),El(El(El({},c),Ec.getWithHeight(o,i)),{},{payload:f,item:o})};function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function nV(t){return Yse(t)||Kse(t)||Wse(t)||Hse()}function Hse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wse(t,e){if(t){if(typeof t=="string")return MA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MA(t,e)}}function Kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yse(t){if(Array.isArray(t))return MA(t)}function MA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rV(Object(n),!0).forEach(function(r){Ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ac(t,e,n){return e=Jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jse(t){var e=Xse(t,"string");return sp(e)=="symbol"?e:e+""}function Xse(t,e){if(sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Un(t,e,n){return Ze(t)||Ze(e)?n:$n(e)?ii(t,e,n):Ye(e)?e(t):n}function Sh(t,e,n,r){var i=Yoe(t,function(l){return Un(l,e)});if(n==="number"){var a=i.filter(function(l){return Ee(l)||parseFloat(l)});return a.length?[Rb(a),ms(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!Ze(l)}):i;return o.map(function(l){return $n(l)||l instanceof Date?l:""})}var Qse=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,m=i[f].coordinate,b=f>=l-1?i[0].coordinate:i[f+1].coordinate,T=void 0;if(Cr(m-h)!==Cr(b-m)){var w=[];if(Cr(b-m)===Cr(c[1]-c[0])){T=b;var S=m+c[1]-c[0];w[0]=Math.min(S,(S+h)/2),w[1]=Math.max(S,(S+h)/2)}else{T=h;var E=b+c[1]-c[0];w[0]=Math.min(m,(E+m)/2),w[1]=Math.max(m,(E+m)/2)}var I=[Math.min(m,(T+m)/2),Math.max(m,(T+m)/2)];if(e>I[0]&&e<=I[1]||e>=w[0]&&e<=w[1]){o=i[f].index;break}}else{var C=Math.min(h,b),N=Math.max(h,b);if(e>(C+m)/2&&e<=(N+m)/2){o=i[f].index;break}}}else for(var D=0;D<l;D++)if(D===0&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D>0&&D<l-1&&e>(r[D].coordinate+r[D-1].coordinate)/2&&e<=(r[D].coordinate+r[D+1].coordinate)/2||D===l-1&&e>(r[D].coordinate+r[D-1].coordinate)/2){o=r[D].index;break}return o},PN=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ln(ln({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Zse=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,f=l.length;c<f;c++)for(var h=a[l[c]].stackGroups,m=Object.keys(h),b=0,T=m.length;b<T;b++){var w=h[m[b]],S=w.items,E=w.cateAxisId,I=S.filter(function(P){return fo(P.type).indexOf("Bar")>=0});if(I&&I.length){var C=I[0].type.defaultProps,N=C!==void 0?ln(ln({},C),I[0].props):I[0].props,D=N.barSize,R=N[E];o[R]||(o[R]=[]);var j=Ze(D)?n:D;o[R].push({item:I[0],stackList:I.slice(1),barSize:Ze(j)?void 0:Nr(j,r,0)})}}return o},ele=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var f=Nr(n,i,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var b=!1,T=i/c,w=o.reduce(function(D,R){return D+R.barSize||0},0);w+=(c-1)*f,w>=i&&(w-=(c-1)*f,f=0),w>=i&&T>0&&(b=!0,T*=.9,w=c*T);var S=(i-w)/2>>0,E={offset:S-f,size:0};h=o.reduce(function(D,R){var j={item:R.item,position:{offset:E.offset+E.size+f,size:b?T:R.barSize}},P=[].concat(nV(D),[j]);return E=P[P.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(M){P.push({item:M,position:E})}),P},m)}else{var I=Nr(r,i,0,!0);i-2*I-(c-1)*f<=0&&(f=0);var C=(i-2*I-(c-1)*f)/c;C>1&&(C>>=0);var N=l===+l?Math.min(C,l):C;h=o.reduce(function(D,R,j){var P=[].concat(nV(D),[{item:R.item,position:{offset:I+(C+f)*j+(C-N)/2,size:N}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(M){P.push({item:M,position:P[P.length-1].position})}),P},m)}return h},tle=function(e,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),f=Y5({children:a,legendWidth:c});if(f){var h=i||{},m=h.width,b=h.height,T=f.align,w=f.verticalAlign,S=f.layout;if((S==="vertical"||S==="horizontal"&&w==="middle")&&T!=="center"&&Ee(e[T]))return ln(ln({},e),{},Ac({},T,e[T]+(m||0)));if((S==="horizontal"||S==="vertical"&&T==="center")&&w!=="middle"&&Ee(e[w]))return ln(ln({},e),{},Ac({},w,e[w]+(b||0)))}return e},nle=function(e,n,r){return Ze(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},J5=function(e,n,r,i,a){var o=n.props.children,l=ki(o,Db).filter(function(f){return nle(i,a,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var m=Un(h,r);if(Ze(m))return f;var b=Array.isArray(m)?[Rb(m),ms(m)]:[m,m],T=c.reduce(function(w,S){var E=Un(h,S,0),I=b[0]-Math.abs(Array.isArray(E)?E[0]:E),C=b[1]+Math.abs(Array.isArray(E)?E[1]:E);return[Math.min(I,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(T[0],f[0]),Math.max(T[1],f[1])]},[1/0,-1/0])}return null},rle=function(e,n,r,i,a){var o=n.map(function(l){return J5(e,l,r,a,i)}).filter(function(l){return!Ze(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},X5=function(e,n,r,i,a){var o=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&J5(e,c,f,i)||Sh(e,f,r,a)});if(r==="number")return o.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,f){for(var h=0,m=f.length;h<m;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},Q5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},jl=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Cr(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var b=a?a.indexOf(m):m;return{coordinate:i(b)+f,value:m,offset:f}});return h.filter(function(m){return!Cf(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,b){return{coordinate:i(m)+f,value:m,index:b,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+f,value:m,offset:f}}):i.domain().map(function(m,b){return{coordinate:i(m)+f,value:a?a[m]:m,index:b,offset:f}})},FE=new WeakMap,Ug=function(e,n){if(typeof n!="function")return e;FE.has(e)||FE.set(e,new WeakMap);var r=FE.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Z5=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Zh(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Qy(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Eh(),realScaleType:"point"}:a==="category"?{scale:Zh(),realScaleType:"band"}:{scale:Qy(),realScaleType:"linear"};if(Hl(i)){var c="scale".concat(gb(i));return{scale:(qL[c]||Eh)(),realScaleType:qL[c]?c:"point"}}return Ye(i)?{scale:i}:{scale:Eh(),realScaleType:"point"}},iV=1e-4,e6=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-iV,o=Math.max(i[0],i[1])+iV,l=e(n[0]),c=e(n[r-1]);(l<a||l>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},ile=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ale=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(a[0]=r),(!Ee(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},ole=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=Cf(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},sle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=Cf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},lle={sign:ole,expand:Yee,none:$c,silhouette:Jee,wiggle:Xee,positive:sle},ule=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),a=lle[r],o=Kee().keys(i).value(function(l,c){return+Un(l,c,0)}).order(uA).offset(a);return o(e)},cle=function(e,n,r,i,a,o){if(!e)return null;var l=o?n.reverse():n,c={},f=l.reduce(function(m,b){var T,w=(T=b.type)!==null&&T!==void 0&&T.defaultProps?ln(ln({},b.type.defaultProps),b.props):b.props,S=w.stackId,E=w.hide;if(E)return m;var I=w[r],C=m[I]||{hasStack:!1,stackGroups:{}};if($n(S)){var N=C.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(b),C.hasStack=!0,C.stackGroups[S]=N}else C.stackGroups[Nf("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[b]};return ln(ln({},m),{},Ac({},I,C))},c),h={};return Object.keys(f).reduce(function(m,b){var T=f[b];if(T.hasStack){var w={};T.stackGroups=Object.keys(T.stackGroups).reduce(function(S,E){var I=T.stackGroups[E];return ln(ln({},S),{},Ac({},E,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:ule(e,I.items,a)}))},w)}return ln(ln({},m),{},Ac({},b,T))},h)},t6=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=Ese(f,a,l);return e.domain([Rb(h),ms(h)]),{niceTicks:h}}if(a&&i==="number"){var m=e.domain(),b=Sse(m,a,l);return{niceTicks:b}}return null};function aV(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ze(i[e.dataKey])){var l=Dy(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Un(i,Ze(o)?e.dataKey:o);return Ze(c)?null:e.scale(c)}var oV=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Un(o,n.dataKey,n.domain[l]);return Ze(c)?null:n.scale(c)-a/2+i},fle=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},dle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ln(ln({},e.type.defaultProps),e.props):e.props,a=i.stackId;if($n(a)){var o=n[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},hle=function(e){return e.reduce(function(n,r){return[Rb(r.concat([n[0]]).filter(Ee)),ms(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},n6=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(f,h){var m=hle(h.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},sV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,DA=function(e,n,r){if(Ye(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(sV.test(e[0])){var a=+sV.exec(e[0])[1];i[0]=n[0]-a}else Ye(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(lV.test(e[1])){var o=+lV.exec(e[1])[1];i[1]=n[1]+o}else Ye(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},av=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=aN(n,function(m){return m.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var f=a[l],h=a[l-1];o=Math.min((f.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},uV=function(e,n,r){return!e||!e.length||Kc(e,ii(r,"type.defaultProps.domain"))?n:e},r6=function(e,n){var r=e.type.defaultProps?ln(ln({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return ln(ln({},Ue(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:PN(e),value:Un(n,i),type:c,payload:n,chartType:f,hide:h})};function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function cV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(n),!0).forEach(function(r){i6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i6(t,e,n){return e=ple(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ple(t){var e=mle(t,"string");return lp(e)=="symbol"?e:e+""}function mle(t,e){if(lp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gle(t,e){return xle(t)||ble(t,e)||vle(t,e)||yle()}function yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(t,e){if(t){if(typeof t=="string")return fV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fV(t,e)}}function fV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ble(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function xle(t){if(Array.isArray(t))return t}var ov=Math.PI/180,_le=function(e){return e*180/Math.PI},Yt=function(e,n,r,i){return{x:e+Math.cos(-ov*i)*r,y:n+Math.sin(-ov*i)*r}},a6=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Tle=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.startAngle,f=e.endAngle,h=Nr(e.cx,o,o/2),m=Nr(e.cy,l,l/2),b=a6(o,l,r),T=Nr(e.innerRadius,b,0),w=Nr(e.outerRadius,b,b*.8),S=Object.keys(n);return S.reduce(function(E,I){var C=n[I],N=C.domain,D=C.reversed,R;if(Ze(C.range))i==="angleAxis"?R=[c,f]:i==="radiusAxis"&&(R=[T,w]),D&&(R=[R[1],R[0]]);else{R=C.range;var j=R,P=gle(j,2);c=P[0],f=P[1]}var M=Z5(C,a),O=M.realScaleType,$=M.scale;$.domain(N).range(R),e6($);var V=t6($,ao(ao({},C),{},{realScaleType:O})),F=ao(ao(ao({},C),V),{},{range:R,radius:w,realScaleType:O,scale:$,cx:h,cy:m,innerRadius:T,outerRadius:w,startAngle:c,endAngle:f});return ao(ao({},E),{},i6({},I,F))},{})},wle=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Ele=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,l=wle({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,f=Math.acos(c);return i>o&&(f=2*Math.PI-f),{radius:l,angle:_le(f),angleInRadian:f}},Sle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Ale=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},dV=function(e,n){var r=e.x,i=e.y,a=Ele({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,f=n.outerRadius;if(o<c||o>f)return!1;if(o===0)return!0;var h=Sle(n),m=h.startAngle,b=h.endAngle,T=l,w;if(m<=b){for(;T>b;)T-=360;for(;T<m;)T+=360;w=T>=m&&T<=b}else{for(;T>m;)T-=360;for(;T<b;)T+=360;w=T>=b&&T<=m}return w?ao(ao({},n),{},{radius:o,angle:Ale(T,n)}):null},o6=function(e){return!q.isValidElement(e)&&!Ye(e)&&typeof e!="boolean"?e.className:""};function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}var Cle=["offset"];function Nle(t){return Ple(t)||Rle(t)||Ile(t)||kle()}function kle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return OA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(t,e)}}function Rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ple(t){if(Array.isArray(t))return OA(t)}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mle(t,e){if(t==null)return{};var n=Dle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){Ole(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ole(t,e,n){return e=jle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jle(t){var e=Lle(t,"string");return up(e)=="symbol"?e:e+""}function Lle(t,e){if(up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(up(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}var Vle=function(e){var n=e.value,r=e.formatter,i=Ze(e.children)?n:e.children;return Ye(r)?r(i):i},Ule=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},$le=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,f=c.cx,h=c.cy,m=c.innerRadius,b=c.outerRadius,T=c.startAngle,w=c.endAngle,S=c.clockWise,E=(m+b)/2,I=Ule(T,w),C=I>=0?1:-1,N,D;i==="insideStart"?(N=T+C*o,D=S):i==="insideEnd"?(N=w-C*o,D=!S):i==="end"&&(N=w+C*o,D=S),D=I<=0?D:!D;var R=Yt(f,h,E,N),j=Yt(f,h,E,N+(D?1:-1)*359),P="M".concat(R.x,",").concat(R.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(D?0:1,`,
    `).concat(j.x,",").concat(j.y),M=Ze(e.id)?Nf("recharts-radial-line-"):e.id;return Y.createElement("text",cp({},r,{dominantBaseline:"central",className:nt("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:M,d:P})),Y.createElement("textPath",{xlinkHref:"#".concat(M)},n))},Ble=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,f=a.outerRadius,h=a.startAngle,m=a.endAngle,b=(h+m)/2;if(i==="outside"){var T=Yt(o,l,f+r,b),w=T.x,S=T.y;return{x:w,y:S,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var E=(c+f)/2,I=Yt(o,l,E,b),C=I.x,N=I.y;return{x:C,y:N,textAnchor:"middle",verticalAnchor:"middle"}},qle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,l=o.x,c=o.y,f=o.width,h=o.height,m=h>=0?1:-1,b=m*i,T=m>0?"end":"start",w=m>0?"start":"end",S=f>=0?1:-1,E=S*i,I=S>0?"end":"start",C=S>0?"start":"end";if(a==="top"){var N={x:l+f/2,y:c-m*i,textAnchor:"middle",verticalAnchor:T};return Ln(Ln({},N),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var D={x:l+f/2,y:c+h+b,textAnchor:"middle",verticalAnchor:w};return Ln(Ln({},D),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(a==="left"){var R={x:l-E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return Ln(Ln({},R),r?{width:Math.max(R.x-r.x,0),height:h}:{})}if(a==="right"){var j={x:l+f+E,y:c+h/2,textAnchor:C,verticalAnchor:"middle"};return Ln(Ln({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:h}:{})}var P=r?{width:f,height:h}:{};return a==="insideLeft"?Ln({x:l+E,y:c+h/2,textAnchor:C,verticalAnchor:"middle"},P):a==="insideRight"?Ln({x:l+f-E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},P):a==="insideTop"?Ln({x:l+f/2,y:c+b,textAnchor:"middle",verticalAnchor:w},P):a==="insideBottom"?Ln({x:l+f/2,y:c+h-b,textAnchor:"middle",verticalAnchor:T},P):a==="insideTopLeft"?Ln({x:l+E,y:c+b,textAnchor:C,verticalAnchor:w},P):a==="insideTopRight"?Ln({x:l+f-E,y:c+b,textAnchor:I,verticalAnchor:w},P):a==="insideBottomLeft"?Ln({x:l+E,y:c+h-b,textAnchor:C,verticalAnchor:T},P):a==="insideBottomRight"?Ln({x:l+f-E,y:c+h-b,textAnchor:I,verticalAnchor:T},P):Af(a)&&(Ee(a.x)||Ml(a.x))&&(Ee(a.y)||Ml(a.y))?Ln({x:l+Nr(a.x,f),y:c+Nr(a.y,h),textAnchor:"end",verticalAnchor:"end"},P):Ln({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Fle=function(e){return"cx"in e&&Ee(e.cx)};function Vn(t){var e=t.offset,n=e===void 0?5:e,r=Mle(t,Cle),i=Ln({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,f=i.content,h=i.className,m=h===void 0?"":h,b=i.textBreakAll;if(!a||Ze(l)&&Ze(c)&&!q.isValidElement(f)&&!Ye(f))return null;if(q.isValidElement(f))return q.cloneElement(f,i);var T;if(Ye(f)){if(T=q.createElement(f,i),q.isValidElement(T))return T}else T=Vle(i);var w=Fle(a),S=Ue(i,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $le(i,T,S);var E=w?Ble(i):qle(i);return Y.createElement(Kl,cp({className:nt("recharts-label",m)},S,E,{breakAll:b}),T)}Vn.displayName="Label";var s6=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,m=e.x,b=e.y,T=e.top,w=e.left,S=e.width,E=e.height,I=e.clockWise,C=e.labelViewBox;if(C)return C;if(Ee(S)&&Ee(E)){if(Ee(m)&&Ee(b))return{x:m,y:b,width:S,height:E};if(Ee(T)&&Ee(w))return{x:T,y:w,width:S,height:E}}return Ee(m)&&Ee(b)?{x:m,y:b,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:I}:e.viewBox?e.viewBox:{}},zle=function(e,n){return e?e===!0?Y.createElement(Vn,{key:"label-implicit",viewBox:n}):$n(e)?Y.createElement(Vn,{key:"label-implicit",viewBox:n,value:e}):q.isValidElement(e)?e.type===Vn?q.cloneElement(e,{key:"label-implicit",viewBox:n}):Y.createElement(Vn,{key:"label-implicit",content:e,viewBox:n}):Ye(e)?Y.createElement(Vn,{key:"label-implicit",content:e,viewBox:n}):Af(e)?Y.createElement(Vn,cp({viewBox:n},e,{key:"label-implicit"})):null:null},Gle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=s6(e),o=ki(i,Vn).map(function(c,f){return q.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return o;var l=zle(e.label,n||a);return[l].concat(Nle(o))};Vn.parseViewBox=s6;Vn.renderCallByParent=Gle;var zE,pV;function Hle(){if(pV)return zE;pV=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return zE=t,zE}var Wle=Hle();const Kle=Rt(Wle);function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var Yle=["valueAccessor"],Jle=["data","dataKey","clockWise","id","textBreakAll"];function Xle(t){return tue(t)||eue(t)||Zle(t)||Qle()}function Qle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zle(t,e){if(t){if(typeof t=="string")return jA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(t,e)}}function eue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tue(t){if(Array.isArray(t))return jA(t)}function jA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){nue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nue(t,e,n){return e=rue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rue(t){var e=iue(t,"string");return fp(e)=="symbol"?e:e+""}function iue(t,e){if(fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yV(t,e){if(t==null)return{};var n=aue(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oue=function(e){return Array.isArray(e.value)?Kle(e.value):e.value};function wa(t){var e=t.valueAccessor,n=e===void 0?oue:e,r=yV(t,Yle),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,f=yV(r,Jle);return!i||!i.length?null:Y.createElement(gt,{className:"recharts-label-list"},i.map(function(h,m){var b=Ze(a)?n(h,m):Un(h&&h.payload,a),T=Ze(l)?{}:{id:"".concat(l,"-").concat(m)};return Y.createElement(Vn,sv({},Ue(h,!0),f,T,{parentViewBox:h.parentViewBox,value:b,textBreakAll:c,viewBox:Vn.parseViewBox(Ze(o)?h:gV(gV({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}wa.displayName="LabelList";function sue(t,e){return t?t===!0?Y.createElement(wa,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||Ye(t)?Y.createElement(wa,{key:"labelList-implicit",data:e,content:t}):Af(t)?Y.createElement(wa,sv({data:e},t,{key:"labelList-implicit"})):null:null}function lue(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ki(r,wa).map(function(o,l){return q.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var a=sue(t.label,e);return[a].concat(Xle(i))}wa.renderCallByParent=lue;function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LA.apply(this,arguments)}function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){uue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uue(t,e,n){return e=cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=fue(t,"string");return dp(e)=="symbol"?e:e+""}function fue(t,e){if(dp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var due=function(e,n){var r=Cr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},$g=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,m=Math.asin(c/h)/ov,b=f?a:a+o*m,T=Yt(n,r,h,b),w=Yt(n,r,i,b),S=f?a-o*m:a,E=Yt(n,r,h*Math.cos(m*ov),S);return{center:T,circleTangency:w,lineTangency:E,theta:m}},l6=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=due(o,l),f=o+c,h=Yt(n,r,a,o),m=Yt(n,r,a,f),b="M ".concat(h.x,",").concat(h.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var T=Yt(n,r,i,o),w=Yt(n,r,i,f);b+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=f),`,
            `).concat(T.x,",").concat(T.y," Z")}else b+="L ".concat(n,",").concat(r," Z");return b},hue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,m=Cr(h-f),b=$g({cx:n,cy:r,radius:a,angle:f,sign:m,cornerRadius:o,cornerIsExternal:c}),T=b.circleTangency,w=b.lineTangency,S=b.theta,E=$g({cx:n,cy:r,radius:a,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),I=E.circleTangency,C=E.lineTangency,N=E.theta,D=c?Math.abs(f-h):Math.abs(f-h)-S-N;if(D<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):l6({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h});var R="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(D>180),",").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var j=$g({cx:n,cy:r,radius:i,angle:f,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=j.circleTangency,M=j.lineTangency,O=j.theta,$=$g({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),V=$.circleTangency,F=$.lineTangency,B=$.theta,te=c?Math.abs(f-h):Math.abs(f-h)-O-B;if(te<0&&o===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(F.x,",").concat(F.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(te>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(M.x,",").concat(M.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},pue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},u6=function(e){var n=bV(bV({},pue),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,b=n.className;if(o<a||h===m)return null;var T=nt("recharts-sector",b),w=o-a,S=Nr(l,w,0,!0),E;return S>0&&Math.abs(h-m)<360?E=hue({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(S,w/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:m}):E=l6({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:h,endAngle:m}),Y.createElement("path",LA({},Ue(n,!0),{className:T,d:E,role:"img"}))};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function VA(){return VA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VA.apply(this,arguments)}function xV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(n),!0).forEach(function(r){mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mue(t,e,n){return e=gue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gue(t){var e=yue(t,"string");return hp(e)=="symbol"?e:e+""}function yue(t,e){if(hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TV={curveBasisClosed:Lee,curveBasisOpen:Vee,curveBasis:jee,curveBumpX:Tee,curveBumpY:wee,curveLinearClosed:Uee,curveLinear:vb,curveMonotoneX:$ee,curveMonotoneY:Bee,curveNatural:qee,curveStep:Fee,curveStepAfter:Gee,curveStepBefore:zee},Bg=function(e){return e.x===+e.x&&e.y===+e.y},Qd=function(e){return e.x},Zd=function(e){return e.y},vue=function(e,n){if(Ye(e))return e;var r="curve".concat(gb(e));return(r==="curveMonotone"||r==="curveBump")&&n?TV["".concat(r).concat(n==="vertical"?"Y":"X")]:TV[r]||vb},bue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=vue(r,l),m=f?a.filter(function(S){return Bg(S)}):a,b;if(Array.isArray(o)){var T=f?o.filter(function(S){return Bg(S)}):o,w=m.map(function(S,E){return _V(_V({},S),{},{base:T[E]})});return l==="vertical"?b=Pg().y(Zd).x1(Qd).x0(function(S){return S.base.x}):b=Pg().x(Qd).y1(Zd).y0(function(S){return S.base.y}),b.defined(Bg).curve(h),b(w)}return l==="vertical"&&Ee(o)?b=Pg().y(Zd).x1(Qd).x0(o):Ee(o)?b=Pg().x(Qd).y1(Zd).y0(o):b=lF().x(Qd).y(Zd),b.defined(Bg).curve(h),b(m)},Cc=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?bue(e):i;return q.createElement("path",VA({},Ue(e,!1),Oy(e),{className:nt("recharts-curve",n),d:o,ref:a}))},GE={exports:{}},HE,wV;function xue(){if(wV)return HE;wV=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return HE=t,HE}var WE,EV;function _ue(){if(EV)return WE;EV=1;var t=xue();function e(){}function n(){}return n.resetWarningCache=e,WE=function(){function r(o,l,c,f,h,m){if(m!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},WE}var SV;function Tue(){return SV||(SV=1,GE.exports=_ue()()),GE.exports}var wue=Tue();const St=Rt(wue);var Eue=Object.getOwnPropertyNames,Sue=Object.getOwnPropertySymbols,Aue=Object.prototype.hasOwnProperty;function AV(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function qg(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function CV(t){return Eue(t).concat(Sue(t))}var Cue=Object.hasOwn||function(t,e){return Aue.call(t,e)};function cu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Nue="__v",kue="__o",Iue="_owner",NV=Object.getOwnPropertyDescriptor,kV=Object.keys;function Rue(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Pue(t,e){return cu(t.getTime(),e.getTime())}function Mue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Due(t,e){return t===e}function IV(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var f=e.entries(),h=!1,m=0;(l=f.next())&&!l.done;){if(i[m]){m++;continue}var b=o.value,T=l.value;if(n.equals(b[0],T[0],c,m,t,e,n)&&n.equals(b[1],T[1],b[0],T[0],t,e,n)){h=i[m]=!0;break}m++}if(!h)return!1;c++}return!0}var Oue=cu;function jue(t,e,n){var r=kV(t),i=r.length;if(kV(e).length!==i)return!1;for(;i-- >0;)if(!c6(t,e,n,r[i]))return!1;return!0}function eh(t,e,n){var r=CV(t),i=r.length;if(CV(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!c6(t,e,n,a)||(o=NV(t,a),l=NV(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Lue(t,e){return cu(t.valueOf(),e.valueOf())}function Vue(t,e){return t.source===e.source&&t.flags===e.flags}function RV(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),f=!1,h=0;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function Uue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $ue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function c6(t,e,n,r){return(r===Iue||r===kue||r===Nue)&&(t.$$typeof||e.$$typeof)?!0:Cue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Bue="[object Arguments]",que="[object Boolean]",Fue="[object Date]",zue="[object Error]",Gue="[object Map]",Hue="[object Number]",Wue="[object Object]",Kue="[object RegExp]",Yue="[object Set]",Jue="[object String]",Xue="[object URL]",Que=Array.isArray,PV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,MV=Object.assign,Zue=Object.prototype.toString.call.bind(Object.prototype.toString);function ece(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,b=t.areUrlsEqual;return function(w,S,E){if(w===S)return!0;if(w==null||S==null)return!1;var I=typeof w;if(I!==typeof S)return!1;if(I!=="object")return I==="number"?o(w,S,E):I==="function"?i(w,S,E):!1;var C=w.constructor;if(C!==S.constructor)return!1;if(C===Object)return l(w,S,E);if(Que(w))return e(w,S,E);if(PV!=null&&PV(w))return m(w,S,E);if(C===Date)return n(w,S,E);if(C===RegExp)return f(w,S,E);if(C===Map)return a(w,S,E);if(C===Set)return h(w,S,E);var N=Zue(w);return N===Fue?n(w,S,E):N===Kue?f(w,S,E):N===Gue?a(w,S,E):N===Yue?h(w,S,E):N===Wue?typeof w.then!="function"&&typeof S.then!="function"&&l(w,S,E):N===Xue?b(w,S,E):N===zue?r(w,S,E):N===Bue?l(w,S,E):N===que||N===Hue||N===Jue?c(w,S,E):!1}}function tce(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?eh:Rue,areDatesEqual:Pue,areErrorsEqual:Mue,areFunctionsEqual:Due,areMapsEqual:r?AV(IV,eh):IV,areNumbersEqual:Oue,areObjectsEqual:r?eh:jue,arePrimitiveWrappersEqual:Lue,areRegExpsEqual:Vue,areSetsEqual:r?AV(RV,eh):RV,areTypedArraysEqual:r?eh:Uue,areUrlsEqual:$ue};if(n&&(i=MV({},i,n(i))),e){var a=qg(i.areArraysEqual),o=qg(i.areMapsEqual),l=qg(i.areObjectsEqual),c=qg(i.areSetsEqual);i=MV({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function nce(t){return function(e,n,r,i,a,o,l){return t(e,n,l)}}function rce(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,f){var h=r(),m=h.cache,b=m===void 0?e?new WeakMap:void 0:m,T=h.meta;return n(c,f,{cache:b,equals:i,meta:T,strict:a})};if(e)return function(c,f){return n(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return n(c,f,o)}}var ice=Ws();Ws({strict:!0});Ws({circular:!0});Ws({circular:!0,strict:!0});Ws({createInternalComparator:function(){return cu}});Ws({strict:!0,createInternalComparator:function(){return cu}});Ws({circular:!0,createInternalComparator:function(){return cu}});Ws({circular:!0,createInternalComparator:function(){return cu},strict:!0});function Ws(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=tce(t),c=ece(l),f=r?r(c):nce(c);return rce({circular:n,comparator:c,createState:i,equals:f,strict:o})}function ace(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):ace(i)};requestAnimationFrame(r)}function UA(t){"@babel/helpers - typeof";return UA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UA(t)}function oce(t){return cce(t)||uce(t)||lce(t)||sce()}function sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return OV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OV(t,e)}}function OV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cce(t){if(Array.isArray(t))return t}function fce(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=oce(o),c=l[0],f=l.slice(1);if(typeof c=="number"){DV(i.bind(null,f),c);return}i(c),DV(i.bind(null,f));return}UA(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){f6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f6(t,e,n){return e=dce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t){var e=hce(t,"string");return pp(e)==="symbol"?e:String(e)}function hce(t,e){if(pp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},mce=function(e){return e},gce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ah=function(e,n){return Object.keys(n).reduce(function(r,i){return LV(LV({},r),{},f6({},i,e(i,n[i])))},{})},VV=function(e,n,r){return e.map(function(i){return"".concat(gce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function yce(t,e){return xce(t)||bce(t,e)||d6(t,e)||vce()}function vce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function xce(t){if(Array.isArray(t))return t}function _ce(t){return Ece(t)||wce(t)||d6(t)||Tce()}function Tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6(t,e){if(t){if(typeof t=="string")return $A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(t,e)}}function wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ece(t){if(Array.isArray(t))return $A(t)}function $A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lv=1e-4,h6=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},p6=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},UV=function(e,n){return function(r){var i=h6(e,n);return p6(i,r)}},Sce=function(e,n){return function(r){var i=h6(e,n),a=[].concat(_ce(i.map(function(o,l){return o*l}).slice(1)),[0]);return p6(a,r)}},$V=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(E){return parseFloat(E)}),h=yce(f,4);i=h[0],a=h[1],o=h[2],l=h[3]}}}var m=UV(i,o),b=UV(a,l),T=Sce(i,o),w=function(I){return I>1?1:I<0?0:I},S=function(I){for(var C=I>1?1:I,N=C,D=0;D<8;++D){var R=m(N)-C,j=T(N);if(Math.abs(R-C)<lv||j<lv)return b(N);N=w(N-R/j)}return b(N)};return S.isStepper=!1,S},Ace=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(h,m,b){var T=-(h-m)*r,w=b*a,S=b+(T-w)*l/1e3,E=b*l/1e3+h;return Math.abs(E-m)<lv&&Math.abs(S)<lv?[m,0]:[E,S]};return c.isStepper=!0,c.dt=l,c},Cce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $V(i);case"spring":return Ace();default:if(i.split("(")[0]==="cubic-bezier")return $V(i)}return typeof i=="function"?i:null};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function BV(t){return Ice(t)||kce(t)||m6(t)||Nce()}function Nce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ice(t){if(Array.isArray(t))return qA(t)}function qV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(n),!0).forEach(function(r){BA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BA(t,e,n){return e=Rce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rce(t){var e=Pce(t,"string");return mp(e)==="symbol"?e:String(e)}function Pce(t,e){if(mp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mce(t,e){return jce(t)||Oce(t,e)||m6(t,e)||Dce()}function Dce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m6(t,e){if(t){if(typeof t=="string")return qA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qA(t,e)}}function qA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function jce(t){if(Array.isArray(t))return t}var uv=function(e,n,r){return e+(n-e)*r},FA=function(e){var n=e.from,r=e.to;return n!==r},Lce=function t(e,n,r){var i=Ah(function(a,o){if(FA(o)){var l=e(o.from,o.to,o.velocity),c=Mce(l,2),f=c[0],h=c[1];return rr(rr({},o),{},{from:f,velocity:h})}return o},n);return r<1?Ah(function(a,o){return FA(o)?rr(rr({},o),{},{velocity:uv(o.velocity,i[a].velocity,r),from:uv(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const Vce=function(t,e,n,r,i){var a=pce(t,e),o=a.reduce(function(E,I){return rr(rr({},E),{},BA({},I,[t[I],e[I]]))},{}),l=a.reduce(function(E,I){return rr(rr({},E),{},BA({},I,{from:t[I],velocity:0,to:e[I]}))},{}),c=-1,f,h,m=function(){return null},b=function(){return Ah(function(I,C){return C.from},l)},T=function(){return!Object.values(l).filter(FA).length},w=function(I){f||(f=I);var C=I-f,N=C/n.dt;l=Lce(n,l,N),i(rr(rr(rr({},t),e),b())),f=I,T()||(c=requestAnimationFrame(m))},S=function(I){h||(h=I);var C=(I-h)/r,N=Ah(function(R,j){return uv.apply(void 0,BV(j).concat([n(C)]))},o);if(i(rr(rr(rr({},t),e),N)),C<1)c=requestAnimationFrame(m);else{var D=Ah(function(R,j){return uv.apply(void 0,BV(j).concat([n(1)]))},o);i(rr(rr(rr({},t),e),D))}};return m=n.isStepper?w:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var Uce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $ce(t,e){if(t==null)return{};var n=Bce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function KE(t){return Gce(t)||zce(t)||Fce(t)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fce(t,e){if(t){if(typeof t=="string")return zA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(t,e)}}function zce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gce(t){if(Array.isArray(t))return zA(t)}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FV(Object(n),!0).forEach(function(r){ph(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ph(t,e,n){return e=g6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g6(r.key),r)}}function Kce(t,e,n){return e&&Wce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g6(t){var e=Yce(t,"string");return Jc(e)==="symbol"?e:String(e)}function Yce(t,e){if(Jc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GA(t,e)}function GA(t,e){return GA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GA(t,e)}function Xce(t){var e=Qce();return function(){var r=cv(t),i;if(e){var a=cv(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return HA(this,i)}}function HA(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WA(t)}function WA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cv(t)}var Na=function(t){Jce(n,t);var e=Xce(n);function n(r,i){var a;Hce(this,n),a=e.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,f=o.from,h=o.to,m=o.steps,b=o.children,T=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(WA(a)),a.changeStyle=a.changeStyle.bind(WA(a)),!l||T<=0)return a.state={style:{}},typeof b=="function"&&(a.state={style:h}),HA(a);if(m&&m.length)a.state={style:m[0].style};else if(f){if(typeof b=="function")return a.state={style:f},HA(a);a.state={style:c?ph({},c,f):f}}else a.state={style:{}};return a}return Kce(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,h=a.to,m=a.from,b=this.state.style;if(l){if(!o){var T={style:c?ph({},c,h):h};this.state&&b&&(c&&b[c]!==h||!c&&b!==h)&&this.setState(T);return}if(!(ice(i.to,h)&&i.canBegin&&i.isActive)){var w=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=w||f?m:i.to;if(this.state&&b){var E={style:c?ph({},c,S):S};(c&&b[c]!==S||!c&&b!==S)&&this.setState(E)}this.runAnimation(Vi(Vi({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,m=i.onAnimationEnd,b=i.onAnimationStart,T=Vce(o,l,Cce(f),c,this.changeStyle),w=function(){a.stopJSAnimation=T()};this.manager.start([b,h,w,c,m])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,f=o[0],h=f.style,m=f.duration,b=m===void 0?0:m,T=function(S,E,I){if(I===0)return S;var C=E.duration,N=E.easing,D=N===void 0?"ease":N,R=E.style,j=E.properties,P=E.onAnimationEnd,M=I>0?o[I-1]:E,O=j||Object.keys(R);if(typeof D=="function"||D==="spring")return[].concat(KE(S),[a.runJSAnimation.bind(a,{from:M.style,to:R,duration:C,easing:D}),C]);var $=VV(O,C,D),V=Vi(Vi(Vi({},M.style),R),{},{transition:$});return[].concat(KE(S),[V,C,P]).filter(mce)};return this.manager.start([c].concat(KE(o.reduce(T,[h,Math.max(b,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=fce());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,b=i.steps,T=i.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof T=="function"||f==="spring"){this.runJSAnimation(i);return}if(b.length>1){this.runStepAnimation(i);return}var S=l?ph({},l,c):c,E=VV(Object.keys(S),o,f);w.start([h,a,Vi(Vi({},S),{},{transition:E}),o,m])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=$ce(i,Uce),f=q.Children.count(a),h=this.state.style;if(typeof a=="function")return a(h);if(!l||f===0||o<=0)return a;var m=function(T){var w=T.props,S=w.style,E=S===void 0?{}:S,I=w.className,C=q.cloneElement(T,Vi(Vi({},c),{},{style:Vi(Vi({},E),h),className:I}));return C};return f===1?m(q.Children.only(a)):Y.createElement("div",null,q.Children.map(a,function(b){return m(b)}))}}]),n}(q.PureComponent);Na.displayName="Animate";Na.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Na.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function fv(){return fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fv.apply(this,arguments)}function Zce(t,e){return rfe(t)||nfe(t,e)||tfe(t,e)||efe()}function efe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tfe(t,e){if(t){if(typeof t=="string")return zV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zV(t,e)}}function zV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function rfe(t){if(Array.isArray(t))return t}function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(n),!0).forEach(function(r){ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ife(t,e,n){return e=afe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function afe(t){var e=ofe(t,"string");return gp(e)=="symbol"?e:e+""}function ofe(t,e){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WV=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(o>0&&a instanceof Array){for(var m=[0,0,0,0],b=0,T=4;b<T;b++)m[b]=a[b]>o?o:a[b];h="M".concat(e,",").concat(n+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(e+c*m[0],",").concat(n)),h+="L ".concat(e+r-c*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*m[1])),h+="L ".concat(e+r,",").concat(n+i-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(e+r-c*m[2],",").concat(n+i)),h+="L ".concat(e+c*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*m[3])),h+="Z"}else if(o>0&&a===+a&&a>0){var w=Math.min(o,a);h="M ".concat(e,",").concat(n+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+c*w,",").concat(n,`
            L `).concat(e+r-c*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*w,`
            L `).concat(e+r,",").concat(n+i-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e+r-c*w,",").concat(n+i,`
            L `).concat(e+c*w,",").concat(n+i,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*w," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},sfe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(a,a+l),h=Math.max(a,a+l),m=Math.min(o,o+c),b=Math.max(o,o+c);return r>=f&&r<=h&&i>=m&&i<=b}return!1},lfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MN=function(e){var n=HV(HV({},lfe),e),r=q.useRef(),i=q.useState(-1),a=Zce(i,2),o=a[0],l=a[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var D=r.current.getTotalLength();D&&l(D)}catch{}},[]);var c=n.x,f=n.y,h=n.width,m=n.height,b=n.radius,T=n.className,w=n.animationEasing,S=n.animationDuration,E=n.animationBegin,I=n.isAnimationActive,C=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var N=nt("recharts-rectangle",T);return C?Y.createElement(Na,{canBegin:o>0,from:{width:h,height:m,x:c,y:f},to:{width:h,height:m,x:c,y:f},duration:S,animationEasing:w,isActive:C},function(D){var R=D.width,j=D.height,P=D.x,M=D.y;return Y.createElement(Na,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:S,isActive:I,easing:w},Y.createElement("path",fv({},Ue(n,!0),{className:N,d:WV(P,M,R,j,b),ref:r})))}):Y.createElement("path",fv({},Ue(n,!0),{className:N,d:WV(c,f,h,m,b)}))},ufe=["points","className","baseLinePoints","connectNulls"];function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dc.apply(this,arguments)}function cfe(t,e){if(t==null)return{};var n=ffe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ffe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KV(t){return mfe(t)||pfe(t)||hfe(t)||dfe()}function dfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hfe(t,e){if(t){if(typeof t=="string")return KA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(t,e)}}function pfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mfe(t){if(Array.isArray(t))return KA(t)}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var YV=function(e){return e&&e.x===+e.x&&e.y===+e.y},gfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){YV(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),YV(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ch=function(e,n){var r=gfe(e);n&&(r=[r.reduce(function(a,o){return[].concat(KV(a),KV(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},yfe=function(e,n,r){var i=Ch(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ch(n.reverse(),r).slice(1))},vfe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=cfe(e,ufe);if(!n||!n.length)return null;var l=nt("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",f=yfe(n,i,a);return Y.createElement("g",{className:l},Y.createElement("path",dc({},Ue(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),c?Y.createElement("path",dc({},Ue(o,!0),{fill:"none",d:Ch(n,a)})):null,c?Y.createElement("path",dc({},Ue(o,!0),{fill:"none",d:Ch(i,a)})):null)}var h=Ch(n,a);return Y.createElement("path",dc({},Ue(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(this,arguments)}var Ob=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=nt("recharts-dot",a);return n===+n&&r===+r&&i===+i?q.createElement("circle",YA({},Ue(e,!1),Oy(e),{className:o,cx:n,cy:r,r:i})):null};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}var bfe=["x","y","top","left","width","height","className"];function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(this,arguments)}function JV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(n),!0).forEach(function(r){_fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e,n){return e=Tfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tfe(t){var e=wfe(t,"string");return yp(e)=="symbol"?e:e+""}function wfe(t,e){if(yp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Efe(t,e){if(t==null)return{};var n=Sfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Afe=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Cfe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,f=c===void 0?0:c,h=e.width,m=h===void 0?0:h,b=e.height,T=b===void 0?0:b,w=e.className,S=Efe(e,bfe),E=xfe({x:r,y:a,top:l,left:f,width:m,height:T},S);return!Ee(r)||!Ee(a)||!Ee(m)||!Ee(T)||!Ee(l)||!Ee(f)?null:Y.createElement("path",JA({},Ue(E,!0),{className:nt("recharts-cross",w),d:Afe(r,a,m,T,l,f)}))},YE,XV;function Nfe(){if(XV)return YE;XV=1;var t=Ib(),e=P5(),n=Ra();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return YE=r,YE}var kfe=Nfe();const Ife=Rt(kfe);var JE,QV;function Rfe(){if(QV)return JE;QV=1;var t=Ib(),e=Ra(),n=M5();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return JE=r,JE}var Pfe=Rfe();const Mfe=Rt(Pfe);var Dfe=["cx","cy","angle","ticks","axisLine"],Ofe=["ticks","tick","angle","tickFormatter","stroke"];function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function ZV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(n),!0).forEach(function(r){jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eU(t,e){if(t==null)return{};var n=jfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v6(r.key),r)}}function Vfe(t,e,n){return e&&tU(t.prototype,e),n&&tU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ufe(t,e,n){return e=dv(e),$fe(t,y6()?Reflect.construct(e,n||[],dv(t).constructor):e.apply(t,n))}function $fe(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bfe(t)}function Bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!t})()}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}function qfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XA(t,e)}function XA(t,e){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XA(t,e)}function jb(t,e,n){return e=v6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=Ffe(t,"string");return Xc(e)=="symbol"?e:e+""}function Ffe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lb=function(t){function e(){return Lfe(this,e),Ufe(this,e,arguments)}return qfe(e,t),Vfe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Yt(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=Ife(l,function(h){return h.coordinate||0}),f=Mfe(l,function(h){return h.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,f=eU(r,Dfe),h=l.reduce(function(w,S){return[Math.min(w[0],S.coordinate),Math.max(w[1],S.coordinate)]},[1/0,-1/0]),m=Yt(i,a,h[0],o),b=Yt(i,a,h[1],o),T=Sl(Sl(Sl({},Ue(f,!1)),{},{fill:"none"},Ue(c,!1)),{},{x1:m.x,y1:m.y,x2:b.x,y2:b.y});return Y.createElement("line",Nh({className:"recharts-polar-radius-axis-line"},T))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,f=i.stroke,h=eU(i,Ofe),m=this.getTickTextAnchor(),b=Ue(h,!1),T=Ue(o,!1),w=a.map(function(S,E){var I=r.getTickValueCoord(S),C=Sl(Sl(Sl(Sl({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(I.x,", ").concat(I.y,")")},b),{},{stroke:"none",fill:f},T),{},{index:E},I),{},{payload:S});return Y.createElement(gt,Nh({className:nt("recharts-polar-radius-axis-tick",o6(o)),key:"tick-".concat(S.coordinate)},Wl(r.props,S,E)),e.renderTickItem(o,C,c?c(S.value,E):S.value))});return Y.createElement(gt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:Y.createElement(gt,{className:nt("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),Vn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return Y.isValidElement(r)?o=Y.cloneElement(r,i):Ye(r)?o=r(i):o=Y.createElement(Kl,Nh({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(q.PureComponent);jb(Lb,"displayName","PolarRadiusAxis");jb(Lb,"axisType","radiusAxis");jb(Lb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(this,arguments)}function nU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Al(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(n),!0).forEach(function(r){Vb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x6(r.key),r)}}function Gfe(t,e,n){return e&&rU(t.prototype,e),n&&rU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hfe(t,e,n){return e=hv(e),Wfe(t,b6()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function Wfe(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kfe(t)}function Kfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b6=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hv(t)}function Yfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QA(t,e)}function Vb(t,e,n){return e=x6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x6(t){var e=Jfe(t,"string");return Qc(e)=="symbol"?e:e+""}function Jfe(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xfe=Math.PI/180,iU=1e-5,Ub=function(t){function e(){return zfe(this,e),Hfe(this,e,arguments)}return Yfe(e,t),Gfe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,f=i.tickSize,h=f||8,m=Yt(a,o,l,r.coordinate),b=Yt(a,o,l+(c==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*Xfe),o;return a>iU?o=i==="outer"?"start":"end":a<-iU?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,f=Al(Al({},Ue(this.props,!1)),{},{fill:"none"},Ue(l,!1));if(c==="circle")return Y.createElement(Ob,Rl({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var h=this.props.ticks,m=h.map(function(b){return Yt(i,a,o,b.coordinate)});return Y.createElement(vfe,Rl({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,f=i.stroke,h=Ue(this.props,!1),m=Ue(o,!1),b=Al(Al({},h),{},{fill:"none"},Ue(l,!1)),T=a.map(function(w,S){var E=r.getTickLineCoord(w),I=r.getTickTextAnchor(w),C=Al(Al(Al({textAnchor:I},h),{},{stroke:"none",fill:f},m),{},{index:S,payload:w,x:E.x2,y:E.y2});return Y.createElement(gt,Rl({className:nt("recharts-polar-angle-axis-tick",o6(o)),key:"tick-".concat(w.coordinate)},Wl(r.props,w,S)),l&&Y.createElement("line",Rl({className:"recharts-polar-angle-axis-tick-line"},b,E)),o&&e.renderTickItem(o,C,c?c(w.value,S):w.value))});return Y.createElement(gt,{className:"recharts-polar-angle-axis-ticks"},T)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:Y.createElement(gt,{className:nt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return Y.isValidElement(r)?o=Y.cloneElement(r,i):Ye(r)?o=r(i):o=Y.createElement(Kl,Rl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(q.PureComponent);Vb(Ub,"displayName","PolarAngleAxis");Vb(Ub,"axisType","angleAxis");Vb(Ub,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var XE,aU;function Qfe(){if(aU)return XE;aU=1;var t=RF(),e=t(Object.getPrototypeOf,Object);return XE=e,XE}var QE,oU;function Zfe(){if(oU)return QE;oU=1;var t=So(),e=Qfe(),n=Ao(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var m=e(h);if(m===null)return!0;var b=l.call(m,"constructor")&&m.constructor;return typeof b=="function"&&b instanceof b&&o.call(b)==c}return QE=f,QE}var ede=Zfe();const tde=Rt(ede);var ZE,sU;function nde(){if(sU)return ZE;sU=1;var t=So(),e=Ao(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return ZE=r,ZE}var rde=nde();const ide=Rt(rde);function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function ade(t,e){return ude(t)||lde(t,e)||sde(t,e)||ode()}function ode(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(t,e){if(t){if(typeof t=="string")return lU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lU(t,e)}}function lU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function ude(t){if(Array.isArray(t))return t}function uU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(n),!0).forEach(function(r){cde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cde(t,e,n){return e=fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fde(t){var e=dde(t,"string");return vp(e)=="symbol"?e:e+""}function dde(t,e){if(vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fU=function(e,n,r,i,a){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+a),l+="L ".concat(e+r-o/2-i,",").concat(n+a),l+="L ".concat(e,",").concat(n," Z"),l},hde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pde=function(e){var n=cU(cU({},hde),e),r=q.useRef(),i=q.useState(-1),a=ade(i,2),o=a[0],l=a[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,m=n.lowerWidth,b=n.height,T=n.className,w=n.animationEasing,S=n.animationDuration,E=n.animationBegin,I=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||m!==+m||b!==+b||h===0&&m===0||b===0)return null;var C=nt("recharts-trapezoid",T);return I?Y.createElement(Na,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:b,x:c,y:f},to:{upperWidth:h,lowerWidth:m,height:b,x:c,y:f},duration:S,animationEasing:w,isActive:I},function(N){var D=N.upperWidth,R=N.lowerWidth,j=N.height,P=N.x,M=N.y;return Y.createElement(Na,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:S,easing:w},Y.createElement("path",pv({},Ue(n,!0),{className:C,d:fU(P,M,D,R,j),ref:r})))}):Y.createElement("g",null,Y.createElement("path",pv({},Ue(n,!0),{className:C,d:fU(c,f,h,m,b)})))},mde=["option","shapeType","propTransformer","activeClassName","isActive"];function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function gde(t,e){if(t==null)return{};var n=yde(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(n),!0).forEach(function(r){vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vde(t,e,n){return e=bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bde(t){var e=xde(t,"string");return bp(e)=="symbol"?e:e+""}function xde(t,e){if(bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _de(t,e){return mv(mv({},e),t)}function Tde(t,e){return t==="symbols"}function hU(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Y.createElement(MN,n);case"trapezoid":return Y.createElement(pde,n);case"sector":return Y.createElement(u6,n);case"symbols":if(Tde(e))return Y.createElement(X1,n);break;default:return null}}function wde(t){return q.isValidElement(t)?t.props:t}function _6(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?_de:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=gde(t,mde),f;if(q.isValidElement(e))f=q.cloneElement(e,mv(mv({},c),wde(e)));else if(Ye(e))f=e(c);else if(tde(e)&&!ide(e)){var h=i(e,c);f=Y.createElement(hU,{shapeType:n,elementProps:h})}else{var m=c;f=Y.createElement(hU,{shapeType:n,elementProps:m})}return l?Y.createElement(gt,{className:o},f):f}function $b(t,e){return e!=null&&"trapezoids"in t.props}function Bb(t,e){return e!=null&&"sectors"in t.props}function xp(t,e){return e!=null&&"points"in t.props}function Ede(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Sde(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ade(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Cde(t,e){var n;return $b(t,e)?n=Ede:Bb(t,e)?n=Sde:xp(t,e)&&(n=Ade),n}function Nde(t,e){var n;return $b(t,e)?n="trapezoids":Bb(t,e)?n="sectors":xp(t,e)&&(n="points"),n}function kde(t,e){if($b(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Bb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xp(t,e)?e.payload:{}}function Ide(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Nde(n,e),a=kde(n,e),o=r.filter(function(c,f){var h=Kc(a,c),m=n.props[i].filter(function(w){var S=Cde(n,e);return S(w,e)}),b=n.props[i].indexOf(m[m.length-1]),T=f===b;return h&&T}),l=r.indexOf(o[o.length-1]);return l}var cy;function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w6(r.key),r)}}function Pde(t,e,n){return e&&mU(t.prototype,e),n&&mU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mde(t,e,n){return e=gv(e),Dde(t,T6()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function Dde(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ode(t)}function Ode(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZA(t,e)}function ZA(t,e){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZA(t,e)}function Si(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w6(t){var e=Lde(t,"string");return Zc(e)=="symbol"?e:e+""}function Lde(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var No=function(t){function e(n){var r;return Rde(this,e),r=Mde(this,e,[n]),Si(r,"pieRef",null),Si(r,"sectorRefs",[]),Si(r,"id",Nf("recharts-pie-")),Si(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ye(i)&&i()}),Si(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ye(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return jde(e,t),Pde(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,f=a.valueKey,h=Ue(this.props,!1),m=Ue(o,!1),b=Ue(l,!1),T=o&&o.offsetRadius||20,w=r.map(function(S,E){var I=(S.startAngle+S.endAngle)/2,C=Yt(S.cx,S.cy,S.outerRadius+T,I),N=Ht(Ht(Ht(Ht({},h),S),{},{stroke:"none"},m),{},{index:E,textAnchor:e.getTextAnchor(C.x,S.cx)},C),D=Ht(Ht(Ht(Ht({},h),S),{},{fill:"none",stroke:S.fill},b),{},{index:E,points:[Yt(S.cx,S.cy,S.outerRadius,I),C]}),R=c;return Ze(c)&&Ze(f)?R="value":Ze(c)&&(R=f),Y.createElement(gt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(E)},l&&e.renderLabelLineItem(l,D,"line"),e.renderLabelItem(o,N,Un(S,R)))});return Y.createElement(gt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(f,h){if((f==null?void 0:f.startAngle)===0&&(f==null?void 0:f.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(h),b=c&&i.hasActiveIndex()?c:null,T=m?o:b,w=Ht(Ht({},f),{},{stroke:l?f.fill:f.stroke,tabIndex:-1});return Y.createElement(gt,hc({ref:function(E){E&&!i.sectorRefs.includes(E)&&i.sectorRefs.push(E)},tabIndex:-1,className:"recharts-pie-sector"},Wl(i.props,f,h),{key:"sector-".concat(f==null?void 0:f.startAngle,"-").concat(f==null?void 0:f.endAngle,"-").concat(f.midAngle,"-").concat(h)}),Y.createElement(_6,hc({option:T,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,h=i.animationId,m=this.state,b=m.prevSectors,T=m.prevIsAnimationActive;return Y.createElement(Na,{begin:l,duration:c,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(T),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var S=w.t,E=[],I=a&&a[0],C=I.startAngle;return a.forEach(function(N,D){var R=b&&b[D],j=D>0?ii(N,"paddingAngle",0):0;if(R){var P=jr(R.endAngle-R.startAngle,N.endAngle-N.startAngle),M=Ht(Ht({},N),{},{startAngle:C+j,endAngle:C+P(S)+j});E.push(M),C=M.endAngle}else{var O=N.endAngle,$=N.startAngle,V=jr(0,O-$),F=V(S),B=Ht(Ht({},N),{},{startAngle:C+j,endAngle:C+F+j});E.push(B),C=B.endAngle}}),Y.createElement(gt,null,r.renderSectorsStatically(E))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Kc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,f=i.cx,h=i.cy,m=i.innerRadius,b=i.outerRadius,T=i.isAnimationActive,w=this.state.isAnimationFinished;if(a||!o||!o.length||!Ee(f)||!Ee(h)||!Ee(m)||!Ee(b))return null;var S=nt("recharts-pie",l);return Y.createElement(gt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(I){r.pieRef=I}},this.renderSectors(),c&&this.renderLabels(o),Vn.renderCallByParent(this.props,null,!1),(!T||w)&&wa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(Y.isValidElement(r))return Y.cloneElement(r,i);if(Ye(r))return r(i);var o=nt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Y.createElement(Cc,hc({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(Y.isValidElement(r))return Y.cloneElement(r,i);var o=a;if(Ye(r)&&(o=r(i),Y.isValidElement(o)))return o;var l=nt("recharts-pie-label-text",typeof r!="boolean"&&!Ye(r)?r.className:"");return Y.createElement(Kl,hc({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(q.PureComponent);cy=No;Si(No,"displayName","Pie");Si(No,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!su.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Si(No,"parseDeltaAngle",function(t,e){var n=Cr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Si(No,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ue(t,!1),i=ki(n,wb);return e&&e.length?e.map(function(a,o){return Ht(Ht(Ht({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ht(Ht({},r),a.props)}):[]});Si(No,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=a6(i,a),l=r+Nr(t.cx,i,i/2),c=n+Nr(t.cy,a,a/2),f=Nr(t.innerRadius,o,0),h=Nr(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:f,outerRadius:h,maxRadius:m}});Si(No,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ht(Ht({},e.type.defaultProps),e.props):e.props,i=cy.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,f=r.dataKey,h=r.nameKey,m=r.valueKey,b=r.tooltipType,T=Math.abs(r.minAngle),w=cy.parseCoordinateOfPie(r,n),S=cy.parseDeltaAngle(o,l),E=Math.abs(S),I=f;Ze(f)&&Ze(m)?(ho(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),I="value"):Ze(f)&&(ho(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),I=m);var C=i.filter(function(M){return Un(M,I,0)!==0}).length,N=(E>=360?C:C-1)*c,D=E-C*T-N,R=i.reduce(function(M,O){var $=Un(O,I,0);return M+(Ee($)?$:0)},0),j;if(R>0){var P;j=i.map(function(M,O){var $=Un(M,I,0),V=Un(M,h,O),F=(Ee($)?$:0)/R,B;O?B=P.endAngle+Cr(S)*c*($!==0?1:0):B=o;var te=B+Cr(S)*(($!==0?T:0)+F*D),Z=(B+te)/2,W=(w.innerRadius+w.outerRadius)/2,Q=[{name:V,value:$,payload:M,dataKey:I,type:b}],le=Yt(w.cx,w.cy,W,Z);return P=Ht(Ht(Ht({percent:F,cornerRadius:a,name:V,tooltipPayload:Q,midAngle:Z,middleRadius:W,tooltipPosition:le},M),w),{},{value:Un(M,I),startAngle:B,endAngle:te,payload:M,paddingAngle:Cr(S)*c}),P})}return Ht(Ht({},w),{},{sectors:j,data:i})});var eS,gU;function Vde(){if(gU)return eS;gU=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var l=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[o?c:++l]=r,r+=a;return f}return eS=n,eS}var tS,yU;function E6(){if(yU)return tS;yU=1;var t=WF(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return tS=r,tS}var nS,vU;function Ude(){if(vU)return nS;vU=1;var t=Vde(),e=Tb(),n=E6();function r(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),l=l===void 0?a<o?1:-1:n(l),t(a,o,l,i)}}return nS=r,nS}var rS,bU;function $de(){if(bU)return rS;bU=1;var t=Ude(),e=t();return rS=e,rS}var Bde=$de();const yv=Rt(Bde);function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function xU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _U(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(n),!0).forEach(function(r){S6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S6(t,e,n){return e=qde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qde(t){var e=Fde(t,"string");return _p(e)=="symbol"?e:e+""}function Fde(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zde=["Webkit","Moz","O","ms"],Gde=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=zde.reduce(function(a,o){return _U(_U({},a),{},S6({},o+r,n))},{});return i[e]=n,i};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vv.apply(this,arguments)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(r){Jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C6(r.key),r)}}function Wde(t,e,n){return e&&wU(t.prototype,e),n&&wU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kde(t,e,n){return e=bv(e),Yde(t,A6()?Reflect.construct(e,n||[],bv(t).constructor):e.apply(t,n))}function Yde(t,e){if(e&&(ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jde(t)}function Jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!t})()}function bv(t){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bv(t)}function Xde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eC(t,e)}function Jr(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=Qde(t,"string");return ef(e)=="symbol"?e:e+""}function Qde(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zde=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Eh().domain(yv(0,c)).range([a,a+o-l]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},EU=function(e){return e.changedTouches&&!!e.changedTouches.length},tf=function(t){function e(n){var r;return Hde(this,e),r=Kde(this,e,[n]),Jr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Jr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Jr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),Jr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Jr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Jr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Jr(r,"handleSlideDragStart",function(i){var a=EU(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xde(e,t),Wde(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,m=Math.min(i,a),b=Math.max(i,a),T=e.getIndexInRange(o,m),w=e.getIndexInRange(o,b);return{startIndex:T-T%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Un(a[r],l,r);return Ye(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,m=c.travellerWidth,b=c.startIndex,T=c.endIndex,w=c.onChange,S=r.pageX-a;S>0?S=Math.min(S,f+h-m-l,f+h-m-o):S<0&&(S=Math.max(S,f-o,f-l));var E=this.getIndex({startX:o+S,endX:l+S});(E.startIndex!==b||E.endIndex!==T)&&w&&w(E),this.setState({startX:o+S,endX:l+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=EU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[o],h=this.props,m=h.x,b=h.width,T=h.travellerWidth,w=h.onChange,S=h.gap,E=h.data,I={startX:this.state.startX,endX:this.state.endX},C=r.pageX-a;C>0?C=Math.min(C,m+b-T-f):C<0&&(C=Math.max(C,m-f)),I[o]=f+C;var N=this.getIndex(I),D=N.startIndex,R=N.endIndex,j=function(){var M=E.length-1;return o==="startX"&&(l>c?D%S===0:R%S===0)||l<c&&R===M||o==="endX"&&(l>c?R%S===0:D%S===0)||l>c&&R===M};this.setState(Jr(Jr({},o,f+C),"brushMoveStartX",r.pageX),function(){w&&j()&&w(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,f=o.endX,h=this.state[i],m=l.indexOf(h);if(m!==-1){var b=m+r;if(!(b===-1||b>=l.length)){var T=l[b];i==="startX"&&T>=f||i==="endX"&&T<=c||this.setState(Jr({},i,T),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,f=r.stroke;return Y.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,m=q.Children.only(f);return m?Y.cloneElement(m,{x:i,y:a,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,f=c.y,h=c.travellerWidth,m=c.height,b=c.traveller,T=c.ariaLabel,w=c.data,S=c.startIndex,E=c.endIndex,I=Math.max(r,this.props.x),C=iS(iS({},Ue(this.props,!1)),{},{x:I,y:f,width:h,height:m}),N=T||"Min value: ".concat((a=w[S])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=w[E])===null||o===void 0?void 0:o.name);return Y.createElement(gt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(R){["ArrowLeft","ArrowRight"].includes(R.key)&&(R.preventDefault(),R.stopPropagation(),l.handleTravellerMoveKeyboard(R.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(b,C))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,f=a.travellerWidth,h=Math.min(r,i)+f,m=Math.max(Math.abs(i-r)-f,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,m=h.startX,b=h.endX,T=5,w={pointerEvents:"none",fill:f};return Y.createElement(gt,{className:"recharts-brush-texts"},Y.createElement(Kl,vv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,b)-T,y:o+l/2},w),this.getTextOfTick(i)),Y.createElement(Kl,vv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,b)+c+T,y:o+l/2},w),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,f=r.width,h=r.height,m=r.alwaysShowText,b=this.state,T=b.startX,w=b.endX,S=b.isTextActive,E=b.isSlideMoving,I=b.isTravellerMoving,C=b.isTravellerFocused;if(!i||!i.length||!Ee(l)||!Ee(c)||!Ee(f)||!Ee(h)||f<=0||h<=0)return null;var N=nt("recharts-brush",a),D=Y.Children.count(o)===1,R=Gde("userSelect","none");return Y.createElement(gt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(T,w),this.renderTravellerLayer(T,"startX"),this.renderTravellerLayer(w,"endX"),(S||E||I||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,f=Math.floor(a+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Y.isValidElement(r)?a=Y.cloneElement(r,i):Ye(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,m=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return iS({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:o},a&&a.length?Zde({data:a,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var b=i.scale.domain().map(function(T){return i.scale(T)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:b}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(q.PureComponent);Jr(tf,"displayName","Brush");Jr(tf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var aS,SU;function ehe(){if(SU)return aS;SU=1;var t=iN();function e(n,r){var i;return t(n,function(a,o,l){return i=r(a,o,l),!i}),!!i}return aS=e,aS}var oS,AU;function the(){if(AU)return oS;AU=1;var t=EF(),e=Ra(),n=ehe(),r=Br(),i=Tb();function a(o,l,c){var f=r(o)?t:n;return c&&i(o,l,c)&&(l=void 0),f(o,e(l,3))}return oS=a,oS}var nhe=the();const rhe=Rt(nhe);var Ea=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},sS,CU;function ihe(){if(CU)return sS;CU=1;var t=qF();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return sS=e,sS}var lS,NU;function ahe(){if(NU)return lS;NU=1;var t=ihe(),e=$F(),n=Ra();function r(i,a){var o={};return a=n(a,3),e(i,function(l,c,f){t(o,c,a(l,c,f))}),o}return lS=r,lS}var ohe=ahe();const she=Rt(ohe);var uS,kU;function lhe(){if(kU)return uS;kU=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return uS=t,uS}var cS,IU;function uhe(){if(IU)return cS;IU=1;var t=iN();function e(n,r){var i=!0;return t(n,function(a,o,l){return i=!!r(a,o,l),i}),i}return cS=e,cS}var fS,RU;function che(){if(RU)return fS;RU=1;var t=lhe(),e=uhe(),n=Ra(),r=Br(),i=Tb();function a(o,l,c){var f=r(o)?t:e;return c&&i(o,l,c)&&(l=void 0),f(o,n(l,3))}return fS=a,fS}var fhe=che();const dhe=Rt(fhe);var hhe=["x","y"];function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tC.apply(this,arguments)}function PU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(n),!0).forEach(function(r){phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function phe(t,e,n){return e=mhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mhe(t){var e=ghe(t,"string");return Tp(e)=="symbol"?e:e+""}function ghe(t,e){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yhe(t,e){if(t==null)return{};var n=vhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bhe(t,e){var n=t.x,r=t.y,i=yhe(t,hhe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),m="".concat(e.width||i.width),b=parseInt(m,10);return th(th(th(th(th({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:b,name:e.name,radius:e.radius})}function MU(t){return Y.createElement(_6,tC({shapeType:"rectangle",propTransformer:bhe,activeClassName:"recharts-active-bar"},t))}var xhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=Ee(r)||FZ(r);return a?e(r,i):(a||Jl(),n)}},_he=["value","background"],N6;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function The(t,e){if(t==null)return{};var n=whe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function whe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(r){gs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I6(r.key),r)}}function She(t,e,n){return e&&OU(t.prototype,e),n&&OU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ahe(t,e,n){return e=_v(e),Che(t,k6()?Reflect.construct(e,n||[],_v(t).constructor):e.apply(t,n))}function Che(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nhe(t)}function Nhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nC(t,e)}function gs(t,e,n){return e=I6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6(t){var e=Ihe(t,"string");return nf(e)=="symbol"?e:e+""}function Ihe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fu=function(t){function e(){var n;Ehe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Ahe(this,e,[].concat(i)),gs(n,"state",{isAnimationFinished:!1}),gs(n,"id",Nf("recharts-bar-")),gs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),gs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return khe(e,t),She(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,f=a.activeBar,h=Ue(this.props,!1);return r&&r.map(function(m,b){var T=b===c,w=T?f:o,S=Tn(Tn(Tn({},h),m),{},{isActive:T,option:w,index:b,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(gt,xv({className:"recharts-bar-rectangle"},Wl(i.props,m,b),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(b)}),Y.createElement(MU,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,m=i.animationId,b=this.state.prevData;return Y.createElement(Na,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var w=T.t,S=a.map(function(E,I){var C=b&&b[I];if(C){var N=jr(C.x,E.x),D=jr(C.y,E.y),R=jr(C.width,E.width),j=jr(C.height,E.height);return Tn(Tn({},E),{},{x:N(w),y:D(w),width:R(w),height:j(w)})}if(o==="horizontal"){var P=jr(0,E.height),M=P(w);return Tn(Tn({},E),{},{y:E.y+E.height-M,height:M})}var O=jr(0,E.width),$=O(w);return Tn(Tn({},E),{},{width:$})});return Y.createElement(gt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Kc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Ue(this.props.background,!1);return a.map(function(f,h){f.value;var m=f.background,b=The(f,_he);if(!m)return null;var T=Tn(Tn(Tn(Tn(Tn({},b),{},{fill:"#eee"},m),c),Wl(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return Y.createElement(MU,xv({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},T))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,f=a.layout,h=a.children,m=ki(h,Db);if(!m)return null;var b=f==="vertical"?o[0].height/2:o[0].width/2,T=function(E,I){var C=Array.isArray(E.value)?E.value[1]:E.value;return{x:E.x,y:E.y,value:C,errorVal:Un(E,I)}},w={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Y.createElement(gt,w,m.map(function(S){return Y.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:o,xAxis:l,yAxis:c,layout:f,offset:b,dataPointFormatter:T})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,m=r.width,b=r.height,T=r.isAnimationActive,w=r.background,S=r.id;if(i||!a||!a.length)return null;var E=this.state.isAnimationFinished,I=nt("recharts-bar",o),C=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,D=C||N,R=Ze(S)?this.id:S;return Y.createElement(gt,{className:I},C||N?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(R)},Y.createElement("rect",{x:C?f:f-m/2,y:N?h:h-b/2,width:C?m:m*2,height:N?b:b*2}))):null,Y.createElement(gt,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(R,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,R),(!T||E)&&wa.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(q.PureComponent);N6=fu;gs(fu,"displayName","Bar");gs(fu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!su.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});gs(fu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,b=t.offset,T=ile(r,n);if(!T)return null;var w=e.layout,S=n.type.defaultProps,E=S!==void 0?Tn(Tn({},S),n.props):n.props,I=E.dataKey,C=E.children,N=E.minPointSize,D=w==="horizontal"?o:a,R=f?D.scale.domain():null,j=fle({numericAxis:D}),P=ki(C,wb),M=m.map(function(O,$){var V,F,B,te,Z,W;f?V=ale(f[h+$],R):(V=Un(O,I),Array.isArray(V)||(V=[j,V]));var Q=xhe(N,N6.defaultProps.minPointSize)(V[1],$);if(w==="horizontal"){var le,ae=[o.scale(V[0]),o.scale(V[1])],H=ae[0],X=ae[1];F=oV({axis:a,ticks:l,bandSize:i,offset:T.offset,entry:O,index:$}),B=(le=X??H)!==null&&le!==void 0?le:void 0,te=T.size;var ne=H-X;if(Z=Number.isNaN(ne)?0:ne,W={x:F,y:o.y,width:te,height:o.height},Math.abs(Q)>0&&Math.abs(Z)<Math.abs(Q)){var se=Cr(Z||Q)*(Math.abs(Q)-Math.abs(Z));B-=se,Z+=se}}else{var _e=[a.scale(V[0]),a.scale(V[1])],Ie=_e[0],Ce=_e[1];if(F=Ie,B=oV({axis:o,ticks:c,bandSize:i,offset:T.offset,entry:O,index:$}),te=Ce-Ie,Z=T.size,W={x:a.x,y:B,width:a.width,height:Z},Math.abs(Q)>0&&Math.abs(te)<Math.abs(Q)){var ft=Cr(te||Q)*(Math.abs(Q)-Math.abs(te));te+=ft}}return Tn(Tn(Tn({},O),{},{x:F,y:B,width:te,height:Z,value:f?V:V[1],payload:O,background:W},P&&P[$]&&P[$].props),{},{tooltipPayload:[r6(n,O)],tooltipPosition:{x:F+te/2,y:B+Z/2}})});return Tn({data:M,layout:w},b)});function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function Phe(t,e,n){return e&&jU(t.prototype,e),n&&jU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(n),!0).forEach(function(r){qb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qb(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=Mhe(t,"string");return wp(e)=="symbol"?e:e+""}function Mhe(t,e){if(wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P6=function(e,n,r,i,a){var o=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},b=!!Xr(f,fu);return h.reduce(function(T,w){var S=n[w],E=S.orientation,I=S.domain,C=S.padding,N=C===void 0?{}:C,D=S.mirror,R=S.reversed,j="".concat(E).concat(D?"Mirror":""),P,M,O,$,V;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var F=I[1]-I[0],B=1/0,te=S.categoricalDomain.sort(HZ);if(te.forEach(function(_e,Ie){Ie>0&&(B=Math.min((_e||0)-(te[Ie-1]||0),B))}),Number.isFinite(B)){var Z=B/F,W=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(P=Z*W/2),S.padding==="no-gap"){var Q=Nr(e.barCategoryGap,Z*W),le=Z*W/2;P=le-Q-(le-Q)/W*Q}}}i==="xAxis"?M=[r.left+(N.left||0)+(P||0),r.left+r.width-(N.right||0)-(P||0)]:i==="yAxis"?M=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(P||0),r.top+r.height-(N.bottom||0)-(P||0)]:M=S.range,R&&(M=[M[1],M[0]]);var ae=Z5(S,a,b),H=ae.scale,X=ae.realScaleType;H.domain(I).range(M),e6(H);var ne=t6(H,$i($i({},S),{},{realScaleType:X}));i==="xAxis"?(V=E==="top"&&!D||E==="bottom"&&D,O=r.left,$=m[j]-V*S.height):i==="yAxis"&&(V=E==="left"&&!D||E==="right"&&D,O=m[j]-V*S.width,$=r.top);var se=$i($i($i({},S),ne),{},{realScaleType:X,x:O,y:$,scale:H,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return se.bandSize=av(se,ne),!S.hide&&i==="xAxis"?m[j]+=(V?-1:1)*se.height:S.hide||(m[j]+=(V?-1:1)*se.width),$i($i({},T),{},qb({},w,se))},{})},M6=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Dhe=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return M6({x:n,y:r},{x:i,y:a})},D6=function(){function t(e){Rhe(this,t),this.scale=e}return Phe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();qb(D6,"EPS",1e-4);var DN=function(e){var n=Object.keys(e).reduce(function(r,i){return $i($i({},r),{},qb({},i,D6.create(e[i])))},{});return $i($i({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return she(i,function(c,f){return n[f].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return dhe(i,function(a,o){return n[o].isInRange(a)})}})};function Ohe(t){return(t%180+180)%180}var jhe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ohe(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},dS,VU;function Lhe(){if(VU)return dS;VU=1;var t=Ra(),e=Gp(),n=xb();function r(i){return function(a,o,l){var c=Object(a);if(!e(a)){var f=t(o,3);a=n(a),o=function(m){return f(c[m],m,c)}}var h=i(a,o,l);return h>-1?c[f?a[h]:h]:void 0}}return dS=r,dS}var hS,UU;function Vhe(){if(UU)return hS;UU=1;var t=E6();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return hS=e,hS}var pS,$U;function Uhe(){if($U)return pS;$U=1;var t=OF(),e=Ra(),n=Vhe(),r=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(a,e(o,3),f)}return pS=i,pS}var mS,BU;function $he(){if(BU)return mS;BU=1;var t=Lhe(),e=Uhe(),n=t(e);return mS=n,mS}$he();var Bhe=X4();const qhe=Rt(Bhe);var Fhe=qhe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),O6=q.createContext(void 0),j6=q.createContext(void 0),L6=q.createContext(void 0),zhe=q.createContext({}),V6=q.createContext(void 0),U6=q.createContext(0),$6=q.createContext(0),qU=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,l=e.children,c=e.width,f=e.height,h=Fhe(a);return Y.createElement(O6.Provider,{value:r},Y.createElement(j6.Provider,{value:i},Y.createElement(zhe.Provider,{value:a},Y.createElement(L6.Provider,{value:h},Y.createElement(V6.Provider,{value:o},Y.createElement(U6.Provider,{value:f},Y.createElement($6.Provider,{value:c},l)))))))},Ghe=function(){return q.useContext(V6)},B6=function(e){var n=q.useContext(O6);n==null&&Jl();var r=n[e];return r==null&&Jl(),r},q6=function(e){var n=q.useContext(j6);n==null&&Jl();var r=n[e];return r==null&&Jl(),r},Hhe=function(){var e=q.useContext(L6);return e},F6=function(){return q.useContext($6)},z6=function(){return q.useContext(U6)};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Khe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H6(r.key),r)}}function Yhe(t,e,n){return e&&Khe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jhe(t,e,n){return e=Tv(e),Xhe(t,G6()?Reflect.construct(e,n||[],Tv(t).constructor):e.apply(t,n))}function Xhe(t,e){if(e&&(rf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qhe(t)}function Qhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(t)}function Zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rC(t,e)}function rC(t,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rC(t,e)}function FU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(n),!0).forEach(function(r){ON(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ON(t,e,n){return e=H6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t){var e=epe(t,"string");return rf(e)=="symbol"?e:e+""}function epe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tpe(t,e){return ape(t)||ipe(t,e)||rpe(t,e)||npe()}function npe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rpe(t,e){if(t){if(typeof t=="string")return GU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GU(t,e)}}function GU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ipe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function ape(t){if(Array.isArray(t))return t}function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iC.apply(this,arguments)}var ope=function(e,n){var r;return Y.isValidElement(e)?r=Y.cloneElement(e,n):Ye(e)?r=e(n):r=Y.createElement("line",iC({},n,{className:"recharts-reference-line-line"})),r},spe=function(e,n,r,i,a,o,l,c,f){var h=a.x,m=a.y,b=a.width,T=a.height;if(r){var w=f.y,S=e.y.apply(w,{position:o});if(Ea(f,"discard")&&!e.y.isInRange(S))return null;var E=[{x:h+b,y:S},{x:h,y:S}];return c==="left"?E.reverse():E}if(n){var I=f.x,C=e.x.apply(I,{position:o});if(Ea(f,"discard")&&!e.x.isInRange(C))return null;var N=[{x:C,y:m+T},{x:C,y:m}];return l==="top"?N.reverse():N}if(i){var D=f.segment,R=D.map(function(j){return e.apply(j,{position:o})});return Ea(f,"discard")&&rhe(R,function(j){return!e.isInRange(j)})?null:R}return null};function lpe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,f=Ghe(),h=B6(i),m=q6(a),b=Hhe();if(!f||!b)return null;ho(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var T=DN({x:h.scale,y:m.scale}),w=$n(e),S=$n(n),E=r&&r.length===2,I=spe(T,w,S,E,b,t.position,h.orientation,m.orientation,t);if(!I)return null;var C=tpe(I,2),N=C[0],D=N.x,R=N.y,j=C[1],P=j.x,M=j.y,O=Ea(t,"hidden")?"url(#".concat(f,")"):void 0,$=zU(zU({clipPath:O},Ue(t,!0)),{},{x1:D,y1:R,x2:P,y2:M});return Y.createElement(gt,{className:nt("recharts-reference-line",l)},ope(o,$),Vn.renderCallByParent(t,Dhe({x1:D,y1:R,x2:P,y2:M})))}var Fb=function(t){function e(){return Whe(this,e),Jhe(this,e,arguments)}return Zhe(e,t),Yhe(e,[{key:"render",value:function(){return Y.createElement(lpe,this.props)}}])}(Y.Component);ON(Fb,"displayName","ReferenceLine");ON(Fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(this,arguments)}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function HU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HU(Object(n),!0).forEach(function(r){zb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K6(r.key),r)}}function fpe(t,e,n){return e&&cpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dpe(t,e,n){return e=wv(e),hpe(t,W6()?Reflect.construct(e,n||[],wv(t).constructor):e.apply(t,n))}function hpe(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ppe(t)}function ppe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W6=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(t)}function mpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oC(t,e)}function zb(t,e,n){return e=K6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K6(t){var e=gpe(t,"string");return af(e)=="symbol"?e:e+""}function gpe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ype=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=DN({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Ea(e,"discard")&&!o.isInRange(l)?null:l},Gb=function(t){function e(){return upe(this,e),dpe(this,e,arguments)}return mpe(e,t),fpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,f=$n(i),h=$n(a);if(ho(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=ype(this.props);if(!m)return null;var b=m.x,T=m.y,w=this.props,S=w.shape,E=w.className,I=Ea(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=WU(WU({clipPath:I},Ue(this.props,!0)),{},{cx:b,cy:T});return Y.createElement(gt,{className:nt("recharts-reference-dot",E)},e.renderDot(S,C),Vn.renderCallByParent(this.props,{x:b-o,y:T-o,width:2*o,height:2*o}))}}])}(Y.Component);zb(Gb,"displayName","ReferenceDot");zb(Gb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zb(Gb,"renderDot",function(t,e){var n;return Y.isValidElement(t)?n=Y.cloneElement(t,e):Ye(t)?n=t(e):n=Y.createElement(Ob,aC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sC.apply(this,arguments)}function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function KU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(n),!0).forEach(function(r){Hb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J6(r.key),r)}}function xpe(t,e,n){return e&&bpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _pe(t,e,n){return e=Ev(e),Tpe(t,Y6()?Reflect.construct(e,n||[],Ev(t).constructor):e.apply(t,n))}function Tpe(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wpe(t)}function wpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y6=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lC(t,e)}function Hb(t,e,n){return e=J6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J6(t){var e=Spe(t,"string");return of(e)=="symbol"?e:e+""}function Spe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ape=function(e,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,f=a.y2,h=a.xAxis,m=a.yAxis;if(!h||!m)return null;var b=DN({x:h.scale,y:m.scale}),T={x:e?b.x.apply(o,{position:"start"}):b.x.rangeMin,y:r?b.y.apply(c,{position:"start"}):b.y.rangeMin},w={x:n?b.x.apply(l,{position:"end"}):b.x.rangeMax,y:i?b.y.apply(f,{position:"end"}):b.y.rangeMax};return Ea(a,"discard")&&(!b.isInRange(T)||!b.isInRange(w))?null:M6(T,w)},Wb=function(t){function e(){return vpe(this,e),_pe(this,e,arguments)}return Epe(e,t),xpe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,f=r.alwaysShow,h=r.clipPathId;ho(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=$n(i),b=$n(a),T=$n(o),w=$n(l),S=this.props.shape;if(!m&&!b&&!T&&!w&&!S)return null;var E=Ape(m,b,T,w,this.props);if(!E&&!S)return null;var I=Ea(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Y.createElement(gt,{className:nt("recharts-reference-area",c)},e.renderRect(S,YU(YU({clipPath:I},Ue(this.props,!0)),E)),Vn.renderCallByParent(this.props,E))}}])}(Y.Component);Hb(Wb,"displayName","ReferenceArea");Hb(Wb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hb(Wb,"renderRect",function(t,e){var n;return Y.isValidElement(t)?n=Y.cloneElement(t,e):Ye(t)?n=t(e):n=Y.createElement(MN,sC({},e,{className:"recharts-reference-area-rect"})),n});function X6(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Cpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return jhe(r,n)}function Npe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function Sv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function kpe(t,e){return X6(t,e+1)}function Ipe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,l=e.end,c=0,f=1,h=o,m=function(){var w=r==null?void 0:r[c];if(w===void 0)return{v:X6(r,f)};var S=c,E,I=function(){return E===void 0&&(E=n(w,S)),E},C=w.coordinate,N=c===0||Sv(t,C,I,h,l);N||(c=0,h=o,f+=1),N&&(h=C+t*(I()/2+i),c+=f)},b;f<=a.length;)if(b=m(),b)return b.v;return[]}function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function JU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(n),!0).forEach(function(r){Rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rpe(t,e,n){return e=Ppe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ppe(t){var e=Mpe(t,"string");return Ep(e)=="symbol"?e:e+""}function Mpe(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dpe(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end,f=function(b){var T=a[b],w,S=function(){return w===void 0&&(w=n(T,b)),w};if(b===o-1){var E=t*(T.coordinate+t*S()/2-c);a[b]=T=dr(dr({},T),{},{tickCoord:E>0?T.coordinate-E*t:T.coordinate})}else a[b]=T=dr(dr({},T),{},{tickCoord:T.coordinate});var I=Sv(t,T.tickCoord,S,l,c);I&&(c=T.tickCoord-t*(S()/2+i),a[b]=dr(dr({},T),{},{isShow:!0}))},h=o-1;h>=0;h--)f(h);return a}function Ope(t,e,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=e.start,f=e.end;if(a){var h=r[l-1],m=n(h,l-1),b=t*(h.coordinate+t*m/2-f);o[l-1]=h=dr(dr({},h),{},{tickCoord:b>0?h.coordinate-b*t:h.coordinate});var T=Sv(t,h.tickCoord,function(){return m},c,f);T&&(f=h.tickCoord-t*(m/2+i),o[l-1]=dr(dr({},h),{},{isShow:!0}))}for(var w=a?l-1:l,S=function(C){var N=o[C],D,R=function(){return D===void 0&&(D=n(N,C)),D};if(C===0){var j=t*(N.coordinate-t*R()/2-c);o[C]=N=dr(dr({},N),{},{tickCoord:j<0?N.coordinate-j*t:N.coordinate})}else o[C]=N=dr(dr({},N),{},{tickCoord:N.coordinate});var P=Sv(t,N.tickCoord,R,c,f);P&&(c=N.tickCoord+t*(R()/2+i),o[C]=dr(dr({},N),{},{isShow:!0}))},E=0;E<w;E++)S(E);return o}function jpe(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Ee(c)||su.isSsr)return kpe(i,typeof c=="number"&&Ee(c)?c:0);var b=[],T=l==="top"||l==="bottom"?"width":"height",w=h&&T==="width"?wh(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(N,D){var R=Ye(f)?f(N.value,D):N.value;return T==="width"?Cpe(wh(R,{fontSize:e,letterSpacing:n}),w,m):wh(R,{fontSize:e,letterSpacing:n})[T]},E=i.length>=2?Cr(i[1].coordinate-i[0].coordinate):1,I=Npe(a,E,T);return c==="equidistantPreserveStart"?Ipe(E,I,S,i,o):(c==="preserveStart"||c==="preserveStartEnd"?b=Ope(E,I,S,i,o,c==="preserveStartEnd"):b=Dpe(E,I,S,i,o),b.filter(function(C){return C.isShow}))}var Lpe=["viewBox"],Vpe=["viewBox"],Upe=["ticks"];function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function XU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(n),!0).forEach(function(r){jN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gS(t,e){if(t==null)return{};var n=$pe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z6(r.key),r)}}function qpe(t,e,n){return e&&QU(t.prototype,e),n&&QU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fpe(t,e,n){return e=Av(e),zpe(t,Q6()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function zpe(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gpe(t)}function Gpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q6=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function Hpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uC(t,e)}function uC(t,e){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uC(t,e)}function jN(t,e,n){return e=Z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z6(t){var e=Wpe(t,"string");return sf(e)=="symbol"?e:e+""}function Wpe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kb=function(t){function e(n){var r;return Bpe(this,e),r=Fpe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Hpe(e,t),qpe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=gS(r,Lpe),l=this.props,c=l.viewBox,f=gS(l,Vpe);return!wc(a,c)||!wc(o,f)||!wc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,m=i.mirror,b=i.tickMargin,T,w,S,E,I,C,N=m?-1:1,D=r.tickSize||h,R=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":T=w=r.coordinate,E=o+ +!m*c,S=E-N*D,C=S-N*b,I=R;break;case"left":S=E=r.coordinate,w=a+ +!m*l,T=w-N*D,I=T-N*b,C=R;break;case"right":S=E=r.coordinate,w=a+ +m*l,T=w+N*D,I=T+N*b,C=R;break;default:T=w=r.coordinate,E=o+ +m*c,S=E+N*D,C=S+N*b,I=R;break}return{line:{x1:T,y1:S,x2:w,y2:E},tick:{x:I,y:C}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,m=jn(jn(jn({},Ue(this.props,!1)),Ue(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var b=+(c==="top"&&!f||c==="bottom"&&f);m=jn(jn({},m),{},{x1:i,y1:a+b*l,x2:i+o,y2:a+b*l})}else{var T=+(c==="left"&&!f||c==="right"&&f);m=jn(jn({},m),{},{x1:i+T*o,y1:a,x2:i+T*o,y2:a+l})}return Y.createElement("line",pc({},m,{className:nt("recharts-cartesian-axis-line",ii(h,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,m=l.tickFormatter,b=l.unit,T=jpe(jn(jn({},this.props),{},{ticks:r}),i,a),w=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),E=Ue(this.props,!1),I=Ue(h,!1),C=jn(jn({},E),{},{fill:"none"},Ue(c,!1)),N=T.map(function(D,R){var j=o.getTickLineCoord(D),P=j.line,M=j.tick,O=jn(jn(jn(jn({textAnchor:w,verticalAnchor:S},E),{},{stroke:"none",fill:f},I),M),{},{index:R,payload:D,visibleTicksCount:T.length,tickFormatter:m});return Y.createElement(gt,pc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Wl(o.props,D,R)),c&&Y.createElement("line",pc({},C,P,{className:nt("recharts-cartesian-axis-tick-line",ii(c,"className"))})),h&&e.renderTickItem(h,O,"".concat(Ye(m)?m(D.value,R):D.value).concat(b||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var m=this.props,b=m.ticks,T=gS(m,Upe),w=b;return Ye(c)&&(w=b&&b.length>0?c(this.props):c(T)),o<=0||l<=0||!w||!w.length?null:Y.createElement(gt,{className:nt("recharts-cartesian-axis",f),ref:function(E){r.layerReference=E}},a&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Vn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,l=nt(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(r)?o=Y.cloneElement(r,jn(jn({},i),{},{className:l})):Ye(r)?o=r(jn(jn({},i),{},{className:l})):o=Y.createElement(Kl,pc({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(q.Component);jN(Kb,"displayName","CartesianAxis");jN(Kb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Kpe=["layout","type","stroke","connectNulls","isRange","ref"],Ype=["key"],ez;function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function tz(t,e){if(t==null)return{};var n=Jpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}function ZU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZU(Object(n),!0).forEach(function(r){ha(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rz(r.key),r)}}function Qpe(t,e,n){return e&&e$(t.prototype,e),n&&e$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zpe(t,e,n){return e=Cv(e),eme(t,nz()?Reflect.construct(e,n||[],Cv(t).constructor):e.apply(t,n))}function eme(t,e){if(e&&(lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tme(t)}function tme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nz=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(t)}function nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cC(t,e)}function cC(t,e){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cC(t,e)}function ha(t,e,n){return e=rz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rz(t){var e=rme(t,"string");return lf(e)=="symbol"?e:e+""}function rme(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fi=function(t){function e(){var n;Xpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Zpe(this,e,[].concat(i)),ha(n,"state",{isAnimationFinished:!0}),ha(n,"id",Nf("recharts-area-")),ha(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ye(o)&&o()}),ha(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ye(o)&&o()}),n}return nme(e,t),Qpe(e,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,f=c.dot,h=c.points,m=c.dataKey,b=Ue(this.props,!1),T=Ue(f,!0),w=h.map(function(E,I){var C=ss(ss(ss({key:"dot-".concat(I),r:3},b),T),{},{index:I,cx:E.x,cy:E.y,dataKey:m,value:E.value,payload:E.payload,points:h});return e.renderDotItem(f,C)}),S={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Y.createElement(gt,Ll({className:"recharts-area-dots"},S),w)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,f=o[o.length-1].x,h=r*Math.abs(c-f),m=ms(o.map(function(b){return b.y||0}));return Ee(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(ms(a.map(function(b){return b.y||0})),m)),Ee(m)?Y.createElement("rect",{x:c<f?c:c-h,y:0,width:h,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,f=o[o.length-1].y,h=r*Math.abs(c-f),m=ms(o.map(function(b){return b.x||0}));return Ee(a)&&typeof a=="number"?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(ms(a.map(function(b){return b.x||0})),m)),Ee(m)?Y.createElement("rect",{x:0,y:c<f?c:c-h,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var l=this.props,c=l.layout,f=l.type,h=l.stroke,m=l.connectNulls,b=l.isRange;l.ref;var T=tz(l,Kpe);return Y.createElement(gt,{clipPath:a?"url(#clipPath-".concat(o,")"):null},Y.createElement(Cc,Ll({},Ue(T,!0),{points:r,connectNulls:m,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Y.createElement(Cc,Ll({},Ue(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:m,fill:"none",points:r})),h!=="none"&&b&&Y.createElement(Cc,Ll({},Ue(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:m,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.baseLine,f=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,b=o.animationEasing,T=o.animationId,w=this.state,S=w.prevPoints,E=w.prevBaseLine;return Y.createElement(Na,{begin:h,duration:m,isActive:f,easing:b,from:{t:0},to:{t:1},key:"area-".concat(T),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var C=I.t;if(S){var N=S.length/l.length,D=l.map(function(M,O){var $=Math.floor(O*N);if(S[$]){var V=S[$],F=jr(V.x,M.x),B=jr(V.y,M.y);return ss(ss({},M),{},{x:F(C),y:B(C)})}return M}),R;if(Ee(c)&&typeof c=="number"){var j=jr(E,c);R=j(C)}else if(Ze(c)||Cf(c)){var P=jr(E,0);R=P(C)}else R=c.map(function(M,O){var $=Math.floor(O*N);if(E[$]){var V=E[$],F=jr(V.x,M.x),B=jr(V.y,M.y);return ss(ss({},M),{},{x:F(C),y:B(C)})}return M});return a.renderAreaStatically(D,R,r,i)}return Y.createElement(gt,null,Y.createElement("defs",null,Y.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(C))),Y.createElement(gt,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,b=f.totalLength;return c&&o&&o.length&&(!h&&b>0||!Kc(h,o)||!Kc(m,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,f=i.top,h=i.left,m=i.xAxis,b=i.yAxis,T=i.width,w=i.height,S=i.isAnimationActive,E=i.id;if(a||!l||!l.length)return null;var I=this.state.isAnimationFinished,C=l.length===1,N=nt("recharts-area",c),D=m&&m.allowDataOverflow,R=b&&b.allowDataOverflow,j=D||R,P=Ze(E)?this.id:E,M=(r=Ue(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},O=M.r,$=O===void 0?3:O,V=M.strokeWidth,F=V===void 0?2:V,B=tee(o)?o:{},te=B.clipDot,Z=te===void 0?!0:te,W=$*2+F;return Y.createElement(gt,{className:N},D||R?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(P)},Y.createElement("rect",{x:D?h:h-T/2,y:R?f:f-w/2,width:D?T:T*2,height:R?w:w*2})),!Z&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(P)},Y.createElement("rect",{x:h-W/2,y:f-W/2,width:T+W,height:w+W}))):null,C?null:this.renderArea(j,P),(o||C)&&this.renderDots(j,Z,P),(!S||I)&&wa.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(q.PureComponent);ez=Fi;ha(Fi,"displayName","Area");ha(Fi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!su.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ha(Fi,"getBaseValue",function(t,e,n,r){var i=t.layout,a=t.baseValue,o=e.props.baseValue,l=o??a;if(Ee(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,f=c.scale.domain();if(c.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return l==="dataMin"?m:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});ha(Fi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,h=t.dataStartIndex,m=t.displayedData,b=t.offset,T=e.layout,w=f&&f.length,S=ez.getBaseValue(e,n,r,i),E=T==="horizontal",I=!1,C=m.map(function(D,R){var j;w?j=f[h+R]:(j=Un(D,c),Array.isArray(j)?I=!0:j=[S,j]);var P=j[1]==null||w&&Un(D,c)==null;return E?{x:aV({axis:r,ticks:a,bandSize:l,entry:D,index:R}),y:P?null:i.scale(j[1]),value:j,payload:D}:{x:P?null:r.scale(j[1]),y:aV({axis:i,ticks:o,bandSize:l,entry:D,index:R}),value:j,payload:D}}),N;return w||I?N=C.map(function(D){var R=Array.isArray(D.value)?D.value[0]:null;return E?{x:D.x,y:R!=null&&D.y!=null?i.scale(R):null}:{x:R!=null?r.scale(R):null,y:D.y}}):N=E?i.scale(S):r.scale(S),ss({points:C,baseLine:N,layout:T,isRange:I},b)});ha(Fi,"renderDotItem",function(t,e){var n;if(Y.isValidElement(t))n=Y.cloneElement(t,e);else if(Ye(t))n=t(e);else{var r=nt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,a=tz(e,Ype);n=Y.createElement(Ob,Ll({},a,{key:i,className:r}))}return n});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ame(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oz(r.key),r)}}function ome(t,e,n){return e&&ame(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t,e,n){return e=Nv(e),lme(t,iz()?Reflect.construct(e,n||[],Nv(t).constructor):e.apply(t,n))}function lme(t,e){if(e&&(uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(t)}function ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iz=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(t)}function cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fC(t,e)}function az(t,e,n){return e=oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oz(t){var e=fme(t,"string");return uf(e)=="symbol"?e:e+""}function fme(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dC(){return dC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dC.apply(this,arguments)}function dme(t){var e=t.xAxisId,n=F6(),r=z6(),i=B6(e);return i==null?null:q.createElement(Kb,dC({},i,{className:nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return jl(o,!0)}}))}var Mf=function(t){function e(){return ime(this,e),sme(this,e,arguments)}return cme(e,t),ome(e,[{key:"render",value:function(){return q.createElement(dme,this.props)}}])}(q.Component);az(Mf,"displayName","XAxis");az(Mf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function hme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uz(r.key),r)}}function mme(t,e,n){return e&&pme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gme(t,e,n){return e=kv(e),yme(t,sz()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function yme(t,e){if(e&&(cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vme(t)}function vme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sz=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(t,e)}function lz(t,e,n){return e=uz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uz(t){var e=xme(t,"string");return cf(e)=="symbol"?e:e+""}function xme(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pC.apply(this,arguments)}var _me=function(e){var n=e.yAxisId,r=F6(),i=z6(),a=q6(n);return a==null?null:q.createElement(Kb,pC({},a,{className:nt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return jl(l,!0)}}))},Jp=function(t){function e(){return hme(this,e),gme(this,e,arguments)}return bme(e,t),mme(e,[{key:"render",value:function(){return q.createElement(_me,this.props)}}])}(q.Component);lz(Jp,"displayName","YAxis");lz(Jp,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function t$(t){return Sme(t)||Eme(t)||wme(t)||Tme()}function Tme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wme(t,e){if(t){if(typeof t=="string")return mC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(t,e)}}function Eme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sme(t){if(Array.isArray(t))return mC(t)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gC=function(e,n,r,i,a){var o=ki(e,Fb),l=ki(e,Gb),c=[].concat(t$(o),t$(l)),f=ki(e,Wb),h="".concat(i,"Id"),m=i[0],b=n;if(c.length&&(b=c.reduce(function(S,E){if(E.props[h]===r&&Ea(E.props,"extendDomain")&&Ee(E.props[m])){var I=E.props[m];return[Math.min(S[0],I),Math.max(S[1],I)]}return S},b)),f.length){var T="".concat(m,"1"),w="".concat(m,"2");b=f.reduce(function(S,E){if(E.props[h]===r&&Ea(E.props,"extendDomain")&&Ee(E.props[T])&&Ee(E.props[w])){var I=E.props[T],C=E.props[w];return[Math.min(S[0],I,C),Math.max(S[1],I,C)]}return S},b)}return a&&a.length&&(b=a.reduce(function(S,E){return Ee(E)?[Math.min(S[0],E),Math.max(S[1],E)]:S},b)),b},yS={exports:{}},n$;function Ame(){return n$||(n$=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function a(c,f,h,m,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var T=new i(h,m||c,b),w=n?n+f:f;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],T]:c._events[w].push(T):(c._events[w]=T,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)e.call(h,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var b=0,T=m.length,w=new Array(T);b<T;b++)w[b]=m[b].fn;return w},l.prototype.listenerCount=function(f){var h=n?n+f:f,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(f,h,m,b,T,w){var S=n?n+f:f;if(!this._events[S])return!1;var E=this._events[S],I=arguments.length,C,N;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),I){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,m),!0;case 4:return E.fn.call(E.context,h,m,b),!0;case 5:return E.fn.call(E.context,h,m,b,T),!0;case 6:return E.fn.call(E.context,h,m,b,T,w),!0}for(N=1,C=new Array(I-1);N<I;N++)C[N-1]=arguments[N];E.fn.apply(E.context,C)}else{var D=E.length,R;for(N=0;N<D;N++)switch(E[N].once&&this.removeListener(f,E[N].fn,void 0,!0),I){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,h);break;case 3:E[N].fn.call(E[N].context,h,m);break;case 4:E[N].fn.call(E[N].context,h,m,b);break;default:if(!C)for(R=1,C=new Array(I-1);R<I;R++)C[R-1]=arguments[R];E[N].fn.apply(E[N].context,C)}}return!0},l.prototype.on=function(f,h,m){return a(this,f,h,m,!1)},l.prototype.once=function(f,h,m){return a(this,f,h,m,!0)},l.prototype.removeListener=function(f,h,m,b){var T=n?n+f:f;if(!this._events[T])return this;if(!h)return o(this,T),this;var w=this._events[T];if(w.fn)w.fn===h&&(!b||w.once)&&(!m||w.context===m)&&o(this,T);else{for(var S=0,E=[],I=w.length;S<I;S++)(w[S].fn!==h||b&&!w[S].once||m&&w[S].context!==m)&&E.push(w[S]);E.length?this._events[T]=E.length===1?E[0]:E:o(this,T)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l}(yS)),yS.exports}var Cme=Ame();const Nme=Rt(Cme);var vS=new Nme,bS="recharts.syncMouseEvents";function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ime(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cz(r.key),r)}}function Rme(t,e,n){return e&&Ime(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xS(t,e,n){return e=cz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cz(t){var e=Pme(t,"string");return Sp(e)=="symbol"?e:e+""}function Pme(t,e){if(Sp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mme=function(){function t(){kme(this,t),xS(this,"activeIndex",0),xS(this,"coordinateList",[]),xS(this,"layout","horizontal")}return Rme(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,f=c===void 0?null:c,h=n.offset,m=h===void 0?null:h,b=n.mouseHandlerCallback,T=b===void 0?null:b;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=T??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=a+c+f,b=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:b})}}}])}();function Dme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ee(r)&&Ee(i))return!0}return!1}function Ome(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fz(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Yt(e,n,r,i),l=Yt(e,n,r,a);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function jme(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,m=e.angle,b=Yt(l,c,f,m),T=Yt(l,c,h,m);r=b.x,i=b.y,a=T.x,o=T.y}else return fz(e);return[{x:r,y:i},{x:a,y:o}]}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function r$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(n),!0).forEach(function(r){Lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lme(t,e,n){return e=Vme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vme(t){var e=Ume(t,"string");return Ap(e)=="symbol"?e:e+""}function Ume(t,e){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ap(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $me(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,f=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,b=t.chartName,T=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!T||!a||!o||b!=="ScatterChart"&&i!=="axis")return null;var w,S=Cc;if(b==="ScatterChart")w=o,S=Cfe;else if(b==="BarChart")w=Ome(m,o,c,h),S=MN;else if(m==="radial"){var E=fz(o),I=E.cx,C=E.cy,N=E.radius,D=E.startAngle,R=E.endAngle;w={cx:I,cy:C,startAngle:D,endAngle:R,innerRadius:N,outerRadius:N},S=u6}else w={points:jme(m,o,c)},S=Cc;var j=Fg(Fg(Fg(Fg({stroke:"#ccc",pointerEvents:"none"},c),w),Ue(T,!1)),{},{payload:l,payloadIndex:f,className:nt("recharts-tooltip-cursor",T.className)});return q.isValidElement(T)?q.cloneElement(T,j):q.createElement(S,j)}var Bme=["item"],qme=["children","className","width","height","style","compact","title","desc"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function i$(t,e){return Gme(t)||zme(t,e)||hz(t,e)||Fme()}function Fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return l}}function Gme(t){if(Array.isArray(t))return t}function a$(t,e){if(t==null)return{};var n=Hme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pz(r.key),r)}}function Yme(t,e,n){return e&&Kme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jme(t,e,n){return e=Iv(e),Xme(t,dz()?Reflect.construct(e,n||[],Iv(t).constructor):e.apply(t,n))}function Xme(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dz=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function Zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yC(t,e)}function yC(t,e){return yC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yC(t,e)}function df(t){return nge(t)||tge(t)||hz(t)||ege()}function ege(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hz(t,e){if(t){if(typeof t=="string")return vC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(t,e)}}function tge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nge(t){if(Array.isArray(t))return vC(t)}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(n),!0).forEach(function(r){Fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fe(t,e,n){return e=pz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pz(t){var e=rge(t,"string");return ff(e)=="symbol"?e:e+""}function rge(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ige={xAxis:["bottom","top"],yAxis:["left","right"]},age={width:"100%",height:"100%"},mz={x:0,y:0};function zg(t){return t}var oge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},sge=function(e,n,r,i){var a=n.find(function(h){return h&&h.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return de(de(de({},i),Yt(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,f=i.angle;return de(de(de({},i),Yt(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return mz},Yb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(df(l),df(f)):l},[]);return o.length>0?o:e&&e.length&&Ee(i)&&Ee(a)?e.slice(i,a+1):[]};function gz(t){return t==="number"?[0,"auto"]:void 0}var bC=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,l=Yb(n,e);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var b;if(o.dataKey&&!o.allowDuplicatedCategory){var T=m===void 0?l:m;b=Dy(T,o.dataKey,i)}else b=m&&m[r]||l[r];return b?[].concat(df(c),[r6(f,b)]):c},[])},s$=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=oge(a,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=Qse(o,l,f,c);if(h>=0&&f){var m=f[h]&&f[h].value,b=bC(e,n,h,m),T=sge(r,l,h,a);return{activeTooltipIndex:h,activeLabel:m,activePayload:b,activeCoordinate:T}}return null},lge=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,b=e.stackOffset,T=Q5(h,a);return r.reduce(function(w,S){var E,I=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,C=I.type,N=I.dataKey,D=I.allowDataOverflow,R=I.allowDuplicatedCategory,j=I.scale,P=I.ticks,M=I.includeHidden,O=I[o];if(w[O])return w;var $=Yb(e.data,{graphicalItems:i.filter(function(ne){var se,_e=o in ne.props?ne.props[o]:(se=ne.type.defaultProps)===null||se===void 0?void 0:se[o];return _e===O}),dataStartIndex:c,dataEndIndex:f}),V=$.length,F,B,te;Dme(I.domain,D,C)&&(F=DA(I.domain,null,D),T&&(C==="number"||j!=="auto")&&(te=Sh($,N,"category")));var Z=gz(C);if(!F||F.length===0){var W,Q=(W=I.domain)!==null&&W!==void 0?W:Z;if(N){if(F=Sh($,N,C),C==="category"&&T){var le=GZ(F);R&&le?(B=F,F=yv(0,V)):R||(F=uV(Q,F,S).reduce(function(ne,se){return ne.indexOf(se)>=0?ne:[].concat(df(ne),[se])},[]))}else if(C==="category")R?F=F.filter(function(ne){return ne!==""&&!Ze(ne)}):F=uV(Q,F,S).reduce(function(ne,se){return ne.indexOf(se)>=0||se===""||Ze(se)?ne:[].concat(df(ne),[se])},[]);else if(C==="number"){var ae=rle($,i.filter(function(ne){var se,_e,Ie=o in ne.props?ne.props[o]:(se=ne.type.defaultProps)===null||se===void 0?void 0:se[o],Ce="hide"in ne.props?ne.props.hide:(_e=ne.type.defaultProps)===null||_e===void 0?void 0:_e.hide;return Ie===O&&(M||!Ce)}),N,a,h);ae&&(F=ae)}T&&(C==="number"||j!=="auto")&&(te=Sh($,N,"category"))}else T?F=yv(0,V):l&&l[O]&&l[O].hasStack&&C==="number"?F=b==="expand"?[0,1]:n6(l[O].stackGroups,c,f):F=X5($,i.filter(function(ne){var se=o in ne.props?ne.props[o]:ne.type.defaultProps[o],_e="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return se===O&&(M||!_e)}),C,h,!0);if(C==="number")F=gC(m,F,O,a,P),Q&&(F=DA(Q,F,D));else if(C==="category"&&Q){var H=Q,X=F.every(function(ne){return H.indexOf(ne)>=0});X&&(F=H)}}return de(de({},w),{},Fe({},O,de(de({},I),{},{axisType:a,domain:F,categoricalDomain:te,duplicateDomain:B,originalDomain:(E=I.domain)!==null&&E!==void 0?E:Z,isCategorical:T,layout:h})))},{})},uge=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,m=e.children,b=Yb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),T=b.length,w=Q5(h,a),S=-1;return r.reduce(function(E,I){var C=I.type.defaultProps!==void 0?de(de({},I.type.defaultProps),I.props):I.props,N=C[o],D=gz("number");if(!E[N]){S++;var R;return w?R=yv(0,T):l&&l[N]&&l[N].hasStack?(R=n6(l[N].stackGroups,c,f),R=gC(m,R,N,a)):(R=DA(D,X5(b,r.filter(function(j){var P,M,O=o in j.props?j.props[o]:(P=j.type.defaultProps)===null||P===void 0?void 0:P[o],$="hide"in j.props?j.props.hide:(M=j.type.defaultProps)===null||M===void 0?void 0:M.hide;return O===N&&!$}),"number",h),i.defaultProps.allowDataOverflow),R=gC(m,R,N,a)),de(de({},E),{},Fe({},N,de(de({axisType:a},i.defaultProps),{},{hide:!0,orientation:ii(ige,"".concat(a,".").concat(S%2),null),domain:R,originalDomain:D,isCategorical:w,layout:h})))}return E},{})},cge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,m="".concat(i,"Id"),b=ki(h,a),T={};return b&&b.length?T=lge(e,{axes:b,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):o&&o.length&&(T=uge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),T},fge=function(e){var n=uc(e),r=jl(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:aN(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:av(n,r)}},l$=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xr(n,tf),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},dge=function(e){return!e||!e.length?!1:e.some(function(n){var r=fo(n&&n.type);return r&&r.indexOf("Bar")>=0})},u$=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,m=r.children,b=r.margin||{},T=Xr(m,tf),w=Xr(m,Ec),S=Object.keys(c).reduce(function(R,j){var P=c[j],M=P.orientation;return!P.mirror&&!P.hide?de(de({},R),{},Fe({},M,R[M]+P.width)):R},{left:b.left||0,right:b.right||0}),E=Object.keys(o).reduce(function(R,j){var P=o[j],M=P.orientation;return!P.mirror&&!P.hide?de(de({},R),{},Fe({},M,ii(R,"".concat(M))+P.height)):R},{top:b.top||0,bottom:b.bottom||0}),I=de(de({},E),S),C=I.bottom;T&&(I.bottom+=T.props.height||tf.defaultProps.height),w&&n&&(I=tle(I,i,r,n));var N=f-I.left-I.right,D=h-I.top-I.bottom;return de(de({brushBottom:C},I),{},{width:Math.max(N,0),height:Math.max(D,0)})},pge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},LN=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,f=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,b=function(I,C){var N=C.graphicalItems,D=C.stackGroups,R=C.offset,j=C.updateId,P=C.dataStartIndex,M=C.dataEndIndex,O=I.barSize,$=I.layout,V=I.barGap,F=I.barCategoryGap,B=I.maxBarSize,te=u$($),Z=te.numericAxisName,W=te.cateAxisName,Q=dge(N),le=[];return N.forEach(function(ae,H){var X=Yb(I.data,{graphicalItems:[ae],dataStartIndex:P,dataEndIndex:M}),ne=ae.type.defaultProps!==void 0?de(de({},ae.type.defaultProps),ae.props):ae.props,se=ne.dataKey,_e=ne.maxBarSize,Ie=ne["".concat(Z,"Id")],Ce=ne["".concat(W,"Id")],ft={},Be=c.reduce(function(Nn,br){var kn=C["".concat(br.axisType,"Map")],Xn=ne["".concat(br.axisType,"Id")];kn&&kn[Xn]||br.axisType==="zAxis"||Jl();var ai=kn[Xn];return de(de({},Nn),{},Fe(Fe({},br.axisType,ai),"".concat(br.axisType,"Ticks"),jl(ai)))},ft),we=Be[W],Me=Be["".concat(W,"Ticks")],je=D&&D[Ie]&&D[Ie].hasStack&&dle(ae,D[Ie].stackGroups),ge=fo(ae.type).indexOf("Bar")>=0,lt=av(we,Me),ze=[],xe=Q&&Zse({barSize:O,stackGroups:D,totalSize:pge(Be,W)});if(ge){var Ge,Qe,Bt=Ze(_e)?B:_e,Pt=(Ge=(Qe=av(we,Me,!0))!==null&&Qe!==void 0?Qe:Bt)!==null&&Ge!==void 0?Ge:0;ze=ele({barGap:V,barCategoryGap:F,bandSize:Pt!==lt?Pt:lt,sizeList:xe[Ce],maxBarSize:Bt}),Pt!==lt&&(ze=ze.map(function(Nn){return de(de({},Nn),{},{position:de(de({},Nn.position),{},{offset:Nn.position.offset-Pt/2})})}))}var Cn=ae&&ae.type&&ae.type.getComposedData;Cn&&le.push({props:de(de({},Cn(de(de({},Be),{},{displayedData:X,props:I,dataKey:se,item:ae,bandSize:lt,barPosition:ze,offset:R,stackedData:je,layout:$,dataStartIndex:P,dataEndIndex:M}))),{},Fe(Fe(Fe({key:ae.key||"item-".concat(H)},Z,Be[Z]),W,Be[W]),"animationId",j)),childIndex:iee(ae,I.children),item:ae})}),le},T=function(I,C){var N=I.props,D=I.dataStartIndex,R=I.dataEndIndex,j=I.updateId;if(!wO({props:N}))return null;var P=N.children,M=N.layout,O=N.stackOffset,$=N.data,V=N.reverseStackOrder,F=u$(M),B=F.numericAxisName,te=F.cateAxisName,Z=ki(P,r),W=cle($,Z,"".concat(B,"Id"),"".concat(te,"Id"),O,V),Q=c.reduce(function(ne,se){var _e="".concat(se.axisType,"Map");return de(de({},ne),{},Fe({},_e,cge(N,de(de({},se),{},{graphicalItems:Z,stackGroups:se.axisType===B&&W,dataStartIndex:D,dataEndIndex:R}))))},{}),le=hge(de(de({},Q),{},{props:N,graphicalItems:Z}),C==null?void 0:C.legendBBox);Object.keys(Q).forEach(function(ne){Q[ne]=h(N,Q[ne],le,ne.replace("Map",""),n)});var ae=Q["".concat(te,"Map")],H=fge(ae),X=b(N,de(de({},Q),{},{dataStartIndex:D,dataEndIndex:R,updateId:j,graphicalItems:Z,stackGroups:W,offset:le}));return de(de({formattedGraphicalItems:X,graphicalItems:Z,offset:le,stackGroups:W},H),Q)},w=function(E){function I(C){var N,D,R;return Wme(this,I),R=Jme(this,I,[C]),Fe(R,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Fe(R,"accessibilityManager",new Mme),Fe(R,"handleLegendBBoxUpdate",function(j){if(j){var P=R.state,M=P.dataStartIndex,O=P.dataEndIndex,$=P.updateId;R.setState(de({legendBBox:j},T({props:R.props,dataStartIndex:M,dataEndIndex:O,updateId:$},de(de({},R.state),{},{legendBBox:j}))))}}),Fe(R,"handleReceiveSyncEvent",function(j,P,M){if(R.props.syncId===j){if(M===R.eventEmitterSymbol&&typeof R.props.syncMethod!="function")return;R.applySyncEvent(P)}}),Fe(R,"handleBrushChange",function(j){var P=j.startIndex,M=j.endIndex;if(P!==R.state.dataStartIndex||M!==R.state.dataEndIndex){var O=R.state.updateId;R.setState(function(){return de({dataStartIndex:P,dataEndIndex:M},T({props:R.props,dataStartIndex:P,dataEndIndex:M,updateId:O},R.state))}),R.triggerSyncEvent({dataStartIndex:P,dataEndIndex:M})}}),Fe(R,"handleMouseEnter",function(j){var P=R.getMouseInfo(j);if(P){var M=de(de({},P),{},{isTooltipActive:!0});R.setState(M),R.triggerSyncEvent(M);var O=R.props.onMouseEnter;Ye(O)&&O(M,j)}}),Fe(R,"triggeredAfterMouseMove",function(j){var P=R.getMouseInfo(j),M=P?de(de({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};R.setState(M),R.triggerSyncEvent(M);var O=R.props.onMouseMove;Ye(O)&&O(M,j)}),Fe(R,"handleItemMouseEnter",function(j){R.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Fe(R,"handleItemMouseLeave",function(){R.setState(function(){return{isTooltipActive:!1}})}),Fe(R,"handleMouseMove",function(j){j.persist(),R.throttleTriggeredAfterMouseMove(j)}),Fe(R,"handleMouseLeave",function(j){R.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};R.setState(P),R.triggerSyncEvent(P);var M=R.props.onMouseLeave;Ye(M)&&M(P,j)}),Fe(R,"handleOuterEvent",function(j){var P=ree(j),M=ii(R.props,"".concat(P));if(P&&Ye(M)){var O,$;/.*touch.*/i.test(P)?$=R.getMouseInfo(j.changedTouches[0]):$=R.getMouseInfo(j),M((O=$)!==null&&O!==void 0?O:{},j)}}),Fe(R,"handleClick",function(j){var P=R.getMouseInfo(j);if(P){var M=de(de({},P),{},{isTooltipActive:!0});R.setState(M),R.triggerSyncEvent(M);var O=R.props.onClick;Ye(O)&&O(M,j)}}),Fe(R,"handleMouseDown",function(j){var P=R.props.onMouseDown;if(Ye(P)){var M=R.getMouseInfo(j);P(M,j)}}),Fe(R,"handleMouseUp",function(j){var P=R.props.onMouseUp;if(Ye(P)){var M=R.getMouseInfo(j);P(M,j)}}),Fe(R,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&R.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Fe(R,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&R.handleMouseDown(j.changedTouches[0])}),Fe(R,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&R.handleMouseUp(j.changedTouches[0])}),Fe(R,"handleDoubleClick",function(j){var P=R.props.onDoubleClick;if(Ye(P)){var M=R.getMouseInfo(j);P(M,j)}}),Fe(R,"handleContextMenu",function(j){var P=R.props.onContextMenu;if(Ye(P)){var M=R.getMouseInfo(j);P(M,j)}}),Fe(R,"triggerSyncEvent",function(j){R.props.syncId!==void 0&&vS.emit(bS,R.props.syncId,j,R.eventEmitterSymbol)}),Fe(R,"applySyncEvent",function(j){var P=R.props,M=P.layout,O=P.syncMethod,$=R.state.updateId,V=j.dataStartIndex,F=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)R.setState(de({dataStartIndex:V,dataEndIndex:F},T({props:R.props,dataStartIndex:V,dataEndIndex:F,updateId:$},R.state)));else if(j.activeTooltipIndex!==void 0){var B=j.chartX,te=j.chartY,Z=j.activeTooltipIndex,W=R.state,Q=W.offset,le=W.tooltipTicks;if(!Q)return;if(typeof O=="function")Z=O(le,j);else if(O==="value"){Z=-1;for(var ae=0;ae<le.length;ae++)if(le[ae].value===j.activeLabel){Z=ae;break}}var H=de(de({},Q),{},{x:Q.left,y:Q.top}),X=Math.min(B,H.x+H.width),ne=Math.min(te,H.y+H.height),se=le[Z]&&le[Z].value,_e=bC(R.state,R.props.data,Z),Ie=le[Z]?{x:M==="horizontal"?le[Z].coordinate:X,y:M==="horizontal"?ne:le[Z].coordinate}:mz;R.setState(de(de({},j),{},{activeLabel:se,activeCoordinate:Ie,activePayload:_e,activeTooltipIndex:Z}))}else R.setState(j)}),Fe(R,"renderCursor",function(j){var P,M=R.state,O=M.isTooltipActive,$=M.activeCoordinate,V=M.activePayload,F=M.offset,B=M.activeTooltipIndex,te=M.tooltipAxisBandSize,Z=R.getTooltipEventType(),W=(P=j.props.active)!==null&&P!==void 0?P:O,Q=R.props.layout,le=j.key||"_recharts-cursor";return Y.createElement($me,{key:le,activeCoordinate:$,activePayload:V,activeTooltipIndex:B,chartName:n,element:j,isActive:W,layout:Q,offset:F,tooltipAxisBandSize:te,tooltipEventType:Z})}),Fe(R,"renderPolarAxis",function(j,P,M){var O=ii(j,"type.axisType"),$=ii(R.state,"".concat(O,"Map")),V=j.type.defaultProps,F=V!==void 0?de(de({},V),j.props):j.props,B=$&&$[F["".concat(O,"Id")]];return q.cloneElement(j,de(de({},B),{},{className:nt(O,B.className),key:j.key||"".concat(P,"-").concat(M),ticks:jl(B,!0)}))}),Fe(R,"renderPolarGrid",function(j){var P=j.props,M=P.radialLines,O=P.polarAngles,$=P.polarRadius,V=R.state,F=V.radiusAxisMap,B=V.angleAxisMap,te=uc(F),Z=uc(B),W=Z.cx,Q=Z.cy,le=Z.innerRadius,ae=Z.outerRadius;return q.cloneElement(j,{polarAngles:Array.isArray(O)?O:jl(Z,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray($)?$:jl(te,!0).map(function(H){return H.coordinate}),cx:W,cy:Q,innerRadius:le,outerRadius:ae,key:j.key||"polar-grid",radialLines:M})}),Fe(R,"renderLegend",function(){var j=R.state.formattedGraphicalItems,P=R.props,M=P.children,O=P.width,$=P.height,V=R.props.margin||{},F=O-(V.left||0)-(V.right||0),B=Y5({children:M,formattedGraphicalItems:j,legendWidth:F,legendContent:f});if(!B)return null;var te=B.item,Z=a$(B,Bme);return q.cloneElement(te,de(de({},Z),{},{chartWidth:O,chartHeight:$,margin:V,onBBoxUpdate:R.handleLegendBBoxUpdate}))}),Fe(R,"renderTooltip",function(){var j,P=R.props,M=P.children,O=P.accessibilityLayer,$=Xr(M,wi);if(!$)return null;var V=R.state,F=V.isTooltipActive,B=V.activeCoordinate,te=V.activePayload,Z=V.activeLabel,W=V.offset,Q=(j=$.props.active)!==null&&j!==void 0?j:F;return q.cloneElement($,{viewBox:de(de({},W),{},{x:W.left,y:W.top}),active:Q,label:Z,payload:Q?te:[],coordinate:B,accessibilityLayer:O})}),Fe(R,"renderBrush",function(j){var P=R.props,M=P.margin,O=P.data,$=R.state,V=$.offset,F=$.dataStartIndex,B=$.dataEndIndex,te=$.updateId;return q.cloneElement(j,{key:j.key||"_recharts-brush",onChange:Ug(R.handleBrushChange,j.props.onChange),data:O,x:Ee(j.props.x)?j.props.x:V.left,y:Ee(j.props.y)?j.props.y:V.top+V.height+V.brushBottom-(M.bottom||0),width:Ee(j.props.width)?j.props.width:V.width,startIndex:F,endIndex:B,updateId:"brush-".concat(te)})}),Fe(R,"renderReferenceElement",function(j,P,M){if(!j)return null;var O=R,$=O.clipPathId,V=R.state,F=V.xAxisMap,B=V.yAxisMap,te=V.offset,Z=j.type.defaultProps||{},W=j.props,Q=W.xAxisId,le=Q===void 0?Z.xAxisId:Q,ae=W.yAxisId,H=ae===void 0?Z.yAxisId:ae;return q.cloneElement(j,{key:j.key||"".concat(P,"-").concat(M),xAxis:F[le],yAxis:B[H],viewBox:{x:te.left,y:te.top,width:te.width,height:te.height},clipPathId:$})}),Fe(R,"renderActivePoints",function(j){var P=j.item,M=j.activePoint,O=j.basePoint,$=j.childIndex,V=j.isRange,F=[],B=P.props.key,te=P.item.type.defaultProps!==void 0?de(de({},P.item.type.defaultProps),P.item.props):P.item.props,Z=te.activeDot,W=te.dataKey,Q=de(de({index:$,dataKey:W,cx:M.x,cy:M.y,r:4,fill:PN(P.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Ue(Z,!1)),Oy(Z));return F.push(I.renderActiveDot(Z,Q,"".concat(B,"-activePoint-").concat($))),O?F.push(I.renderActiveDot(Z,de(de({},Q),{},{cx:O.x,cy:O.y}),"".concat(B,"-basePoint-").concat($))):V&&F.push(null),F}),Fe(R,"renderGraphicChild",function(j,P,M){var O=R.filterFormatItem(j,P,M);if(!O)return null;var $=R.getTooltipEventType(),V=R.state,F=V.isTooltipActive,B=V.tooltipAxis,te=V.activeTooltipIndex,Z=V.activeLabel,W=R.props.children,Q=Xr(W,wi),le=O.props,ae=le.points,H=le.isRange,X=le.baseLine,ne=O.item.type.defaultProps!==void 0?de(de({},O.item.type.defaultProps),O.item.props):O.item.props,se=ne.activeDot,_e=ne.hide,Ie=ne.activeBar,Ce=ne.activeShape,ft=!!(!_e&&F&&Q&&(se||Ie||Ce)),Be={};$!=="axis"&&Q&&Q.props.trigger==="click"?Be={onClick:Ug(R.handleItemMouseEnter,j.props.onClick)}:$!=="axis"&&(Be={onMouseLeave:Ug(R.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:Ug(R.handleItemMouseEnter,j.props.onMouseEnter)});var we=q.cloneElement(j,de(de({},O.props),Be));function Me(br){return typeof B.dataKey=="function"?B.dataKey(br.payload):null}if(ft)if(te>=0){var je,ge;if(B.dataKey&&!B.allowDuplicatedCategory){var lt=typeof B.dataKey=="function"?Me:"payload.".concat(B.dataKey.toString());je=Dy(ae,lt,Z),ge=H&&X&&Dy(X,lt,Z)}else je=ae==null?void 0:ae[te],ge=H&&X&&X[te];if(Ce||Ie){var ze=j.props.activeIndex!==void 0?j.props.activeIndex:te;return[q.cloneElement(j,de(de(de({},O.props),Be),{},{activeIndex:ze})),null,null]}if(!Ze(je))return[we].concat(df(R.renderActivePoints({item:O,activePoint:je,basePoint:ge,childIndex:te,isRange:H})))}else{var xe,Ge=(xe=R.getItemByXY(R.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:we},Qe=Ge.graphicalItem,Bt=Qe.item,Pt=Bt===void 0?j:Bt,Cn=Qe.childIndex,Nn=de(de(de({},O.props),Be),{},{activeIndex:Cn});return[q.cloneElement(Pt,Nn),null,null]}return H?[we,null,null]:[we,null]}),Fe(R,"renderCustomized",function(j,P,M){return q.cloneElement(j,de(de({key:"recharts-customized-".concat(M)},R.props),R.state))}),Fe(R,"renderMap",{CartesianGrid:{handler:zg,once:!0},ReferenceArea:{handler:R.renderReferenceElement},ReferenceLine:{handler:zg},ReferenceDot:{handler:R.renderReferenceElement},XAxis:{handler:zg},YAxis:{handler:zg},Brush:{handler:R.renderBrush,once:!0},Bar:{handler:R.renderGraphicChild},Line:{handler:R.renderGraphicChild},Area:{handler:R.renderGraphicChild},Radar:{handler:R.renderGraphicChild},RadialBar:{handler:R.renderGraphicChild},Scatter:{handler:R.renderGraphicChild},Pie:{handler:R.renderGraphicChild},Funnel:{handler:R.renderGraphicChild},Tooltip:{handler:R.renderCursor,once:!0},PolarGrid:{handler:R.renderPolarGrid,once:!0},PolarAngleAxis:{handler:R.renderPolarAxis},PolarRadiusAxis:{handler:R.renderPolarAxis},Customized:{handler:R.renderCustomized}}),R.clipPathId="".concat((N=C.id)!==null&&N!==void 0?N:Nf("recharts"),"-clip"),R.throttleTriggeredAfterMouseMove=KF(R.triggeredAfterMouseMove,(D=C.throttleDelay)!==null&&D!==void 0?D:1e3/60),R.state={},R}return Zme(I,E),Yme(I,[{key:"componentDidMount",value:function(){var N,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,D=N.children,R=N.data,j=N.height,P=N.layout,M=Xr(D,wi);if(M){var O=M.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var $=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,V=bC(this.state,R,O,$),F=this.state.tooltipTicks[O].coordinate,B=(this.state.offset.top+j)/2,te=P==="horizontal",Z=te?{x:F,y:B}:{y:F,x:B},W=this.state.formattedGraphicalItems.find(function(le){var ae=le.item;return ae.type.name==="Scatter"});W&&(Z=de(de({},Z),W.props.points[O].tooltipPosition),V=W.props.points[O].tooltipPayload);var Q={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:$,activePayload:V,activeCoordinate:Z};this.setState(Q),this.renderCursor(M),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var R,j;this.accessibilityManager.setDetails({offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(N){nA([Xr(N.children,wi)],[Xr(this.props.children,wi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Xr(this.props.children,wi);if(N&&typeof N.props.shared=="boolean"){var D=N.props.shared?"axis":"item";return l.indexOf(D)>=0?D:a}return a}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var D=this.container,R=D.getBoundingClientRect(),j=zre(R),P={chartX:Math.round(N.pageX-j.left),chartY:Math.round(N.pageY-j.top)},M=R.width/D.offsetWidth||1,O=this.inRange(P.chartX,P.chartY,M);if(!O)return null;var $=this.state,V=$.xAxisMap,F=$.yAxisMap,B=this.getTooltipEventType(),te=s$(this.state,this.props.data,this.props.layout,O);if(B!=="axis"&&V&&F){var Z=uc(V).scale,W=uc(F).scale,Q=Z&&Z.invert?Z.invert(P.chartX):null,le=W&&W.invert?W.invert(P.chartY):null;return de(de({},P),{},{xValue:Q,yValue:le},te)}return te?de(de({},P),te):null}},{key:"inRange",value:function(N,D){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,P=N/R,M=D/R;if(j==="horizontal"||j==="vertical"){var O=this.state.offset,$=P>=O.left&&P<=O.left+O.width&&M>=O.top&&M<=O.top+O.height;return $?{x:P,y:M}:null}var V=this.state,F=V.angleAxisMap,B=V.radiusAxisMap;if(F&&B){var te=uc(F);return dV({x:P,y:M},te)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,D=this.getTooltipEventType(),R=Xr(N,wi),j={};R&&D==="axis"&&(R.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Oy(this.props,this.handleOuterEvent);return de(de({},P),j)}},{key:"addListener",value:function(){vS.on(bS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){vS.removeListener(bS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,D,R){for(var j=this.state.formattedGraphicalItems,P=0,M=j.length;P<M;P++){var O=j[P];if(O.item===N||O.props.key===N.key||D===fo(O.item.type)&&R===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,D=this.state.offset,R=D.left,j=D.top,P=D.height,M=D.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:N},Y.createElement("rect",{x:R,y:j,height:P,width:M})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(D,R){var j=i$(R,2),P=j[0],M=j[1];return de(de({},D),{},Fe({},P,M.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(D,R){var j=i$(R,2),P=j[0],M=j[1];return de(de({},D),{},Fe({},P,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[N])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(N){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[N])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(N){var D=this.state,R=D.formattedGraphicalItems,j=D.activeItem;if(R&&R.length)for(var P=0,M=R.length;P<M;P++){var O=R[P],$=O.props,V=O.item,F=V.type.defaultProps!==void 0?de(de({},V.type.defaultProps),V.props):V.props,B=fo(V.type);if(B==="Bar"){var te=($.data||[]).find(function(le){return sfe(N,le)});if(te)return{graphicalItem:O,payload:te}}else if(B==="RadialBar"){var Z=($.data||[]).find(function(le){return dV(N,le)});if(Z)return{graphicalItem:O,payload:Z}}else if($b(O,j)||Bb(O,j)||xp(O,j)){var W=Ide({graphicalItem:O,activeTooltipItem:j,itemData:F.data}),Q=F.activeIndex===void 0?W:F.activeIndex;return{graphicalItem:de(de({},O),{},{childIndex:Q}),payload:xp(O,j)?F.data[W]:O.props.data[W]}}}return null}},{key:"render",value:function(){var N=this;if(!wO(this))return null;var D=this.props,R=D.children,j=D.className,P=D.width,M=D.height,O=D.style,$=D.compact,V=D.title,F=D.desc,B=a$(D,qme),te=Ue(B,!1);if($)return Y.createElement(qU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(iA,mc({},te,{width:P,height:M,title:V,desc:F}),this.renderClipPath(),SO(R,this.renderMap)));if(this.props.accessibilityLayer){var Z,W;te.tabIndex=(Z=this.props.tabIndex)!==null&&Z!==void 0?Z:0,te.role=(W=this.props.role)!==null&&W!==void 0?W:"application",te.onKeyDown=function(le){N.accessibilityManager.keyboardEvent(le)},te.onFocus=function(){N.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return Y.createElement(qU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",mc({className:nt("recharts-wrapper",j),style:de({position:"relative",cursor:"default",width:P,height:M},O)},Q,{ref:function(ae){N.container=ae}}),Y.createElement(iA,mc({},te,{width:P,height:M,title:V,desc:F,style:age}),this.renderClipPath(),SO(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(q.Component);Fe(w,"displayName",n),Fe(w,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Fe(w,"getDerivedStateFromProps",function(E,I){var C=E.dataKey,N=E.data,D=E.children,R=E.width,j=E.height,P=E.layout,M=E.stackOffset,O=E.margin,$=I.dataStartIndex,V=I.dataEndIndex;if(I.updateId===void 0){var F=l$(E);return de(de(de({},F),{},{updateId:0},T(de(de({props:E},F),{},{updateId:0}),I)),{},{prevDataKey:C,prevData:N,prevWidth:R,prevHeight:j,prevLayout:P,prevStackOffset:M,prevMargin:O,prevChildren:D})}if(C!==I.prevDataKey||N!==I.prevData||R!==I.prevWidth||j!==I.prevHeight||P!==I.prevLayout||M!==I.prevStackOffset||!wc(O,I.prevMargin)){var B=l$(E),te={chartX:I.chartX,chartY:I.chartY,isTooltipActive:I.isTooltipActive},Z=de(de({},s$(I,N,P)),{},{updateId:I.updateId+1}),W=de(de(de({},B),te),Z);return de(de(de({},W),T(de({props:E},W),I)),{},{prevDataKey:C,prevData:N,prevWidth:R,prevHeight:j,prevLayout:P,prevStackOffset:M,prevMargin:O,prevChildren:D})}if(!nA(D,I.prevChildren)){var Q,le,ae,H,X=Xr(D,tf),ne=X&&(Q=(le=X.props)===null||le===void 0?void 0:le.startIndex)!==null&&Q!==void 0?Q:$,se=X&&(ae=(H=X.props)===null||H===void 0?void 0:H.endIndex)!==null&&ae!==void 0?ae:V,_e=ne!==$||se!==V,Ie=!Ze(N),Ce=Ie&&!_e?I.updateId:I.updateId+1;return de(de({updateId:Ce},T(de(de({props:E},I),{},{updateId:Ce,dataStartIndex:ne,dataEndIndex:se}),I)),{},{prevChildren:D,dataStartIndex:ne,dataEndIndex:se})}return null}),Fe(w,"renderActiveDot",function(E,I,C){var N;return q.isValidElement(E)?N=q.cloneElement(E,I):Ye(E)?N=E(I):N=Y.createElement(Ob,I),Y.createElement(gt,{className:"recharts-active-dot",key:C},N)});var S=q.forwardRef(function(I,C){return Y.createElement(w,mc({},I,{ref:C}))});return S.displayName=w.displayName,S},mge=LN({chartName:"BarChart",GraphicalChild:fu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Jp}],formatAxisMap:P6}),gge=LN({chartName:"PieChart",GraphicalChild:No,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ub},{axisType:"radiusAxis",AxisComp:Lb}],formatAxisMap:Tle,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),yge=LN({chartName:"AreaChart",GraphicalChild:Fi,axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Jp}],formatAxisMap:P6});const et=({className:t,iconName:e,filled:n,weight:r,style:i,...a})=>{const o={};let l=n?["'FILL' 1"]:["'FILL' 0"];return r&&l.push(`'wght' ${r}`),l.length>0&&(o.fontVariationSettings=l.join(", ")),v.jsx("span",{className:`material-symbols-rounded text-brand-accent ${t||""}`,"aria-hidden":"true",style:{...o,...i},...a,children:e})},yz=t=>v.jsx(et,{iconName:"light_mode",...t}),vz=t=>v.jsx(et,{iconName:"dark_mode",...t}),bz=t=>v.jsx(et,{iconName:"credit_card",...t}),VN=t=>v.jsx(et,{iconName:"bar_chart",...t}),Jb=t=>v.jsx(et,{iconName:"payments",...t}),gc=t=>v.jsx(et,{iconName:"add_circle",...t}),UN=t=>v.jsx(et,{iconName:"edit",...t}),xz=t=>v.jsx(et,{iconName:"delete",...t}),Bl=t=>v.jsx(et,{iconName:"check_circle",...t}),vge=t=>v.jsx(et,{iconName:"close",...t}),Xb=t=>v.jsx(et,{iconName:"expand_more",...t}),Xl=t=>v.jsx(et,{iconName:"info",...t}),Gi=t=>v.jsx(et,{iconName:"calendar_month",...t}),bge=t=>v.jsx(et,{iconName:"notifications",...t}),_z=t=>v.jsx(et,{iconName:"trending_up",...t}),Tz=t=>v.jsx(et,{iconName:"trending_down",...t}),ys=t=>v.jsx(et,{iconName:"list",...t}),wz=t=>v.jsx(et,{iconName:"account_balance_wallet",...t}),xge=t=>v.jsx(et,{iconName:"auto_awesome",...t}),Ez=t=>v.jsx(et,{iconName:"receipt_long",...t}),Xp=t=>v.jsx(et,{iconName:"chevron_left",...t}),hf=t=>v.jsx(et,{iconName:"chevron_right",...t}),To=t=>v.jsx(et,{iconName:"mail",...t}),Sz=t=>v.jsx(et,{iconName:"more_vert",...t}),$N=t=>v.jsx(et,{iconName:"call",...t}),Az=t=>v.jsx(et,{iconName:"smart_toy",...t}),c$=t=>v.jsx(et,{iconName:"content_copy",...t}),_ge=t=>v.jsx(et,{iconName:"lightbulb",...t}),Tge=t=>v.jsx(et,{iconName:"mic",...t}),Cp=t=>v.jsx(et,{iconName:"attach_file",...t}),wge=t=>v.jsx(et,{iconName:"print",...t}),Ege=t=>v.jsx(et,{iconName:"photo_camera",...t}),Cz=t=>v.jsx(et,{iconName:"arrow_forward",...t}),Sge=t=>v.jsx(et,{iconName:"arrow_upward",...t}),Age=t=>v.jsx(et,{iconName:"sports_score",...t}),Nz=t=>v.jsx(et,{iconName:"warning",...t}),Cge=t=>v.jsx(et,{iconName:"arrow_back",...t}),BN=t=>v.jsx(et,{iconName:"public",...t}),kz=t=>v.jsx(et,{iconName:"apartment",...t}),Iz=t=>v.jsx(et,{iconName:"repeat",...t}),Nge=t=>v.jsx(et,{iconName:"handshake",...t}),Vr=t=>v.jsx(et,{iconName:"person",...t}),kge=t=>v.jsx(et,{iconName:"logout",...t}),Ige=({active:t,payload:e})=>{if(t&&e&&e.length){const n=e[0].payload;return v.jsxs(Ae,{className:"!p-2 !py-1.5 !rounded-neumorphic",children:[v.jsx("p",{className:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary",children:n.name}),v.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:["Bedrag: ",cn(n.value)]}),v.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:["Percentage: ",n.percentage.toFixed(1),"%"]})]})}return null},Rge=({debts:t})=>{const{theme:e}=Vs(),n=e==="dark"?"#9ca3af":"#6b7280",r=e==="dark"?"#e5e7eb":"#374151",{chartData:i,totalOutstanding:a}=q.useMemo(()=>{const l=t.filter(m=>!m.isPaidOff),c=new Map;l.forEach(m=>{const b=Fp(m),T=m.totalAmount-b;T>0&&c.set(m.creditorName,(c.get(m.creditorName)||0)+T)});const f=Array.from(c.values()).reduce((m,b)=>m+b,0);return{chartData:Array.from(c.entries()).map(([m,b])=>({name:m,value:b,percentage:f>0?b/f*100:0})).sort((m,b)=>b.value-m.value),totalOutstanding:f}},[t]),o=q.useMemo(()=>V1(Gh,i.length||1),[i.length]);return i.length===0?v.jsx(Ae,{className:"w-full h-full flex flex-col p-2.5 sm:p-3",children:v.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[v.jsx(Xl,{className:"text-3xl sm:text-4xl text-brand-accent mb-2 opacity-80"}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary px-4 text-sm sm:text-base font-light",children:"Geen actieve schulden om te visualiseren."})]})}):v.jsx(Ae,{className:"w-full h-full flex flex-col p-2.5 sm:p-3",children:v.jsx(sN,{width:"100%",height:"100%",className:"flex-grow",style:{outline:"none"},children:v.jsxs(gge,{children:[v.jsxs("defs",{children:[v.jsxs("filter",{id:"neumorphic-shadow-pie-light-debt",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[v.jsx("feOffset",{dx:"-3.5",dy:"-3.5",in:"SourceAlpha",result:"offsetTL_L"}),v.jsx("feGaussianBlur",{in:"offsetTL_L",stdDeviation:"3.5",result:"blurTL_L"}),v.jsx("feFlood",{"flood-color":"#ffffff",result:"colorTL_L"}),v.jsx("feComposite",{in:"colorTL_L",in2:"blurTL_L",operator:"in",result:"shadowTL_L"}),v.jsx("feOffset",{dx:"3.5",dy:"3.5",in:"SourceAlpha",result:"offsetDR_L"}),v.jsx("feGaussianBlur",{in:"offsetDR_L",stdDeviation:"3.5",result:"blurDR_L"}),v.jsx("feFlood",{"flood-color":"#d1d9e6",result:"colorDR_L"}),v.jsx("feComposite",{in:"colorDR_L",in2:"blurDR_L",operator:"in",result:"shadowDR_L"}),v.jsx("feOffset",{dx:"2",dy:"2",in:"SourceAlpha",result:"inner_offset_D_L"}),v.jsx("feGaussianBlur",{stdDeviation:"2",in:"inner_offset_D_L",result:"inner_blur_D_L"}),v.jsx("feComposite",{operator:"out",in:"SourceAlpha",in2:"inner_blur_D_L",result:"inverse_inner_D_L"}),v.jsx("feFlood",{"flood-color":"#d1d9e6","flood-opacity":"0.85",result:"inner_color_D_L"}),v.jsx("feComposite",{operator:"in",in:"inner_color_D_L",in2:"inverse_inner_D_L",result:"inner_shadow_D_L"}),v.jsxs("feMerge",{children:[v.jsx("feMergeNode",{in:"shadowTL_L"}),v.jsx("feMergeNode",{in:"shadowDR_L"}),v.jsx("feMergeNode",{in:"SourceGraphic"}),v.jsx("feMergeNode",{in:"inner_shadow_D_L"})]})]}),v.jsxs("filter",{id:"neumorphic-shadow-pie-dark-debt",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[v.jsx("feOffset",{dx:"-3.5",dy:"-3.5",in:"SourceAlpha",result:"offsetTL_D"}),v.jsx("feGaussianBlur",{in:"offsetTL_D",stdDeviation:"3.5",result:"blurTL_D"}),v.jsx("feFlood",{"flood-color":"#353a46",result:"colorTL_D"}),v.jsx("feComposite",{in:"colorTL_D",in2:"blurTL_D",operator:"in",result:"shadowTL_D"}),v.jsx("feOffset",{dx:"3.5",dy:"3.5",in:"SourceAlpha",result:"offsetDR_D"}),v.jsx("feGaussianBlur",{in:"offsetDR_D",stdDeviation:"3.5",result:"blurDR_D"}),v.jsx("feFlood",{"flood-color":"#23272f",result:"colorDR_D"}),v.jsx("feComposite",{in:"colorDR_D",in2:"blurDR_D",operator:"in",result:"shadowDR_D"}),v.jsx("feOffset",{dx:"2",dy:"2",in:"SourceAlpha",result:"inner_offset_D_D"}),v.jsx("feGaussianBlur",{stdDeviation:"2",in:"inner_offset_D_D",result:"inner_blur_D_D"}),v.jsx("feComposite",{operator:"out",in:"SourceAlpha",in2:"inner_blur_D_D",result:"inverse_inner_D_D"}),v.jsx("feFlood",{"flood-color":"#23272f","flood-opacity":"0.85",result:"inner_color_D_D"}),v.jsx("feComposite",{operator:"in",in:"inner_color_D_D",in2:"inverse_inner_D_D",result:"inner_shadow_D_D"}),v.jsxs("feMerge",{children:[v.jsx("feMergeNode",{in:"shadowTL_D"}),v.jsx("feMergeNode",{in:"shadowDR_D"}),v.jsx("feMergeNode",{in:"SourceGraphic"}),v.jsx("feMergeNode",{in:"inner_shadow_D_D"})]})]})]}),v.jsxs(No,{data:i,cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"85%",fill:"#8884d8",paddingAngle:i.length>1?5:0,dataKey:"value",nameKey:"name",labelLine:!1,children:[i.map((l,c)=>v.jsx(wb,{fill:o[c%o.length],stroke:e==="dark"?"#2c3038":"#eef2f9",strokeWidth:2,style:{outline:"none",cursor:"pointer"},filter:e==="dark"?"url(#neumorphic-shadow-pie-dark-debt)":"url(#neumorphic-shadow-pie-light-debt)"},`cell-${c}`)),v.jsx(Vn,{content:l=>{const c=l==null?void 0:l.viewBox;if(c&&typeof c.cx=="number"&&typeof c.cy=="number"&&typeof c.innerRadius=="number"){const{cx:f,cy:h,innerRadius:m}=c,b=cn(a),T="Openstaand",w=Math.max(8,m/4.5),S=Math.max(6,w*.6),E=10,I=h,C=h-w/2-E;return v.jsxs("g",{children:[v.jsx("text",{x:f,y:C,fill:n,textAnchor:"middle",dominantBaseline:"text-bottom",style:{fontSize:`${S}px`,fontWeight:300},children:T}),v.jsx("text",{x:f,y:I,fill:r,textAnchor:"middle",dominantBaseline:"middle",style:{fontSize:`${w}px`,fontWeight:700},children:b})]})}return null},position:"center"})]}),v.jsx(wi,{content:v.jsx(Ige,{}),cursor:{fill:"transparent"}})]})})})},Pge=(t,e)=>{const{children:n,variant:r="primary",size:i="md",className:a="",fullWidth:o=!1,as:l,...c}=t,f=l||"button",h=`
    font-medium rounded-neumorphic 
    focus:outline-none 
    transition-all duration-200 ease-in-out 
    flex items-center justify-center
    disabled:opacity-50 disabled:cursor-not-allowed
    disabled:shadow-none
    no-underline
  `,m={sm:"px-3 py-1.5 text-xs min-h-[32px]",md:"px-4 py-2 text-sm min-h-[40px]",lg:"px-6 py-3 text-base min-h-[48px]"},b={primary:`
      bg-brand-accent 
      text-white dark:text-dark-text-primary
      shadow-lg hover:shadow-xl hover:bg-light-accent-hover dark:hover:bg-dark-accent-hover
      active:shadow-md
      focus:ring-2 focus:ring-brand-accent/50
      [&_span.material-symbols-rounded]:text-white
    `,secondary:`
      bg-light-surface/70 dark:bg-dark-surface/70
      text-light-text-primary dark:text-dark-text-primary
      border border-light-shadow-light/30 dark:border-dark-shadow-light/30
      shadow-lg hover:shadow-xl
      hover:bg-light-surface/80 dark:hover:bg-dark-surface/80
      active:bg-light-surface/90 dark:active:bg-dark-surface/90
      focus:ring-2 focus:ring-brand-accent/30
    `,danger:`
      bg-light-danger dark:bg-dark-danger 
      text-white dark:text-dark-text-primary
      shadow-lg hover:shadow-xl
      active:shadow-md
      focus:ring-2 focus:ring-light-danger/50 dark:focus:ring-dark-danger/50
    `,ghost:`
      bg-transparent 
      text-light-text-secondary dark:text-dark-text-secondary
      hover:bg-black/5 dark:hover:bg-white/5
      active:bg-black/10 dark:active:bg-white/10
      hover:text-brand-accent dark:hover:text-brand-accent
      focus:ring-1 focus:ring-brand-accent/30
    `},T=o?"w-full":"",w=`${h} ${m[i]} ${b[r]} ${T} ${a}`.replace(/\s+/g," ").trim();return v.jsx(f,{className:w,ref:e,...f==="button"&&{type:"button"},...c,children:n})},Te=q.forwardRef(Pge);Te.displayName="Button";const Qb=({title:t,description:e,actions:n,mobileActions:r})=>{const i=q.Children.map(n,a=>q.isValidElement(a)&&a.props.children?a.props.children:a);return v.jsxs(Ae,{transparencyLevel:"high",className:"relative flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[v.jsx(Te,{as:hr,to:"/account",variant:"ghost",className:"!absolute top-2 right-2 !p-2 xl:hidden","aria-label":"Account",title:"Account",children:v.jsx(Vr,{className:"text-2xl text-light-text-secondary dark:text-dark-text-secondary"})}),v.jsxs("div",{className:"flex-grow pr-10",children:[v.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-light-text-primary dark:text-dark-text-primary",children:t}),v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-0.5 font-light max-w-full sm:max-w-md md:max-w-lg",children:e})]}),v.jsx("div",{className:"hidden xl:flex items-center gap-3 flex-shrink-0 mt-3 sm:mt-0",children:i}),r&&v.jsx("div",{className:"xl:hidden flex sm:justify-end mt-3 w-full",children:r})]})},Mge=t=>String(Math.round(t)),Rv=({targetValue:t,className:e,formatter:n=Mge})=>{const[r,i]=q.useState(t),a=q.useRef(t),o=q.useRef(null);return q.useEffect(()=>{const l=a.current,c=t,f=400;let h=null;const m=b=>{h||(h=b);const T=Math.min((b-h)/f,1),w=T*(2-T),S=l+(c-l)*w;i(S),T<1?o.current=requestAnimationFrame(m):(i(c),a.current=c)};return o.current&&cancelAnimationFrame(o.current),l!==c?o.current=requestAnimationFrame(m):(i(c),a.current=c),()=>{o.current&&cancelAnimationFrame(o.current)}},[t]),v.jsx("span",{className:e,children:n(r)})},f$=t=>{const e=t.startsWith("#")?t.slice(1):t;if(e.length!==6)return 0;try{const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,a=n>>0&255;return .299*r+.587*i+.114*a}catch{return 0}},Gg=({label:t,value:e,color:n})=>v.jsxs("div",{className:"text-center",children:[v.jsx("label",{className:"block text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:t}),v.jsxs("div",{className:"flex items-baseline justify-center",children:[v.jsx("span",{className:"text-xl sm:text-2xl font-bold mr-1",style:{color:n},children:""}),v.jsx("div",{className:"text-3xl sm:text-4xl font-bold",style:{color:n},children:v.jsx(Rv,{targetValue:e,formatter:r=>cn(r,{minimumFractionDigits:0,maximumFractionDigits:0}).replace("","").trim()})})]})]}),Dge=({data:t,theme:e})=>{if(t.length<2)return null;const n=t[0],r=t[t.length-1],i=({item:a})=>v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-xs",style:{color:e==="dark"?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.5)"},children:a.monthLabel}),v.jsx("p",{className:"text-[11px] font-bold",style:{color:e==="dark"?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)"},children:a.month.substring(0,4)})]});return v.jsxs("div",{className:"absolute bottom-3 left-0 right-0 h-[30px] px-2 sm:px-4 flex justify-between items-center pointer-events-none",children:[v.jsx(i,{item:n}),v.jsx(i,{item:r})]})},Oge=({debts:t,incomes:e,expenses:n})=>{const{theme:r}=Vs(),i=({active:C,payload:N})=>{if(C&&N&&N.length){const D=N[0].payload;if(!D.monthLabel)return null;const[R,j]=D.month.split("-"),M=new Date(parseInt(R),parseInt(j)-1,1).toLocaleString("nl-NL",{month:"long",year:"numeric"}),O={openstaandeSchuld:"Schuld",spaargeld:"Spaargeld",aflossing:"Aflossing",spaarruimte:"Spaarruimte"},$=N.map(V=>({name:O[V.dataKey]||V.dataKey,value:V.value,color:V.stroke})).filter(V=>V.value>0).sort((V,F)=>F.value-V.value);return v.jsxs(Ae,{className:"!p-3 !rounded-neumorphic text-sm min-w-[220px]",children:[v.jsx("p",{className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:M}),v.jsx("ul",{className:"mt-3 space-y-2",children:$.map(V=>v.jsxs("li",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"w-2.5 h-2.5 rounded-sm shadow-inner",style:{background:V.color}}),v.jsx("span",{className:"text-sm",style:{color:r==="dark"?"rgba(255,255,255,0.92)":"rgba(0,0,0,0.85)"},children:V.name})]}),v.jsx("div",{className:"text-sm font-medium",style:{color:r==="dark"?"rgba(255,255,255,0.92)":"rgba(0,0,0,0.85)"},children:cn(V.value)})]},V.name))})]})}return null},a=C=>{const{x:N,y:D,payload:R}=C,j=R.value,P=b.find($=>$.monthLabel===j);if(!P)return v.jsx("g",{});const M=j.toLowerCase().startsWith("jan");let O=null;if(M){const[$]=P.month.split("-");O=$}return v.jsxs("g",{transform:`translate(${N},${D})`,children:[v.jsx("text",{x:0,y:12,textAnchor:"middle",fontSize:"12",fill:r==="dark"?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.5)",children:j}),O&&v.jsx("text",{x:0,y:26,textAnchor:"middle",fontSize:"11",fontWeight:"bold",fill:r==="dark"?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",children:O})]})},o=q.useMemo(()=>{const C=V1(Gh,4),N=Gh,D=C.filter(R=>R!==N);return D.sort((R,j)=>f$(j)-f$(R)),{schuld:N,spaargeld:D[0]||"#A8BFFF",aflossing:D[1]||"#6A8BFF",spaarRuimte:D[2]||"#2C57FF"}},[]),l=q.useMemo(()=>z4(t,e,n),[t,e,n]),[c,f]=q.useState("1year"),[h,m]=q.useState(null),b=q.useMemo(()=>{if(c==="total"){const N=l.findIndex(D=>D.openstaandeSchuld<=.01);return N!==-1?l.slice(0,N+1):l}const C=l.findIndex(N=>N.month>="2025-08");return l.slice(C>=0?C:0,(C>=0?C:0)+12)},[l,c]),T=q.useMemo(()=>{if(b.length<1)return[];const C={...b[0],month:"start-pad",monthLabel:""},N={...b[b.length-1],month:"end-pad",monthLabel:""};return[C,...b,N]},[b]),w=h||(b.length>0?b[0]:null);q.useEffect(()=>{h&&!b.some(C=>C.month===h.month)&&m(null)},[b,h]);const S=C=>{var N,D;if((D=(N=C==null?void 0:C.activePayload)==null?void 0:N[0])!=null&&D.payload){const R=C.activePayload[0].payload;m(j=>j&&j.month===R.month?null:R)}};if(l.length<=1)return v.jsx(Ae,{transparencyLevel:"high",className:"w-full h-full flex flex-col min-h-[400px]",children:v.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center",children:[v.jsx(Xl,{className:"text-4xl text-brand-accent mb-2 opacity-80"}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary px-4 text-sm font-light",children:"Projectie kan niet worden gemaakt. Controleer of er actieve schulden met een betalingsplan en voldoende inkomsten zijn."})]})});const I=250+30;return v.jsxs(Ae,{transparencyLevel:"high",className:"w-full flex flex-col !p-0 overflow-hidden",children:[v.jsxs("div",{className:"p-4 sm:p-5 pb-2",children:[v.jsx("div",{className:"flex justify-center mb-4",children:v.jsxs(Ae,{pressed:!0,className:"flex !p-1 space-x-1 rounded-neumorphic",children:[v.jsx(Te,{variant:c==="1year"?"secondary":"ghost",onClick:()=>f("1year"),size:"sm",className:"text-xs",children:"1 Jaar"}),v.jsx(Te,{variant:c==="total"?"secondary":"ghost",onClick:()=>f("total"),size:"sm",className:"text-xs",children:"Totaal"})]})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2.5 sm:gap-3 my-3",children:w?v.jsxs(v.Fragment,{children:[v.jsx(Gg,{label:"Schuld",value:w.openstaandeSchuld,color:o.schuld}),v.jsx(Gg,{label:"Spaargeld",value:w.spaargeld,color:o.spaargeld}),v.jsx(Gg,{label:"Aflossing",value:w.aflossing,color:o.aflossing}),v.jsx(Gg,{label:"Spaarruimte",value:w.spaarruimte,color:o.spaarRuimte})]}):v.jsx("div",{className:"h-[58px]"})})]}),v.jsxs("div",{className:"relative w-full",style:{height:`${I}px`},children:[v.jsx(sN,{width:"100%",height:"100%",children:v.jsxs(yge,{data:T,margin:{top:5,right:0,left:0,bottom:20},onClick:S,children:[v.jsxs("defs",{children:[v.jsxs("linearGradient",{id:"colorSchuld",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:o.schuld,stopOpacity:.4}),v.jsx("stop",{offset:"95%",stopColor:o.schuld,stopOpacity:0})]}),v.jsxs("linearGradient",{id:"colorSpaarGeld",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:o.spaargeld,stopOpacity:.4}),v.jsx("stop",{offset:"95%",stopColor:o.spaargeld,stopOpacity:0})]}),v.jsxs("linearGradient",{id:"colorAflossing",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:o.aflossing,stopOpacity:.4}),v.jsx("stop",{offset:"95%",stopColor:o.aflossing,stopOpacity:0})]}),v.jsxs("linearGradient",{id:"colorSpaarRuimte",x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:o.spaarRuimte,stopOpacity:.4}),v.jsx("stop",{offset:"95%",stopColor:o.spaarRuimte,stopOpacity:0})]})]}),v.jsx(wi,{content:v.jsx(i,{}),wrapperStyle:{zIndex:9999},cursor:{stroke:r==="dark"?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.2)",strokeWidth:1.5,strokeDasharray:"3 3"}}),v.jsx(Mf,{dataKey:"monthLabel",axisLine:!1,tickLine:!1,tick:c==="1year"?a:!1,interval:0}),v.jsx(Fb,{y:0,stroke:r==="dark"?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",strokeWidth:1.5}),v.jsx(Fi,{type:"monotone",dataKey:"openstaandeSchuld",stroke:o.schuld,strokeWidth:2.5,fill:"url(#colorSchuld)",name:"Openstaande Schuld",dot:!1,activeDot:{r:5,strokeWidth:2}}),v.jsx(Fi,{type:"monotone",dataKey:"spaargeld",stroke:o.spaargeld,strokeWidth:2.5,fill:"url(#colorSpaarGeld)",name:"Opgebouwd Spaargeld",dot:!1,activeDot:{r:5,strokeWidth:2}}),v.jsx(Fi,{type:"monotone",dataKey:"aflossing",stroke:o.aflossing,strokeWidth:2.5,fill:"url(#colorAflossing)",name:"Maandelijkse Aflossing",dot:!1,activeDot:{r:5,strokeWidth:2}}),v.jsx(Fi,{type:"monotone",dataKey:"spaarruimte",stroke:o.spaarRuimte,strokeWidth:2.5,fill:"url(#colorSpaarRuimte)",name:"Maandelijkse Spaarruimte",dot:!1,activeDot:{r:5,strokeWidth:2}})]})}),c==="total"&&v.jsx(Dge,{data:b,theme:r})]})]})};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jge=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lge=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),d$=t=>{const e=Lge(t);return e.charAt(0).toUpperCase()+e.slice(1)},Rz=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Vge=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ge=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>q.createElement("svg",{ref:c,...Uge,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rz("lucide",i),...!a&&!Vge(l)&&{"aria-hidden":"true"},...l},[...o.map(([f,h])=>q.createElement(f,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=(t,e)=>{const n=q.forwardRef(({className:r,...i},a)=>q.createElement($ge,{ref:a,iconNode:e,className:Rz(`lucide-${jge(d$(t))}`,`lucide-${t}`,r),...i}));return n.displayName=d$(t),n};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bge=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],h$=Df("chevron-left",Bge);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qge=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],p$=Df("chevron-right",qge);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fge=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zge=Df("globe",Fge);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gge=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hge=Df("mail",Gge);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wge=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Kge=Df("map-pin",Wge);/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yge=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jge=Df("phone",Yge),Xge=({scrollableRef:t})=>{const[e,n]=q.useState(0),[r,i]=q.useState(0),a=q.useRef(null),o=q.useRef(!1),l=q.useRef(0),c=q.useRef(0),f=q.useCallback(()=>{if(!t.current||!a.current)return;const{scrollWidth:w,clientWidth:S,scrollLeft:E}=t.current,I=a.current.clientWidth,C=S/w*I;n(C);const N=w-S,D=I-C,R=E/N*D;i(R)},[t]);q.useEffect(()=>{f();const w=t.current;return w&&(w.addEventListener("scroll",f),window.addEventListener("resize",f)),()=>{w&&(w.removeEventListener("scroll",f),window.removeEventListener("resize",f))}},[t,f]);const h=w=>{t.current&&(o.current=!0,l.current=w.clientX,c.current=t.current.scrollLeft,document.body.style.cursor="grabbing")},m=()=>{o.current=!1,document.body.style.cursor="default"},b=q.useCallback(w=>{if(!o.current||!t.current||!a.current)return;const S=w.clientX-l.current,{scrollWidth:E,clientWidth:I}=t.current,C=a.current.clientWidth,N=S/C*E;t.current.scrollLeft=c.current+N},[t]);q.useEffect(()=>(document.addEventListener("mousemove",b),document.addEventListener("mouseup",m),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",m)}),[b]);const T=w=>{if(!t.current)return;const{clientWidth:S}=t.current,E=S*.2;t.current.scrollBy({left:w==="left"?-E:E,behavior:"smooth"})};return!t.current||t.current.scrollWidth<=t.current.clientWidth?null:v.jsxs("div",{className:"flex items-center w-full mt-2 px-2",children:[v.jsx("button",{onClick:()=>T("left"),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:v.jsx(h$,{size:18})}),v.jsx("div",{ref:a,className:"flex-grow h-2 bg-gray-200 dark:bg-gray-700 rounded-full mx-2 relative",children:v.jsxs("div",{className:"h-5 -top-[6px] absolute rounded-full flex items-center justify-between px-1 shadow-md",style:{width:`${e}px`,transform:`translateX(${r}px)`,backgroundColor:Gh,cursor:"grab"},onMouseDown:h,children:[v.jsx(h$,{size:14,className:"text-white"}),v.jsx(p$,{size:14,className:"text-white"})]})}),v.jsx("button",{onClick:()=>T("right"),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:v.jsx(p$,{size:18})})]})},Qge=({items:t})=>v.jsx("div",{className:"flex flex-wrap justify-center gap-x-4 gap-y-2 mb-4",children:t.map((e,n)=>v.jsxs(Te,{variant:"secondary",size:"sm",className:"flex items-center gap-2 px-3 py-1",children:[v.jsx("div",{className:"w-2.5 h-2.5 shadow-inner rounded-sm",style:{backgroundColor:e.color}}),v.jsx("span",{className:"text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary",children:e.name})]},`item-${n}`))}),Zge=({debts:t,incomes:e=[],expenses:n=[]})=>{const{theme:r}=Vs(),i=q.useRef(null),a=({active:I,payload:C})=>{var N,D;if(I&&C&&C.length){const R=((D=(N=C[0])==null?void 0:N.payload)==null?void 0:D.monthLabelFull)||"",j=C.filter(M=>M&&typeof M.value=="number"&&M.value!==0).sort((M,O)=>(O.value||0)-(M.value||0)),P=j.reduce((M,O)=>M+(O.value||0),0);return v.jsxs(Ae,{className:"!p-3 !rounded-neumorphic text-sm min-w-[220px]",children:[v.jsx("div",{className:"flex items-center",children:v.jsx("p",{className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:R})}),v.jsx("ul",{className:"mt-3 space-y-2",children:j.map(M=>v.jsxs("li",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"w-2.5 h-2.5 rounded-sm shadow-inner",style:{background:M.color||M.fill||"#000"}}),v.jsx("span",{className:"text-sm",style:{color:r==="dark"?"rgba(255,255,255,0.92)":"rgba(0,0,0,0.85)"},children:M.name})]}),v.jsx("div",{className:"text-sm font-medium",style:{color:r==="dark"?"rgba(255,255,255,0.92)":"rgba(0,0,0,0.85)"},children:cn(M.value)})]},M.dataKey||M.name))}),v.jsx("div",{className:"mt-3 pt-3 border-t",style:{borderColor:r==="dark"?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.06)"},children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm font-semibold",style:{color:r==="dark"?"rgba(255,255,255,0.9)":"rgba(0,0,0,0.9)"},children:"Totaal"}),v.jsx("span",{className:"text-sm font-bold",style:{color:r==="dark"?"rgba(255,255,255,0.95)":"rgba(0,0,0,0.95)"},children:cn(P)})]})})]})}return null},o=q.useMemo(()=>t.filter(I=>!I.isPaidOff&&(I.totalAmount??0)>0),[t]),l=q.useMemo(()=>z4(t,e,n),[t,e,n]),c=q.useMemo(()=>{const I=new Set;return l.length>0?l.forEach(C=>I.add(C.month)):o.forEach(C=>Aa(C).forEach(N=>I.add(N.dueDate.substring(0,7)))),Array.from(I).sort()},[l,o]),f=q.useMemo(()=>{if(o.length===0||c.length===0)return[];let I={};o.forEach(N=>I[N.id]=0);const C={};return o.forEach(N=>{C[N.id]={},Aa(N).forEach(D=>{const R=D.dueDate.substring(0,7);C[N.id][R]=(C[N.id][R]||0)+D.paymentAmount})}),c.map(N=>{const D={month:N},[R,j]=N.split("-").map(Number),P=new Date(R,j-1,1);return D.monthLabel=P.toLocaleString("nl-NL",{month:"short"}),D.monthLabelFull=P.toLocaleString("nl-NL",{month:"long",year:"numeric"}),o.forEach(M=>{const O=Math.max(0,(M.totalAmount??0)-I[M.id]);D[M.id]=O,I[M.id]+=C[M.id][N]||0}),D.total=o.reduce((M,O)=>M+(D[O.id]||0),0),D})},[o,c]),h=q.useMemo(()=>o.filter(I=>f.some(C=>(C[I.id]||0)>.01)),[o,f]),m=q.useMemo(()=>V1(Gh,Math.max(1,h.length)).reverse(),[h.length]),b=q.useMemo(()=>h.map((I,C)=>({name:I.creditorName,color:m[C%m.length]})),[h,m]);if(f.length===0||h.length===0)return v.jsx(Ae,{className:"p-3",children:v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Geen data om de grafiek te tonen."})});const T=75,w=c.length*T,S=I=>{const{x:C,y:N,payload:D,index:R}=I,j=D.value,P=j.toLowerCase().startsWith("jan");let M=null;if(P&&f[R]&&f[R].month){const[O]=f[R].month.split("-");M=O}return v.jsxs("g",{children:[v.jsx("text",{x:C,y:N+12,textAnchor:"middle",fontSize:"12",fill:r==="dark"?"rgba(255,255,255,0.5)":"rgba(0,0,0,0.5)",children:j}),P&&M&&v.jsx("text",{x:C,y:N+28,textAnchor:"middle",fontSize:"11",fontWeight:"bold",fill:r==="dark"?"rgba(255,255,255,0.7)":"rgba(0,0,0,0.7)",children:M})]})};return v.jsxs(v.Fragment,{children:[v.jsx("style",{children:`
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  `}),v.jsxs(Ae,{className:"w-full h-full p-4 pt-4 pb-2 flex flex-col",children:[v.jsx(Qge,{items:b}),v.jsx("div",{ref:i,className:"no-scrollbar",style:{height:"350px",overflowX:"auto",overflowY:"visible",width:"100%"},children:v.jsx(sN,{width:w,height:"100%",children:v.jsxs(mge,{data:f,margin:{top:10,right:5,left:5,bottom:10},children:[v.jsx(Mf,{dataKey:"monthLabel",axisLine:!1,tickLine:!1,interval:0,dy:0,tick:S}),v.jsx(Jp,{hide:!0}),h.map((I,C)=>{const N=C===h.length-1;return v.jsx(fu,{dataKey:I.id,stackId:"a",name:I.creditorName,fill:m[C%m.length],barSize:Math.max(12,Math.round(T*.65)),children:N&&v.jsx(wa,{dataKey:"total",position:"top",formatter:D=>`${Math.round(D).toLocaleString("nl-NL",{maximumFractionDigits:0})}`,style:{fontSize:11,fontWeight:700,pointerEvents:"none",fill:r==="dark"?"rgba(255,255,255,0.85)":"#000"},offset:10})},I.id)}),v.jsx(wi,{content:v.jsx(a,{}),wrapperStyle:{zIndex:9999,pointerEvents:"auto"},contentStyle:{background:"transparent",boxShadow:"none",padding:0},cursor:{fill:r==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(0, 0, 0, 0.05)"}})]})})}),v.jsx(Xge,{scrollableRef:i})]})]})},eye=({events:t,isVisible:e,containerRef:n,hoveredDateStr:r,onEventClick:i})=>{const a=q.useRef(null),[o,l]=q.useState({position:"fixed",opacity:0,transform:"scale(0.95) translateY(10px)",transition:"opacity 0.2s ease-in-out, transform 0.2s ease-in-out",pointerEvents:"none",zIndex:150});return q.useLayoutEffect(()=>{const c=()=>{if(!e||!r||!n.current||!a.current)return;const f=n.current.querySelector(`[data-datestr="${r}"]`);if(!f)return;const h=f.getBoundingClientRect(),m=a.current.getBoundingClientRect(),b=window.innerWidth,T=window.innerHeight;let w=h.top-m.height-10,S=h.left+h.width/2-m.width/2;w<10&&(w=h.bottom+10),S<10&&(S=10),S+m.width>b-10&&(S=b-m.width-10),w+m.height>T-10&&(w=T-m.height-10),l(E=>({...E,left:`${S}px`,top:`${w}px`,pointerEvents:e?"auto":"none"}))};return c(),e?(l(f=>({...f,opacity:1,transform:"scale(1) translateY(0)"})),window.addEventListener("scroll",c,!0),window.addEventListener("resize",c)):l(f=>({...f,opacity:0,transform:"scale(0.95) translateY(10px)"})),()=>{window.removeEventListener("scroll",c,!0),window.removeEventListener("resize",c)}},[e,r,n,t]),t.length===0?null:OC.createPortal(v.jsx(Ae,{ref:a,className:"!p-0 !rounded-neumorphic max-w-xs",style:o,transparencyLevel:"high",children:v.jsx("div",{className:"space-y-1",children:t.map((c,f)=>v.jsxs("div",{onClick:()=>i(c),className:`
              p-2 rounded-neumorphic transition-colors duration-150 cursor-pointer
              hover:bg-black/5 dark:hover:bg-white/10
              ${f>0?"border-t border-light-shadow-light/20 dark:border-dark-shadow-dark/20":""}
            `,role:"button",tabIndex:0,onKeyDown:h=>{(h.key==="Enter"||h.key===" ")&&i(c)},children:[v.jsx("p",{className:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary truncate",children:c.debtCreditorName}),v.jsxs("p",{className:"text-xs text-light-text-secondary dark:text-dark-text-secondary",children:["Bedrag: ",cn(c.paymentAmount)]}),v.jsxs("p",{className:`text-xs font-medium ${c.isPaid?"text-light-success":"text-light-text-secondary"} dark:${c.isPaid?"text-dark-success":"text-dark-text-secondary"}`,children:["Status: ",c.isPaid?"Betaald":"Openstaand"]})]},`${c.debtId}-${c.dueDate}`))})}),document.body)},_S=t=>{const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},tye=({currentMonth:t,events:e,onNextMonth:n,onPrevMonth:r,onGoToToday:i,onEventClick:a,className:o})=>{const[l,c]=q.useState(null),[f,h]=q.useState(!1),m=q.useRef(null),b=q.useRef(null),T=q.useMemo(()=>{const D=t.getFullYear(),R=t.getMonth(),j=new Date(D,R,1),P=new Date(j);P.setDate(j.getDate()-j.getDay());const M=[];for(let O=0;O<42;O++){const $=new Date(P);$.setDate(P.getDate()+O),M.push($)}return M},[t]),w=new Date("2025-07-20T12:00:00Z"),S=_S(w),E=q.useMemo(()=>{const D=new Map;return e.forEach(R=>{const j=R.dueDate;D.has(j)||D.set(j,[]),D.get(j).push(R)}),D},[e]),I=D=>{m.current&&clearTimeout(m.current);const R=_S(D);(E.get(R)||[]).length>0?(c(R),h(!0)):(h(!1),c(null))},C=()=>{m.current=window.setTimeout(()=>{h(!1)},200)},N=l?E.get(l)||[]:[];return v.jsxs(Ae,{ref:b,className:`flex flex-col ${o||""}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4 px-1",children:[v.jsx(Te,{variant:"ghost",onClick:r,"aria-label":"Vorige maand",className:"!p-2",children:v.jsx(Xp,{className:"text-xl sm:text-2xl"})}),v.jsx("div",{className:"text-center",children:v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-light-text-primary dark:text-dark-text-primary",children:t.toLocaleDateString("nl-NL",{month:"long",year:"numeric"})})}),v.jsx(Te,{variant:"ghost",onClick:n,"aria-label":"Volgende maand",className:"!p-2",children:v.jsx(hf,{className:"text-xl sm:text-2xl"})})]}),v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1 sm:mb-2",children:["Zo","Ma","Di","Wo","Do","Vr","Za"].map(D=>v.jsx("div",{className:"flex items-center justify-center aspect-square",children:D},D))}),v.jsx("div",{className:"grid grid-cols-7 grid-rows-6 gap-1 flex-grow",children:T.map(D=>{const R=D.getMonth()===t.getMonth(),j=_S(D),P=E.get(j)||[],M=j===S,O=P.length>0,$=D.getDate(),V=q.useMemo(()=>O?new Date(j.replace(/-/g,"/"))<w&&P.some(ae=>!ae.isPaid)?{status:"overdue"}:P.every(ae=>ae.isPaid)?{status:"paid"}:{status:"upcoming"}:{status:"default"},[P,j,O]),F=O?P.reduce((W,Q)=>W+Q.paymentAmount,0):0;let B=`
            w-full h-full flex flex-col items-center justify-center p-0.5 
            rounded-lg text-xs font-light transition-all duration-200 relative
            focus:outline-none focus:ring-2 focus:ring-brand-accent/50 focus:z-10
            ${O?"cursor-pointer":"cursor-default"}
          `,te="",Z=!1;switch(V.status){case"overdue":B+=" bg-light-danger dark:bg-dark-danger static-glow-red",te="text-white";break;case"paid":B+=" bg-brand-accent/30 dark:bg-brand-accent/40 opacity-80",te="text-brand-accent dark:text-dark-text-primary",Z=!0;break;case"upcoming":B+=" bg-brand-accent static-glow-blue",te="text-white";break;default:M?(B+=" bg-brand-accent/10 dark:bg-brand-accent/20 ring-1 ring-brand-accent/50",te="text-brand-accent dark:text-dark-text-primary"):(B+=" bg-transparent",R?te="text-light-text-primary dark:text-dark-text-primary":(B+=" opacity-60",te="text-light-text-secondary/60 dark:text-dark-text-secondary/60"));break}return M&&O&&(B+=" ring-2 ring-white/70 ring-offset-2 ring-offset-current"),v.jsx("div",{"data-datestr":j,onMouseEnter:()=>I(D),onMouseLeave:C,onFocus:()=>I(D),onBlur:C,onClick:O?()=>a(P[0]):void 0,onKeyDown:O?W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),a(P[0]))}:void 0,role:O?"button":void 0,tabIndex:O?0:-1,className:B,"aria-label":`Geplande betalingen op ${Fs(j,{day:"numeric",month:"long"})}${O?`, totaal ${cn(F)}`:""}`,children:O&&F>0?v.jsx("span",{className:`font-medium text-sm leading-tight text-center truncate px-0.5 ${te} ${Z?"line-through":""}`,children:cn(F,{minimumFractionDigits:0,maximumFractionDigits:0})}):v.jsx("span",{className:`font-medium text-sm ${te}`,children:$})},j)})}),N.length>0&&v.jsx(eye,{events:N,isVisible:f,containerRef:b,hoveredDateStr:l,onEventClick:a})]})},$r=({isOpen:t,onClose:e,title:n,children:r,size:i="md"})=>{if(q.useEffect(()=>{const o=l=>{l.key==="Escape"&&e()};return t?(document.body.style.overflow="hidden",document.addEventListener("keydown",o)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",o)}},[t,e]),!t)return null;const a={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"};return v.jsxs("div",{className:"fixed inset-0 z-[100]",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[v.jsx("div",{className:"fixed inset-0 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-sm transition-opacity duration-300 ease-in-out",onClick:e,"aria-hidden":"true"}),v.jsx("div",{className:"fixed inset-0 flex items-start sm:items-center justify-center p-0 sm:p-4",onClick:e,children:v.jsxs(Ae,{as:"div",transparencyLevel:"high",className:`
            w-full h-full sm:h-auto sm:max-h-[90vh] flex flex-col
            ${a[i]} 
            transform transition-all duration-300 ease-in-out scale-95 opacity-0 animate-sv-modal-appear
            rounded-none sm:rounded-neumorphic-lg 
          `,onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-light-shadow-dark/30 dark:border-dark-shadow-light/30 flex-shrink-0",children:[v.jsx("h3",{id:"modal-title",className:"text-md sm:text-lg font-bold text-light-text-primary dark:text-dark-text-primary truncate pr-2",children:n}),v.jsx("button",{onClick:e,className:"p-1 sm:p-1.5 rounded-full text-light-text-secondary dark:text-dark-text-secondary hover:bg-black/10 dark:hover:bg-white/10 active:bg-black/20 dark:active:bg-white/20 transition-all","aria-label":"Sluiten",children:v.jsx(vge,{className:"text-xl sm:text-2xl"})})]}),v.jsx("div",{className:"p-3 sm:p-4 md:p-6 overflow-y-auto flex-grow font-light",children:r})]})}),v.jsx("style",{children:`
        @keyframes sv-modal-appear {
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        .animate-sv-modal-appear {
          animation: sv-modal-appear 0.3s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
        }
      `})]})},Hg=({icon:t,label:e,value:n})=>!n||n.trim()===""?null:v.jsxs("div",{className:"flex items-start py-2.5",children:[v.jsx("span",{className:"text-brand-accent mr-3 mt-0.5 text-lg flex-shrink-0",children:t}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary",children:e}),v.jsx("p",{className:"text-sm text-light-text-primary dark:text-dark-text-primary break-words",children:n})]})]}),Pz=({isOpen:t,onClose:e,items:n,selectedItem:r,allDebts:i})=>{const[a,o]=q.useState(0),[l,c]=q.useState(null);q.useEffect(()=>{if(t&&n.length>0&&r){const C=n.findIndex(N=>N.debtId===r.debtId&&N.dueDate===r.dueDate&&N.paymentAmount===r.paymentAmount);o(C>=0?C:0)}},[t,n,r]);const f=q.useCallback(()=>{o(C=>Math.max(0,C-1))},[]),h=q.useCallback(()=>{o(C=>Math.min(n.length-1,C+1))},[n.length]),m=C=>{n.length<=1||c(C.targetTouches[0].clientX)},b=C=>{if(l===null||n.length<=1)return;const N=C.changedTouches[0].clientX,D=l-N;D>50?h():D<-50&&f(),c(null)},T=n.length>0?n[a]:null,w=T?i.find(C=>C.id===T.debtId):null;if(!t||!T||!w)return null;const S=T.isPaid??!1,E=!S&&new Date(T.dueDate.replace(/-/g,"/"))<new Date("2025-07-20T12:00:00Z"),I=S?{text:"Betaald",icon:v.jsx(Bl,{className:"text-light-success dark:text-dark-success"}),color:"text-light-success dark:text-dark-success"}:E?{text:"Te Laat",icon:v.jsx(Nz,{className:"text-light-danger dark:text-dark-danger"}),color:"text-light-danger dark:text-dark-danger"}:{text:"Openstaand",icon:v.jsx(Xl,{className:"text-brand-accent"}),color:"text-brand-accent"};return v.jsx($r,{isOpen:t,onClose:e,title:`Details Betaling: ${w.creditorName}`,size:"md",children:v.jsxs("div",{className:"font-light",onTouchStart:m,onTouchEnd:b,children:[n.length>1&&v.jsxs("div",{className:"flex items-center justify-between mb-3 p-1 bg-black/5 dark:bg-white/5 rounded-neumorphic",children:[v.jsx(Te,{variant:"ghost",size:"sm",onClick:f,disabled:a===0,className:"!p-2",children:v.jsx(Xp,{className:"text-xl"})}),v.jsxs("span",{className:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary",children:[a+1," / ",n.length]}),v.jsx(Te,{variant:"ghost",size:"sm",onClick:h,disabled:a===n.length-1,className:"!p-2",children:v.jsx(hf,{className:"text-xl"})})]}),v.jsxs("div",{className:"space-y-4 animate-content-fade-in",children:[v.jsxs(Ae,{pressed:!0,className:"text-center p-4",children:[v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Bedrag"}),v.jsx("p",{className:"text-4xl font-bold text-brand-accent my-1",children:cn(T.paymentAmount)}),v.jsxs("div",{className:`flex items-center justify-center text-sm font-medium ${I.color}`,children:[Y.cloneElement(I.icon,{className:"mr-1.5 text-lg"}),v.jsxs("span",{children:[I.text," op ",Fs(T.dueDate)]})]})]}),v.jsxs(Ae,{children:[v.jsx("h3",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Betaalgegevens"}),v.jsxs("div",{className:"divide-y divide-light-shadow-dark/10 dark:divide-dark-shadow-light/10",children:[v.jsx(Hg,{icon:v.jsx(Vr,{}),label:"T.n.v. (Begunstigde)",value:w.beneficiaryName}),v.jsx(Hg,{icon:v.jsx(wz,{}),label:"Rekeningnummer (IBAN)",value:w.accountNumber}),v.jsx(Hg,{icon:v.jsx(ys,{}),label:"Betalingskenmerk",value:w.paymentReference}),v.jsx(Hg,{icon:v.jsx(ys,{}),label:"Dossiernummer",value:w.dossierNumber})]})]}),v.jsxs(Ae,{children:[v.jsx("h3",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Omschrijving Schuld"}),v.jsx("p",{className:"text-sm whitespace-pre-wrap text-light-text-secondary dark:text-dark-text-secondary",children:w.description||"Geen omschrijving beschikbaar."})]})]},a),v.jsx("style",{children:`
                @keyframes content-fade-in {
                  from { opacity: 0; transform: translateY(10px); }
                  to { opacity: 1; transform: translateY(0); }
                }
                .animate-content-fade-in {
                  animation: content-fade-in 0.3s ease-out forwards;
                }
            `})]})})},nye=({currentUser:t,debts:e,incomes:n,expenses:r})=>{const i=q.useMemo(()=>e.filter(M=>!M.isPaidOff),[e]),a=q.useMemo(()=>e.reduce((M,O)=>M+Fp(O),0),[e]),o=q.useMemo(()=>e.reduce((M,O)=>M+O.totalAmount,0),[e]),l=q.useMemo(()=>n.reduce((M,O)=>M+pD(O.amount,O.frequency),0),[n]),c=q.useMemo(()=>r.reduce((M,O)=>M+pD(O.amount,O.frequency),0),[r]),[f,h]=q.useState(new Date),[m,b]=q.useState({isOpen:!1,items:[],selectedItem:null}),T=q.useMemo(()=>e.flatMap(M=>Aa(M)),[e]),w=q.useMemo(()=>HQ(e,new Date),[e]),S=q.useMemo(()=>`Aflossing ${new Date().toLocaleDateString("nl-NL",{month:"long"}).toLowerCase()}`,[]),E=l-c-w,I=o>0?a/o*100:0,C=q.useMemo(()=>F4(e),[e]),N=q.useMemo(()=>i.length===0?"Nu!":C?Fs(C,{month:"short",year:"numeric"}):"N/A",[C,i]),D=()=>h(M=>new Date(M.getFullYear(),M.getMonth()-1,1)),R=()=>h(M=>new Date(M.getFullYear(),M.getMonth()+1,1)),j=()=>h(new Date),P=M=>{const O=T.filter($=>$.dueDate===M.dueDate);O.length>0&&b({isOpen:!0,items:O,selectedItem:M})};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"space-y-3 sm:space-y-4 font-light",children:[v.jsx(Qb,{title:`Welkom terug, ${t==null?void 0:t.firstName}!`,description:"Samen naar een schuldenvrije toekomst."}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[v.jsx("div",{className:"aspect-square",children:v.jsx(Rge,{debts:i})}),v.jsx("div",{className:"aspect-square",children:v.jsx(tye,{currentMonth:f,events:T,onNextMonth:R,onPrevMonth:D,onGoToToday:j,onEventClick:P,className:"h-full w-full"})})]}),v.jsx("section",{children:v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4",children:[v.jsx(Rg,{title:"Schuldenvrij",value:N,icon:v.jsx(Age,{weight:300}),formatAsCurrency:!1}),v.jsx(Rg,{title:S,value:w,icon:v.jsx(Gi,{weight:300})}),v.jsx(Rg,{title:"Spaarruimte",value:E,icon:E>=0?v.jsx(_z,{weight:300}):v.jsx(Tz,{weight:300})}),v.jsx(Rg,{title:"Totaal afgelost",value:a,icon:v.jsx(Jb,{weight:300})})]})}),o>0&&v.jsxs(Ae,{className:"p-2.5 sm:p-3",children:[v.jsx("h2",{className:"text-base sm:text-lg font-bold mb-2 text-light-text-primary dark:text-dark-text-primary",children:"Totale Schuld Voortgang"}),v.jsxs("div",{className:"w-full h-4 sm:h-5 rounded-neumorphic bg-black/10 dark:bg-white/10 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-brand-accent h-full rounded-neumorphic transition-all duration-1000 ease-out flex items-center justify-end pr-2",style:{width:`${Math.max(0,Math.min(I,100))}%`}}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:v.jsxs("span",{className:`text-xs font-medium ${I>50?"text-white/90":"text-light-text-primary dark:text-dark-text-primary"}`,children:[I.toFixed(1),"%"]})})]}),v.jsxs("div",{className:"flex justify-between text-xs mt-1.5 text-light-text-secondary dark:text-dark-text-secondary font-light",children:[v.jsxs("span",{children:[cn(a)," betaald"]}),v.jsxs("span",{children:["Nog: ",cn(Math.max(0,o-a))]})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary mb-1",children:"Financile projectie"}),v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2.5 sm:mb-3 font-light",children:"Een voorspelling van je schuldverloop, maandelijkse aflossingen en spaarruimte."}),v.jsx(Oge,{debts:e,incomes:n,expenses:r}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h2",{className:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary mb-1",children:"Schuldverdeling per maand"}),v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-2.5 sm:mb-3 font-light",children:"Toont per maand de verdeling van je totale schuld."}),v.jsx(Zge,{debts:e,incomes:n,expenses:r})]})]})]}),v.jsx(Pz,{isOpen:m.isOpen,onClose:()=>b({isOpen:!1,items:[],selectedItem:null}),items:m.items,selectedItem:m.selectedItem,allDebts:e})]})},tn=Y.forwardRef(({label:t,id:e,error:n,className:r,containerClassName:i,icon:a,labelClassName:o,...l},c)=>{const f=`
    block w-full px-3 py-2.5 
    bg-light-surface/70 dark:bg-dark-surface/70
    rounded-neumorphic 
    text-sm font-light text-light-text-primary dark:text-dark-text-primary
    placeholder-light-text-secondary dark:placeholder-dark-text-secondary
    border border-light-shadow-dark/20 dark:border-dark-shadow-light/20
    focus:outline-none focus:ring-2 focus:ring-brand-accent
    transition-all duration-200 ease-in-out
    disabled:opacity-60 disabled:cursor-not-allowed
    ${a?"pl-10":""}
  `,h=l.type==="date"||l.type==="time"||l.type==="datetime-local"?"appearance-none [&::-webkit-calendar-picker-indicator]:hidden":"";return v.jsxs("div",{className:`mb-4 ${i||""}`,children:[t&&v.jsx("label",{htmlFor:e,className:`block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5 ${o||""}`,children:t}),v.jsxs("div",{className:"relative",children:[a&&v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Y.isValidElement(a)&&Y.cloneElement(a,{className:`text-lg ${a.props.className||""}`.trim()})}),v.jsx("input",{ref:c,id:e,className:`${f} ${h} ${r||""}`,...l})]}),n&&v.jsx("p",{className:"mt-1.5 text-xs font-light text-light-danger dark:text-dark-danger",children:n})]})});tn.displayName="Input";const Qp=({label:t,id:e,error:n,className:r,containerClassName:i,labelClassName:a,...o})=>v.jsxs("div",{className:`mb-4 ${i||""}`,children:[t&&v.jsx("label",{htmlFor:e,className:`block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5 ${a||""}`,children:t}),v.jsx("textarea",{id:e,className:`
    block w-full px-3 py-2.5 
    bg-light-surface/70 dark:bg-dark-surface/70 
    rounded-neumorphic 
    text-sm font-light text-light-text-primary dark:text-dark-text-primary
    placeholder-light-text-secondary dark:placeholder-dark-text-secondary
    border border-light-shadow-dark/20 dark:border-dark-shadow-light/20
    focus:outline-none focus:ring-2 focus:ring-brand-accent
    transition-all duration-200 ease-in-out
    resize-none 
   ${r||""}`,...o}),n&&v.jsx("p",{className:"mt-1.5 text-xs font-light text-light-danger dark:text-dark-danger",children:n})]}),Wg=t=>{const e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${r}`},rye=({value:t,onChange:e,onClose:n,max:r,min:i,startView:a="days"})=>{const o=q.useMemo(()=>{if(t){const $=new Date(t.replace(/-/g,"/"));if(!isNaN($.getTime()))return $}return new Date},[t]),[l,c]=q.useState(o),[f,h]=q.useState(a),m=q.useMemo(()=>{if(!t)return null;const $=new Date(t.replace(/-/g,"/"));return isNaN($.getTime())?null:$},[t]),b=q.useMemo(()=>{if(!i)return null;const $=new Date(i.replace(/-/g,"/"));return $.setHours(0,0,0,0),isNaN($.getTime())?null:$},[i]),T=q.useMemo(()=>{if(!r)return null;const $=new Date(r.replace(/-/g,"/"));return $.setHours(23,59,59,999),isNaN($.getTime())?null:$},[r]),w=q.useMemo(()=>Math.floor(l.getFullYear()/12)*12,[l]),S=()=>{c(f==="days"?$=>new Date($.getFullYear(),$.getMonth()-1,1):f==="months"?$=>new Date($.getFullYear()-1,$.getMonth(),1):$=>new Date($.getFullYear()-12,$.getMonth(),1))},E=()=>{c(f==="days"?$=>new Date($.getFullYear(),$.getMonth()+1,1):f==="months"?$=>new Date($.getFullYear()+1,$.getMonth(),1):$=>new Date($.getFullYear()+12,$.getMonth(),1))},I=()=>{e(Wg(new Date)),n()},C=()=>{e(""),n()},N=$=>{e(Wg($)),n()},D=new Date,R=Wg(D),j=()=>{const $=new Date(l.getFullYear(),l.getMonth(),1),V=new Date($);V.setDate($.getDate()-$.getDay());const F=[];for(let B=0;B<42;B++){const te=new Date(V);te.setDate(V.getDate()+B),F.push(te)}return v.jsxs("div",{className:"flex-grow flex flex-col",children:[v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary mb-2",children:["Zo","Ma","Di","Wo","Do","Vr","Za"].map(B=>v.jsx("div",{className:"flex items-center justify-center aspect-square",children:B},B))}),v.jsx("div",{className:"grid grid-cols-7 grid-rows-6 gap-1 flex-grow",children:F.map((B,te)=>{const Z=B.getMonth()===l.getMonth(),W=Wg(B),Q=W===R,le=t===W,ae=new Date(B);ae.setHours(12,0,0,0);const H=T&&ae>T||b&&ae<b;let X=`
                    w-full h-full flex items-center justify-center
                    rounded-neumorphic text-sm font-light transition-all duration-200
                    border border-transparent aspect-square
                  `;return H?X+=" text-light-text-secondary/30 dark:text-dark-text-secondary/30 cursor-not-allowed":(X+=" cursor-pointer",Z?X+=" text-light-text-primary dark:text-dark-text-primary":X+=" text-light-text-secondary/50 dark:text-dark-text-secondary/50",le?X+=" bg-brand-accent text-white font-bold":(Q&&(X+=" border-brand-accent/50"),X+=" hover:bg-black/5 dark:hover:bg-white/5")),v.jsx("div",{onClick:()=>!H&&N(B),className:X,"aria-label":H?void 0:`Selecteer ${Fs(B,{day:"numeric",month:"long",year:"numeric"})}`,"aria-disabled":H?!0:void 0,children:B.getDate()},te)})})]})},P=()=>{const $=Array.from({length:12}).map((V,F)=>({name:new Date(l.getFullYear(),F,1).toLocaleDateString("nl-NL",{month:"short"}),monthIndex:F}));return v.jsx("div",{className:"grid grid-cols-3 grid-rows-4 gap-2 flex-grow py-2",children:$.map(({name:V,monthIndex:F})=>{const B=m&&m.getFullYear()===l.getFullYear()&&m.getMonth()===F;return v.jsx(Te,{size:"lg",variant:B?"secondary":"ghost",className:"capitalize h-full text-sm",onClick:()=>{const te=new Date(l);te.setMonth(F),c(te),h("days")},children:V.replace(".","")},V)})})},M=()=>{const $=Array.from({length:12}).map((V,F)=>w+F);return v.jsx("div",{className:"grid grid-cols-3 grid-rows-4 gap-2 flex-grow py-2",children:$.map(V=>{const F=m&&m.getFullYear()===V;return v.jsx(Te,{size:"lg",variant:F?"secondary":"ghost",className:"h-full text-sm",onClick:()=>{const B=new Date(l);B.setFullYear(V),c(B),h("months")},children:V},V)})})},O=()=>{switch(f){case"days":return v.jsx("button",{type:"button",onClick:()=>h("months"),className:"hover:bg-black/5 dark:hover:bg-white/5 p-1 rounded-md transition-colors",children:l.toLocaleDateString("nl-NL",{month:"long",year:"numeric"})});case"months":return v.jsx("button",{type:"button",onClick:()=>h("years"),className:"hover:bg-black/5 dark:hover:bg-white/5 p-1 rounded-md transition-colors",children:l.getFullYear()});case"years":return v.jsx("span",{children:`${w} - ${w+11}`})}};return v.jsxs(Ae,{className:"!p-3 sm:!p-4 w-[90vw] max-w-[340px] flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx(Te,{variant:"ghost",onClick:S,"aria-label":"Vorige",className:"!p-1.5 !rounded-full !shadow-none hover:bg-white/10 dark:hover:bg-black/10",children:v.jsx(Xp,{className:"text-xl"})}),v.jsx("div",{className:"text-center font-bold text-sm text-light-text-primary dark:text-dark-text-primary",children:O()}),v.jsx(Te,{variant:"ghost",onClick:E,"aria-label":"Volgende",className:"!p-1.5 !rounded-full !shadow-none hover:bg-white/10 dark:hover:bg-black/10",children:v.jsx(hf,{className:"text-xl"})})]}),v.jsxs("div",{className:"flex flex-col flex-grow min-h-[280px]",children:[f==="days"&&j(),f==="months"&&P(),f==="years"&&M()]}),v.jsxs("div",{className:"flex justify-between mt-auto pt-3 border-t border-light-shadow-light/20 dark:border-dark-shadow-dark/20",children:[v.jsx(Te,{size:"sm",variant:"ghost",className:"!shadow-none text-xs",onClick:C,children:"Wissen"}),v.jsx(Te,{size:"sm",variant:"ghost",className:"!shadow-none text-xs",onClick:I,disabled:!!(T&&D>T||b&&D<b),children:"Vandaag"})]})]})},Np=({label:t,value:e,onChange:n,id:r,icon:i,containerClassName:a,labelClassName:o,error:l,min:c,max:f,startView:h,placeholder:m,...b})=>{const[T,w]=q.useState(!1),S=q.useRef(null),E=N=>{n(N),w(!1)};q.useEffect(()=>{const N=D=>{D.key==="Escape"&&w(!1)};return T?(document.body.style.overflow="hidden",document.addEventListener("keydown",N)):document.body.style.overflow="auto",()=>{document.body.style.overflow="auto",document.removeEventListener("keydown",N)}},[T]);const I=N=>{if(!N||!/^\d{4}-\d{2}-\d{2}$/.test(N))return"";const[D,R,j]=N.split("-");return`${j}-${R}-${D}`},C=T?OC.createPortal(v.jsx("div",{className:"fixed inset-0 z-[110] bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>w(!1),role:"dialog","aria-modal":"true",children:v.jsx("div",{onClick:N=>N.stopPropagation(),children:v.jsx(rye,{value:e,onChange:E,onClose:()=>w(!1),min:c,max:f,startView:h})})}),document.body):null;return v.jsxs("div",{className:`${a||"mb-4"}`,ref:S,children:[v.jsx(tn,{label:t,id:r,value:I(e),onClick:()=>w(!0),onFocus:()=>w(!0),readOnly:!0,icon:i,containerClassName:"!mb-0",labelClassName:o,autoComplete:"off",placeholder:m||"dd-mm-jjjj",...b}),C,l&&v.jsx("p",{className:"mt-1.5 text-xs font-light text-light-danger dark:text-dark-danger",children:l})]})},kp=({label:t,options:e,value:n,onChange:r,placeholder:i="Selecteer een optie",id:a,name:o,containerClassName:l="",labelClassName:c="",disabled:f=!1,required:h=!1,icon:m,isSearchable:b=!1})=>{const[T,w]=q.useState(!1),[S,E]=q.useState(""),I=q.useRef(null),C=q.useRef(null),N=q.useMemo(()=>e.find(P=>P.value===n),[e,n]),D=q.useMemo(()=>!b||!S?e:e.filter(P=>P.label.toLowerCase().includes(S.toLowerCase())),[e,S,b]),R=P=>{r(P),w(!1)};q.useEffect(()=>{const P=M=>{I.current&&!I.current.contains(M.target)&&w(!1)};return T?document.addEventListener("mousedown",P):E(""),()=>{document.removeEventListener("mousedown",P)}},[T]),q.useEffect(()=>{T&&b&&C.current&&setTimeout(()=>{var P;return(P=C.current)==null?void 0:P.focus()},50)},[T,b]);const j=P=>{P.key==="Enter"||P.key===" "?(P.preventDefault(),w(!T)):P.key==="Escape"&&w(!1)};return v.jsxs("div",{className:`relative ${l}`,ref:I,children:[t&&v.jsx("label",{htmlFor:a,className:`block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5 ${c}`,children:t}),v.jsx("input",{type:"hidden",name:o,value:n,required:h}),v.jsxs(Ae,{as:"button",type:"button",id:a,pressed:!0,interactive:!f,onClick:()=>!f&&w(!T),onKeyDown:j,className:`w-full !p-0 flex items-center justify-between text-left ${f?"opacity-60 cursor-not-allowed":""}`,"aria-haspopup":"listbox","aria-expanded":T,children:[v.jsxs("div",{className:"flex items-center flex-grow min-w-0",children:[m&&v.jsx("span",{className:"pl-3 flex items-center shrink-0",children:Y.cloneElement(m,{className:"text-lg text-brand-accent"})}),v.jsx("span",{className:`py-2.5 text-sm font-light text-light-text-primary dark:text-dark-text-primary truncate ${m?"pl-2 pr-3":"px-3"}`,children:(N==null?void 0:N.label)||i})]}),v.jsx(Xb,{className:`text-xl mr-2.5 transform transition-transform duration-200 shrink-0 ${T?"rotate-180":""}`,"aria-hidden":"true"})]}),T&&v.jsxs(Ae,{as:"div",className:"absolute top-full mt-1.5 w-full z-50 !p-0 flex flex-col",children:[b&&v.jsx("div",{className:"p-1.5 border-b border-light-shadow-dark/10 dark:border-dark-shadow-light/10",onClick:P=>P.stopPropagation(),children:v.jsx(tn,{ref:C,type:"text",placeholder:"Zoeken...",value:S,onChange:P=>E(P.target.value),containerClassName:"!mb-0",className:"!py-2",autoComplete:"off"})}),v.jsx("ul",{role:"listbox","aria-activedescendant":N?`option-${N.value}`:void 0,className:"max-h-60 overflow-y-auto p-1.5",children:D.length>0?D.map(P=>v.jsx("li",{id:`option-${P.value}`,role:"option","aria-selected":n===P.value,onClick:()=>R(P.value),onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),R(P.value))},className:`
                        px-3 py-2 text-sm font-light rounded-neumorphic cursor-pointer 
                        transition-colors duration-150 ease-in-out
                        focus:outline-none focus:bg-brand-accent/20
                        ${n===P.value?"bg-brand-accent text-white font-medium":"text-light-text-primary dark:text-dark-text-primary hover:bg-brand-accent/10 dark:hover:bg-brand-accent/20"}
                    `,tabIndex:0,children:P.label},P.value)):v.jsx("li",{className:"px-3 py-2 text-sm text-center text-light-text-secondary dark:text-dark-text-secondary",children:"Geen resultaten"})})]})]})},iye=[{value:Ut.MONTHLY,label:zh(Ut.MONTHLY,"full")},{value:Ut.MANUAL,label:"Eenmalig"}],aye={creditorName:"",beneficiaryName:"",totalAmount:0,startDate:new Date().toISOString().split("T")[0],description:"",dossierNumber:"",accountNumber:"",paymentReference:"",paymentPlan:void 0,contactPerson:"",email:"",phone:"",website:""},nh=[{id:1,title:"Basisgegevens"},{id:2,title:"Betaalinformatie"},{id:3,title:"Contact"},{id:4,title:"Betalingsregeling"}],xC=({onSubmit:t,initialData:e,onClose:n,mode:r="full"})=>{var le;const[i,a]=q.useState(r==="planOnly"?4:1),{formData:o,existingDebtMeta:l,isPaymentPlanActive:c,installments:f}=q.useMemo(()=>{const ae={...aye};let H,X=null,ne=!0;if(e)if("id"in e&&typeof e.id=="string"){const _e=e,{id:Ie,isPaidOff:Ce,...ft}=_e;H={...ae,...ft},X={id:Ie,isPaidOff:Ce},ne=!!H.paymentPlan}else H={...ae,...e},ne=r==="planOnly"||!!H.paymentPlan;else H=ae,ne=!0;ne&&!H.paymentPlan&&(H.paymentPlan={amount:H.totalAmount,frequency:Ut.MANUAL,startDate:new Date().toISOString().split("T")[0]});let se="";return H.paymentPlan?H.paymentPlan.frequency===Ut.MANUAL?se=1:H.totalAmount>0&&H.paymentPlan.amount>0?se=Math.ceil(H.totalAmount/H.paymentPlan.amount):se=0:(se=0,ne=!1),{formData:H,existingDebtMeta:X,isPaymentPlanActive:ne,installments:se}},[e,r]),[h,m]=q.useState(o),[b,T]=q.useState(l),[w,S]=q.useState(c),[E,I]=q.useState(f),[C,N]=q.useState(null);q.useEffect(()=>{m(o),T(l),S(c),I(f),N(null),a(r==="planOnly"?4:1)},[o,l,c,f,r]),q.useEffect(()=>{var ae;((ae=h.paymentPlan)==null?void 0:ae.frequency)===Ut.MANUAL&&m(H=>({...H,paymentPlan:{...H.paymentPlan,amount:H.totalAmount}}))},[h.totalAmount,(le=h.paymentPlan)==null?void 0:le.frequency]),q.useEffect(()=>{const ae=Number(E);ae>0&&!w?S(!0):ae===0&&E!==""&&w&&S(!1)},[E,w]);const D=ae=>{let H=ae;typeof ae=="number"&&(ae>500&&(H=500),ae<0&&(H=0)),I(H);const X=Number(H);if(X>0){const ne=h.totalAmount>0?Math.ceil(h.totalAmount/X):0,se=X===1?Ut.MANUAL:Ut.MONTHLY;m(_e=>({..._e,paymentPlan:{..._e.paymentPlan||{startDate:new Date().toISOString().split("T")[0]},amount:ne,frequency:se}}))}},R=ae=>{const H=ae.target.value;D(H===""?"":parseInt(H,10))},j=()=>{E===""&&D(0)},P=()=>D(Number(E||0)+1),M=()=>D(Math.max(0,Number(E||1)-1)),O=ae=>{ae===Ut.MANUAL?D(1):Number(E)<=1?D(2):m(X=>({...X,paymentPlan:{...X.paymentPlan,frequency:Ut.MONTHLY}}))},$=ae=>{ae.target.checked?Number(E)===0?D(1):S(!0):D(0)},V=ae=>{const{name:H,value:X,type:ne}=ae.target;N(null);let se=ne==="number"?X?parseFloat(X):0:X;m(_e=>({..._e,[H]:se}))},F=(ae,H)=>{if(N(null),ae.startsWith("paymentPlan.")){const X=ae.split(".")[1];m(ne=>({...ne,paymentPlan:{...ne.paymentPlan,[X]:H}}))}else m(X=>({...X,[ae]:H}))},B=()=>{if(i===1){if(!h.creditorName||h.creditorName.trim()===""){N("Naam schuldeiser is verplicht.");return}if(!h.totalAmount||h.totalAmount<=0){N("Totaalbedrag moet groter zijn dan 0.");return}if(!h.startDate){N("Startdatum is verplicht.");return}}N(null),a(ae=>Math.min(ae+1,nh.length))},te=()=>a(ae=>Math.max(ae-1,1)),Z=()=>{N(null);let ae={...h};w||(ae.paymentPlan=null);let H;b?H={...b,...ae}:H=ae,t(H)},W="!bg-transparent !border-none !py-2.5 !px-3 focus:!ring-0",Q=()=>{var ae,H,X;switch(i){case 1:return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Naam schuldeiser *"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(kz,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"creditorName",name:"creditorName",value:h.creditorName,onChange:V,required:!0,placeholder:"Bijv. CreditCard Maatschappij",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Totaalbedrag schuld *"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx("span",{className:"text-lg font-medium text-brand-accent ml-3 mr-1",children:""}),v.jsx(tn,{id:"totalAmount",name:"totalAmount",type:"number",value:String(h.totalAmount===0?"":h.totalAmount),onChange:V,required:!0,min:"0.01",step:"0.01",placeholder:"2500,00",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Startdatum schuld *"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(Gi,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(Np,{id:"startDate",value:h.startDate,onChange:ne=>F("startDate",ne),required:!0,label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:`${W} cursor-pointer`})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Dossiernummer (optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(ys,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"dossierNumber",name:"dossierNumber",value:h.dossierNumber||"",onChange:V,placeholder:"Bijv. CC-2025-12345",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]})]});case 4:return v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Betalingsregeling"}),v.jsxs(Ae,{pressed:!0,className:"p-3 space-y-3",children:[v.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[v.jsx("span",{className:"font-medium text-light-text-primary dark:text-dark-text-primary",children:"Regeling actief"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"checkbox",checked:w,onChange:$,className:"sr-only peer"}),v.jsx("div",{className:"block bg-black/10 dark:bg-white/10 w-10 h-6 rounded-full peer-checked:bg-brand-accent/30"}),v.jsx("div",{className:"dot absolute left-1 top-1 bg-white dark:bg-dark-surface w-4 h-4 rounded-full transition-transform peer-checked:translate-x-4 peer-checked:bg-brand-accent"})]})]}),v.jsxs("div",{className:`space-y-4 pt-3 border-t border-light-shadow-dark/10 dark:border-dark-shadow-light/10 transition-opacity duration-300 ${w?"opacity-100":"opacity-50 pointer-events-none"}`,children:[v.jsxs("div",{className:"grid grid-cols-2 gap-3 items-center",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("label",{className:"block text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Bedrag p/keer"}),v.jsxs("div",{className:"flex items-center justify-center mt-1",children:[v.jsx("span",{className:"text-4xl font-bold text-brand-accent mr-1",children:""}),v.jsx("div",{className:"text-6xl font-bold text-brand-accent",children:v.jsx(Rv,{targetValue:((ae=h.paymentPlan)==null?void 0:ae.amount)||0})})]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("label",{className:"block text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Aantal termijnen"}),v.jsxs("div",{className:"flex items-center justify-center",children:[v.jsx(Te,{type:"button",variant:"ghost",className:"!p-1 rounded-full",onClick:M,children:v.jsx(Xp,{className:"text-2xl"})}),v.jsx("input",{type:"number",value:E,onChange:R,onBlur:j,min:"0",max:"500",className:"text-6xl font-bold text-light-text-primary dark:text-dark-text-primary bg-transparent border-none focus:ring-0 focus:outline-none w-24 text-center p-0 appearance-none [-moz-appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),v.jsx(Te,{type:"button",variant:"ghost",className:"!p-1 rounded-full",onClick:P,children:v.jsx(hf,{className:"text-2xl"})})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(kp,{icon:v.jsx(Iz,{}),label:"Frequentie",options:iye,value:((H=h.paymentPlan)==null?void 0:H.frequency)||Ut.MONTHLY,onChange:O}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Datum"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(Gi,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(Np,{id:"paymentPlan.startDate",value:((X=h.paymentPlan)==null?void 0:X.startDate)||"",onChange:ne=>F("paymentPlan.startDate",ne),required:!0,label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:`${W} cursor-pointer`})]})]})]})]})]})]});case 2:return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Naam begunstigde (optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(Vr,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"beneficiaryName",name:"beneficiaryName",value:h.beneficiaryName||"",onChange:V,placeholder:"Naam zoals op bankrekening",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Rekeningnummer (IBAN, optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(wz,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"accountNumber",name:"accountNumber",value:h.accountNumber||"",onChange:V,placeholder:"NL20BANK0123456789",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Betalingskenmerk (optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(ys,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"paymentReference",name:"paymentReference",value:h.paymentReference||"",onChange:V,placeholder:"Factuurnummer of kenmerk",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Omschrijving (voor bankoverschrijving)"}),v.jsx(Ae,{pressed:!0,className:"!p-3",children:v.jsx(Qp,{id:"description",name:"description",value:h.description||"",onChange:V,rows:2,placeholder:"Omschrijving voor je eigen bankafschrift",label:void 0,containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !p-0"})})]})]});case 3:return v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Contactpersoon (optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(Vr,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"contactPerson",name:"contactPerson",value:h.contactPerson||"",onChange:V,placeholder:"Naam contactpersoon",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"E-mailadres (optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(To,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"email",name:"email",type:"email",value:h.email||"",onChange:V,placeholder:"contact@schuldeiser.nl",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Telefoonnummer (optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx($N,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"phone",name:"phone",type:"tel",value:h.phone||"",onChange:V,placeholder:"012-3456789",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Website (optioneel)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center !p-0",children:[v.jsx(BN,{className:"text-lg ml-3 mr-2 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"website",name:"website",type:"url",value:h.website||"",onChange:V,placeholder:"https://www.schuldeiser.nl",label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:W})]})]})]});default:return null}};return v.jsxs("form",{onSubmit:ae=>ae.preventDefault(),className:"flex flex-col font-light",children:[v.jsxs("div",{className:"mb-3",children:[v.jsxs("div",{className:"flex items-center justify-between text-xs text-light-text-secondary dark:text-dark-text-secondary",children:[v.jsxs("span",{children:["Stap ",i," van ",nh.length]}),v.jsx("span",{className:"font-bold",children:nh[i-1].title})]}),v.jsx("div",{className:"w-full h-1.5 bg-black/10 dark:bg-white/10 rounded-full mt-1.5",children:v.jsx("div",{className:"h-full bg-brand-accent rounded-full transition-all duration-300",style:{width:`${i/nh.length*100}%`}})})]}),v.jsx("div",{className:"overflow-y-auto mb-3 p-3 pb-6",children:v.jsx("div",{className:"py-1",children:Q()})}),C&&v.jsx("p",{className:"text-sm text-light-danger dark:text-dark-danger bg-light-danger/10 p-3 rounded-md shadow-sm font-light mb-3",children:C}),v.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-light-shadow-dark/10 dark:border-dark-shadow-light/10",children:[v.jsxs(Te,{type:"button",variant:"secondary",onClick:te,disabled:r==="full"&&i===1||r==="planOnly"&&i===2,children:[v.jsx(Cge,{className:"mr-1"})," Terug"]}),i<nh.length?v.jsxs(Te,{type:"button",variant:"primary",onClick:B,children:[" Volgende ",v.jsx(Cz,{className:"ml-1"})," "]}):v.jsx(Te,{type:"button",variant:"primary",onClick:Z,children:"Opslaan"})]})]})},m$=({message:t="Opgeslagen!"})=>v.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full py-10 sm:py-12",children:[v.jsxs("svg",{className:"w-20 h-20",viewBox:"0 0 100 100",children:[v.jsx("circle",{className:"success-anim-circle",cx:"50",cy:"50",r:"48",fill:"#141ff5"}),v.jsx("path",{className:"success-anim-check",fill:"none",d:"M30,55 L45,70 L75,40"}),v.jsx("g",{className:"success-anim-burst",children:[0,45,90,135,180,225,270,315].map(e=>v.jsx("path",{fill:"none",d:"M50,5 L50,15",transform:`rotate(${e} 50 50)`},e))})]}),v.jsx("p",{className:"text-lg font-bold mt-4 text-light-text-primary dark:text-dark-text-primary success-anim-text",children:t}),v.jsx("style",{children:`
                /* Animations */
                @keyframes scale-in { 
                    0% { transform: scale(0); } 
                    100% { transform: scale(1); } 
                }
                @keyframes draw-check { 
                    to { stroke-dashoffset: 0; } 
                }
                @keyframes burst-and-fade { 
                    0% { transform: scale(0.5); stroke-width: 4; opacity: 1; }
                    100% { transform: scale(1.2); stroke-width: 0; opacity: 0; }
                }
                @keyframes fade-in-up { 
                    0% { opacity: 0; transform: translateY(20px); }
                    100% { opacity: 1; transform: translateY(0); }
                }
                
                /* Elements */
                .success-anim-circle {
                    animation: scale-in 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
                }
                .success-anim-check {
                    stroke-dasharray: 80;
                    stroke-dashoffset: 80;
                    stroke-width: 8;
                    stroke: white;
                    stroke-linecap: round;
                    stroke-linejoin: round;
                    animation: draw-check 0.4s 0.3s ease-out forwards;
                }
                .success-anim-burst path {
                    stroke-width: 4;
                    stroke: #141ff5;
                    stroke-linecap: round;
                    transform-origin: center;
                    opacity: 0;
                    animation: burst-and-fade 0.6s 0.6s cubic-bezier(0.19, 1, 0.22, 1) forwards;
                }
                .success-anim-text {
                    opacity: 0;
                    animation: fade-in-up 0.5s 0.8s ease-out forwards;
                }
            `})]});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let oye,sye;function lye(){return{geminiUrl:oye,vertexUrl:sye}}function uye(t,e,n){var r,i,a;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const o=lye();return t.vertexai?(i=o.vertexUrl)!==null&&i!==void 0?i:e:(a=o.geminiUrl)!==null&&a!==void 0?a:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class du{}function Oe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let a=0;a<e.length-1;a++){const o=e[a];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];g(h,e.slice(a+1),n[f])}else for(const f of c)g(f,e.slice(a+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(a+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const a=t[i];return Array.isArray(a)?a.map(o=>p(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var g$;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(g$||(g$={}));var y$;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(y$||(y$={}));var Ft;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ft||(Ft={}));var v$;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(v$||(v$={}));var b$;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(b$||(b$={}));var x$;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(x$||(x$={}));var _$;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_$||(_$={}));var T$;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(T$||(T$={}));var w$;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(w$||(w$={}));var E$;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(E$||(E$={}));var S$;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(S$||(S$={}));var A$;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(A$||(A$={}));var C$;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(C$||(C$={}));var N$;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(N$||(N$={}));var k$;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(k$||(k$={}));var I$;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(I$||(I$={}));var Pv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Pv||(Pv={}));var R$;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(R$||(R$={}));var _C;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_C||(_C={}));var P$;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(P$||(P$={}));var M$;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(M$||(M$={}));var D$;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(D$||(D$={}));var O$;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(O$||(O$={}));var j$;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(j$||(j$={}));var L$;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(L$||(L$={}));var V$;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(V$||(V$={}));var U$;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(U$||(U$={}));var $$;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($$||($$={}));var B$;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(B$||(B$={}));var q$;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(q$||(q$={}));var F$;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(F$||(F$={}));var z$;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(z$||(z$={}));var G$;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(G$||(G$={}));var H$;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(H$||(H$={}));var W$;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(W$||(W$={}));var K$;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(K$||(K$={}));var Y$;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Y$||(Y$={}));var J$;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(J$||(J$={}));var X$;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(X$||(X$={}));var Q$;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Q$||(Q$={}));var Z$;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Z$||(Z$={}));var yc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(yc||(yc={}));class TC{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class rh{get text(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const m=[];for(const b of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[T,w]of Object.entries(b))T!=="text"&&T!=="thought"&&(w!==null||w!==void 0)&&m.push(T);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;h=!0,f+=b.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const m of(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[b,T]of Object.entries(m))b!=="inlineData"&&(T!==null||T!==void 0)&&h.push(b);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,a,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,a,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,a,o,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class eB{}class tB{}class cye{}class fye{}class nB{}class rB{}class iB{}class dye{}class aB{}class oB{}class sB{}class hye{}class pye{}class mye{}class lB{}class gye{get text(){var e,n,r;let i="",a=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="text"&&c!=="thought"&&f!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;a=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&a.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class yye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function It(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Mz(t,e){const n=It(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Dz(t){return Array.isArray(t)?t.map(e=>Mv(e)):[Mv(t)]}function Mv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Oz(t){const e=Mv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jz(t){const e=Mv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uB(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Lz(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>uB(e)):[uB(t)]}function wC(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function cB(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function fB(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function yr(t){if(t==null)throw new Error("ContentUnion is required");return wC(t)?t:{role:"user",parts:Lz(t)}}function Vz(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=yr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=yr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>yr(n)):[yr(e)]}function Ii(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(cB(t)||fB(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yr(t)]}const e=[],n=[],r=wC(t[0]);for(const i of t){const a=wC(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(cB(i)||fB(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Lz(n)}),e}function vye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ft).includes(n[0].toUpperCase())?n[0].toUpperCase():Ft.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ft).includes(r.toUpperCase())?r.toUpperCase():Ft.TYPE_UNSPECIFIED})}}function Nc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&vye(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Ft).includes(l.toUpperCase())?l.toUpperCase():Ft.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Nc(l);else if(r.includes(o)){const c=[];for(const f of l){if(f.type=="null"){e.nullable=!0;continue}c.push(Nc(f))}e[o]=c}else if(i.includes(o)){const c={};for(const[f,h]of Object.entries(l))c[f]=Nc(h);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function qN(t){return Nc(t)}function FN(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function zN(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Of(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nc(e.response));return t}function jf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function bye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ko(t,e){if(typeof e!="string")throw new Error("name must be a string");return bye(t,e,"cachedContents")}function Uz(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Io(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function xye(t){return t!=null&&typeof t=="object"&&"name"in t}function _ye(t){return t!=null&&typeof t=="object"&&"video"in t}function Tye(t){return t!=null&&typeof t=="object"&&"uri"in t}function $z(t){var e;let n;if(xye(t)&&(n=t.name),!(Tye(t)&&(n=t.uri,n===void 0))&&!(_ye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Bz(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function qz(t){for(const e of["models","tunedModels","publisherModels"])if(wye(t,e))return t[e];return[]}function wye(t,e){return t!==null&&typeof t=="object"&&e in t}function Eye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Sye(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const o=Eye(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function Fz(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function Aye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Lf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function zz(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cye(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function Nye(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function kye(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Iye(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],Cye(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],Nye(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],kye(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function Gz(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Iye(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Rye(t){const e={},n=p(t,["anyOf"]);n!=null&&g(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&g(e,["default"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const a=p(t,["enum"]);a!=null&&g(e,["enum"],a);const o=p(t,["example"]);o!=null&&g(e,["example"],o);const l=p(t,["format"]);l!=null&&g(e,["format"],l);const c=p(t,["items"]);c!=null&&g(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&g(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&g(e,["maxLength"],h);const m=p(t,["maxProperties"]);m!=null&&g(e,["maxProperties"],m);const b=p(t,["maximum"]);b!=null&&g(e,["maximum"],b);const T=p(t,["minItems"]);T!=null&&g(e,["minItems"],T);const w=p(t,["minLength"]);w!=null&&g(e,["minLength"],w);const S=p(t,["minProperties"]);S!=null&&g(e,["minProperties"],S);const E=p(t,["minimum"]);E!=null&&g(e,["minimum"],E);const I=p(t,["nullable"]);I!=null&&g(e,["nullable"],I);const C=p(t,["pattern"]);C!=null&&g(e,["pattern"],C);const N=p(t,["properties"]);N!=null&&g(e,["properties"],N);const D=p(t,["propertyOrdering"]);D!=null&&g(e,["propertyOrdering"],D);const R=p(t,["required"]);R!=null&&g(e,["required"],R);const j=p(t,["title"]);j!=null&&g(e,["title"],j);const P=p(t,["type"]);return P!=null&&g(e,["type"],P),e}function Pye(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&g(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Mye(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function Dye(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function Oye(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],Dye(n)),e}function jye(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function Lye(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],jye(n)),e}function Vye(){return{}}function Uye(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Mye(f))),g(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],Oye(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],Lye(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],Vye());const o=p(t,["codeExecution"]);o!=null&&g(e,["codeExecution"],o);const l=p(t,["computerUse"]);return l!=null&&g(e,["computerUse"],l),e}function $ye(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function Bye(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function qye(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],Bye(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function Fye(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],$ye(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],qye(r)),e}function zye(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function Hz(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],zye(n)),e}function Gye(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],Hz(r)),e}function Hye(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Gye(i))),g(e,["speakerVoiceConfigs"],r)}return e}function Wye(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],Hz(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],Hye(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function Kye(t){const e={},n=p(t,["includeThoughts"]);n!=null&&g(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&g(e,["thinkingBudget"],r),e}function Yye(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Gz(yr(i)));const a=p(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&g(r,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&g(r,["stopSequences"],h);const m=p(e,["responseLogprobs"]);m!=null&&g(r,["responseLogprobs"],m);const b=p(e,["logprobs"]);b!=null&&g(r,["logprobs"],b);const T=p(e,["presencePenalty"]);T!=null&&g(r,["presencePenalty"],T);const w=p(e,["frequencyPenalty"]);w!=null&&g(r,["frequencyPenalty"],w);const S=p(e,["seed"]);S!=null&&g(r,["seed"],S);const E=p(e,["responseMimeType"]);E!=null&&g(r,["responseMimeType"],E);const I=p(e,["responseSchema"]);I!=null&&g(r,["responseSchema"],Rye(qN(I)));const C=p(e,["responseJsonSchema"]);if(C!=null&&g(r,["responseJsonSchema"],C),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let V=N;Array.isArray(V)&&(V=V.map(F=>Pye(F))),g(n,["safetySettings"],V)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let V=jf(D);Array.isArray(V)&&(V=V.map(F=>Uye(Of(F)))),g(n,["tools"],V)}const R=p(e,["toolConfig"]);if(n!==void 0&&R!=null&&g(n,["toolConfig"],Fye(R)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=p(e,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],ko(t,j));const P=p(e,["responseModalities"]);P!=null&&g(r,["responseModalities"],P);const M=p(e,["mediaResolution"]);M!=null&&g(r,["mediaResolution"],M);const O=p(e,["speechConfig"]);if(O!=null&&g(r,["speechConfig"],Wye(FN(O))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);return $!=null&&g(r,["thinkingConfig"],Kye($)),r}function Jye(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],It(t,r));const i=p(e,["contents"]);if(i!=null){let o=Ii(i);Array.isArray(o)&&(o=o.map(l=>Gz(l))),g(n,["request","contents"],o)}const a=p(e,["config"]);return a!=null&&g(n,["request","generationConfig"],Yye(t,a,n)),n}function Xye(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>Jye(t,o))),g(n,["requests","requests"],a)}return n}function Qye(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Zye(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Xye(t,Fz(t,i)));const a=p(e,["config"]);return a!=null&&g(n,["config"],Qye(a,n)),n}function eve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Lf(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function tve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Lf(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function nve(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function rve(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],nve(n,e)),e}function ive(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Lf(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function ave(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ove(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function sve(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],ove(Aye(i))),n}function lve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],It(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],ave(Fz(t,i)));const a=p(e,["config"]);return a!=null&&g(n,["config"],sve(a,n)),n}function uve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Lf(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function cve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Lf(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function fve(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function dve(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],fve(n,e)),e}function hve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Lf(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function pve(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function mve(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function gve(t){const e={},n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function yve(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],pve(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],mve(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],gve(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function vve(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>yve(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function bve(t){const e={},n=p(t,["citationSources"]);return n!=null&&g(e,["citations"],n),e}function xve(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function _ve(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xve(i))),g(e,["urlMetadata"],r)}return e}function Tve(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],vve(n));const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],bve(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const o=p(t,["urlContextMetadata"]);o!=null&&g(e,["urlContextMetadata"],_ve(o));const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&g(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);return m!=null&&g(e,["safetyRatings"],m),e}function wve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Tve(c))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const o=p(t,["usageMetadata"]);return o!=null&&g(e,["usageMetadata"],o),e}function Wz(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["code"]);r!=null&&g(e,["code"],r);const i=p(t,["message"]);return i!=null&&g(e,["message"],i),e}function Eve(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],wve(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],Wz(r)),e}function Sve(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Eve(a))),g(e,["inlinedResponses"],i)}return e}function EC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],zz(i));const a=p(t,["metadata","createTime"]);a!=null&&g(e,["createTime"],a);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const f=p(t,["metadata","output"]);return f!=null&&g(e,["dest"],Sve(f)),e}function Ave(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>EC(a))),g(e,["batchJobs"],i)}return e}function Cve(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const i=p(t,["error"]);return i!=null&&g(e,["error"],Wz(i)),e}function Kz(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["code"]);r!=null&&g(e,["code"],r);const i=p(t,["message"]);return i!=null&&g(e,["message"],i),e}function Nve(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function kve(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function SC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],zz(i));const a=p(t,["error"]);a!=null&&g(e,["error"],Kz(a));const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const f=p(t,["updateTime"]);f!=null&&g(e,["updateTime"],f);const h=p(t,["model"]);h!=null&&g(e,["model"],h);const m=p(t,["inputConfig"]);m!=null&&g(e,["src"],Nve(m));const b=p(t,["outputConfig"]);return b!=null&&g(e,["dest"],kve(b)),e}function Ive(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>SC(a))),g(e,["batchJobs"],i)}return e}function Rve(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["done"]);r!=null&&g(e,["done"],r);const i=p(t,["error"]);return i!=null&&g(e,["error"],Kz(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ql;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ql||(Ql={}));class Zp{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};r?typeof r=="object"?o=Object.assign({},r):o=r:o={config:{}},o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pve extends du{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const i=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${i}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new Zp(Ql.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}async createInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=lve(this.apiClient,e);return l=Oe("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>SC(h))}else{const f=Zye(this.apiClient,e);return l=Oe("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>EC(h))}}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=uve(this.apiClient,e);return l=Oe("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>SC(h))}else{const f=eve(this.apiClient,e);return l=Oe("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>EC(h))}}async cancel(e){var n,r,i,a;let o="",l={};if(this.apiClient.isVertexAI()){const c=cve(this.apiClient,e);o=Oe("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=tve(this.apiClient,e);o=Oe("batches/{name}:cancel",c._url),l=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=dve(e);return l=Oe("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=Ive(h),b=new lB;return Object.assign(b,m),b})}else{const f=rve(e);return l=Oe("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const m=Ave(h),b=new lB;return Object.assign(b,m),b})}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=hve(this.apiClient,e);return l=Oe("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>Rve(h))}else{const f=ive(this.apiClient,e);return l=Oe("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Cve(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mve(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function Dve(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Ove(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function jve(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],Mve(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],Dve(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],Ove(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function dB(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jve(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Lve(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function Vve(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function Uve(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],Vve(n)),e}function $ve(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function Bve(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],$ve(n)),e}function qve(){return{}}function Fve(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>Lve(f))),g(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],Uve(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],Bve(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],qve());const o=p(t,["codeExecution"]);o!=null&&g(e,["codeExecution"],o);const l=p(t,["computerUse"]);return l!=null&&g(e,["computerUse"],l),e}function zve(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function Gve(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function Hve(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],Gve(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function Wve(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],zve(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],Hve(r)),e}function Kve(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let h=Ii(o);Array.isArray(h)&&(h=h.map(m=>dB(m))),g(e,["contents"],h)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],dB(yr(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Fve(m))),g(e,["tools"],h)}const f=p(t,["toolConfig"]);if(e!==void 0&&f!=null&&g(e,["toolConfig"],Wve(f)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Yve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Mz(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],Kve(i,n)),n}function Jve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ko(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function Xve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ko(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function Qve(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Zve(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ko(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],Qve(i,n)),n}function ebe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function tbe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],ebe(n,e)),e}function nbe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function rbe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ibe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function abe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],nbe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],rbe(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],ibe(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function hB(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>abe(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function obe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&g(e,["responseJsonSchema"],l),e}function sbe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function lbe(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],sbe(n)),e}function ube(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function cbe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],ube(n)),e}function fbe(){return{}}function dbe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&g(e,["apiKeyString"],n),e}function hbe(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&g(e,["apiKeyConfig"],dbe(n));const r=p(t,["authType"]);r!=null&&g(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&g(e,["googleServiceAccountConfig"],i);const a=p(t,["httpBasicAuthConfig"]);a!=null&&g(e,["httpBasicAuthConfig"],a);const o=p(t,["oauthConfig"]);o!=null&&g(e,["oauthConfig"],o);const l=p(t,["oidcConfig"]);return l!=null&&g(e,["oidcConfig"],l),e}function pbe(t){const e={},n=p(t,["authConfig"]);return n!=null&&g(e,["authConfig"],hbe(n)),e}function mbe(){return{}}function gbe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(b=>obe(b))),g(e,["functionDeclarations"],m)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&g(e,["googleSearch"],lbe(i));const a=p(t,["googleSearchRetrieval"]);a!=null&&g(e,["googleSearchRetrieval"],cbe(a)),p(t,["enterpriseWebSearch"])!=null&&g(e,["enterpriseWebSearch"],fbe());const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],pbe(l)),p(t,["urlContext"])!=null&&g(e,["urlContext"],mbe());const f=p(t,["codeExecution"]);f!=null&&g(e,["codeExecution"],f);const h=p(t,["computerUse"]);return h!=null&&g(e,["computerUse"],h),e}function ybe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function vbe(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function bbe(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],vbe(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function xbe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],ybe(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],bbe(r)),e}function _be(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const a=p(t,["displayName"]);e!==void 0&&a!=null&&g(e,["displayName"],a);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let m=Ii(o);Array.isArray(m)&&(m=m.map(b=>hB(b))),g(e,["contents"],m)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],hB(yr(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(b=>gbe(b))),g(e,["tools"],m)}const f=p(t,["toolConfig"]);e!==void 0&&f!=null&&g(e,["toolConfig"],xbe(f));const h=p(t,["kmsKeyName"]);return e!==void 0&&h!=null&&g(e,["encryption_spec","kmsKeyName"],h),n}function Tbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Mz(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],_be(i,n)),n}function wbe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ko(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function Ebe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ko(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function Sbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Abe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ko(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],Sbe(i,n)),n}function Cbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Nbe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],Cbe(n,e)),e}function fy(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["model"]);i!=null&&g(e,["model"],i);const a=p(t,["createTime"]);a!=null&&g(e,["createTime"],a);const o=p(t,["updateTime"]);o!=null&&g(e,["updateTime"],o);const l=p(t,["expireTime"]);l!=null&&g(e,["expireTime"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function kbe(){return{}}function Ibe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>fy(a))),g(e,["cachedContents"],i)}return e}function dy(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["model"]);i!=null&&g(e,["model"],i);const a=p(t,["createTime"]);a!=null&&g(e,["createTime"],a);const o=p(t,["updateTime"]);o!=null&&g(e,["updateTime"],o);const l=p(t,["expireTime"]);l!=null&&g(e,["expireTime"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function Rbe(){return{}}function Pbe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>dy(a))),g(e,["cachedContents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mbe extends du{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zp(Ql.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Tbe(this.apiClient,e);return l=Oe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>dy(h))}else{const f=Yve(this.apiClient,e);return l=Oe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>fy(h))}}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=wbe(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>dy(h))}else{const f=Jve(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>fy(h))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Ebe(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=Rbe(),m=new oB;return Object.assign(m,h),m})}else{const f=Xve(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(()=>{const h=kbe(),m=new oB;return Object.assign(m,h),m})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Abe(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>dy(h))}else{const f=Zve(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>fy(h))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Nbe(e);return l=Oe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=Pbe(h),b=new sB;return Object.assign(b,m),b})}else{const f=tbe(e);return l=Oe("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const m=Ibe(h),b=new sB;return Object.assign(b,m),b})}}}function pB(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jt(t){return this instanceof Jt?(this.v=t,this):new Jt(t)}function kc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(T){return function(w){return Promise.resolve(w).then(T,m)}}function l(T,w){r[T]&&(i[T]=function(S){return new Promise(function(E,I){a.push([T,S,E,I])>1||c(T,S)})},w&&(i[T]=w(i[T])))}function c(T,w){try{f(r[T](w))}catch(S){b(a[0][3],S)}}function f(T){T.value instanceof Jt?Promise.resolve(T.value.v).then(h,m):b(a[0][2],T)}function h(T){c("next",T)}function m(T){c("throw",T)}function b(T,w){T(w),a.shift(),a.length&&c(a[0][0],a[0][1])}}function kh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pB=="function"?pB(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(o){return new Promise(function(l,c){o=t[a](o),i(l,c,o.done,o.value)})}}function i(a,o,l,c){Promise.resolve(c).then(function(f){a({value:f,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dbe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Yz(n)}function Yz(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Obe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mB(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!Yz(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class jbe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Lbe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Lbe{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),Obe(a)}async sendMessage(e){var n;await this.sendPromise;const r=yr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,l;const c=await i,f=(o=(a=c.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let b=[];h!=null&&(b=(l=h.slice(m))!==null&&l!==void 0?l:[]);const T=f?[f]:[];this.recordHistory(r,T,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=yr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?mB(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return kc(this,arguments,function*(){var o,l,c,f;const h=[];try{for(var m=!0,b=kh(e),T;T=yield Jt(b.next()),o=T.done,!o;m=!0){f=T.value,m=!1;const w=f;if(Dbe(w)){const S=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&h.push(S)}yield yield Jt(w)}}catch(w){l={error:w}}finally{try{!m&&!o&&(c=b.return)&&(yield Jt(c.call(b)))}finally{if(l)throw l.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...mB(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zb extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Zb.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function Ube(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],Vbe(n,e)),e}function $be(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["message"]);r!=null&&g(e,["message"],r);const i=p(t,["code"]);return i!=null&&g(e,["code"],i),e}function Bbe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&g(e,["mimeType"],i);const a=p(t,["sizeBytes"]);a!=null&&g(e,["sizeBytes"],a);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["expirationTime"]);l!=null&&g(e,["expirationTime"],l);const c=p(t,["updateTime"]);c!=null&&g(e,["updateTime"],c);const f=p(t,["sha256Hash"]);f!=null&&g(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&g(e,["uri"],h);const m=p(t,["downloadUri"]);m!=null&&g(e,["downloadUri"],m);const b=p(t,["state"]);b!=null&&g(e,["state"],b);const T=p(t,["source"]);T!=null&&g(e,["source"],T);const w=p(t,["videoMetadata"]);w!=null&&g(e,["videoMetadata"],w);const S=p(t,["error"]);return S!=null&&g(e,["error"],$be(S)),e}function qbe(t){const e={},n=p(t,["file"]);n!=null&&g(e,["file"],Bbe(n));const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function Fbe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","file"],$z(n));const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function zbe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","file"],$z(n));const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function Gbe(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["message"]);r!=null&&g(e,["message"],r);const i=p(t,["code"]);return i!=null&&g(e,["code"],i),e}function AC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&g(e,["mimeType"],i);const a=p(t,["sizeBytes"]);a!=null&&g(e,["sizeBytes"],a);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["expirationTime"]);l!=null&&g(e,["expirationTime"],l);const c=p(t,["updateTime"]);c!=null&&g(e,["updateTime"],c);const f=p(t,["sha256Hash"]);f!=null&&g(e,["sha256Hash"],f);const h=p(t,["uri"]);h!=null&&g(e,["uri"],h);const m=p(t,["downloadUri"]);m!=null&&g(e,["downloadUri"],m);const b=p(t,["state"]);b!=null&&g(e,["state"],b);const T=p(t,["source"]);T!=null&&g(e,["source"],T);const w=p(t,["videoMetadata"]);w!=null&&g(e,["videoMetadata"],w);const S=p(t,["error"]);return S!=null&&g(e,["error"],Gbe(S)),e}function Hbe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>AC(a))),g(e,["files"],i)}return e}function Wbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Kbe(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ybe extends du{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Zp(Ql.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>AC(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ube(e);return a=Oe("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Hbe(c),h=new hye;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=qbe(e);return a=Oe("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Wbe(c),h=new pye;return Object.assign(h,f),h})}}async get(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Fbe(e);return a=Oe("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>AC(c))}}async delete(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zbe(e);return a=Oe("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(()=>{const c=Kbe(),f=new mye;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jbe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function Jz(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],Jbe(n)),e}function Xbe(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],Jz(r)),e}function Qbe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xbe(i))),g(e,["speakerVoiceConfigs"],r)}return e}function Zbe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],Jz(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],Qbe(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function exe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function txe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nxe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rxe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],exe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],txe(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],nxe(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function ixe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>rxe(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function axe(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function oxe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function sxe(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],oxe(n)),e}function lxe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function uxe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],lxe(n)),e}function cxe(){return{}}function fxe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>axe(f))),g(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],sxe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],uxe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],cxe());const o=p(t,["codeExecution"]);o!=null&&g(e,["codeExecution"],o);const l=p(t,["computerUse"]);return l!=null&&g(e,["computerUse"],l),e}function dxe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gB(){return{}}function hxe(t){const e={},n=p(t,["disabled"]);n!=null&&g(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&g(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&g(e,["endOfSpeechSensitivity"],i);const a=p(t,["prefixPaddingMs"]);a!=null&&g(e,["prefixPaddingMs"],a);const o=p(t,["silenceDurationMs"]);return o!=null&&g(e,["silenceDurationMs"],o),e}function pxe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&g(e,["automaticActivityDetection"],hxe(n));const r=p(t,["activityHandling"]);r!=null&&g(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&g(e,["turnCoverage"],i),e}function mxe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&g(e,["targetTokens"],n),e}function gxe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&g(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&g(e,["slidingWindow"],mxe(r)),e}function yxe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&g(e,["proactiveAudio"],n),e}function vxe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","seed"],h);const m=p(t,["speechConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","speechConfig"],Zbe(zN(m)));const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],ixe(yr(T)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let R=jf(w);Array.isArray(R)&&(R=R.map(j=>fxe(Of(j)))),g(e,["setup","tools"],R)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],dxe(S));const E=p(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&g(e,["setup","inputAudioTranscription"],gB());const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],gB());const C=p(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&g(e,["setup","realtimeInputConfig"],pxe(C));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],gxe(N));const D=p(t,["proactivity"]);return e!==void 0&&D!=null&&g(e,["setup","proactivity"],yxe(D)),n}function bxe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],vxe(i,n)),n}function xxe(){return{}}function _xe(){return{}}function Txe(t){const e={},n=p(t,["media"]);n!=null&&g(e,["mediaChunks"],Dz(n));const r=p(t,["audio"]);r!=null&&g(e,["audio"],jz(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&g(e,["video"],Oz(a));const o=p(t,["text"]);return o!=null&&g(e,["text"],o),p(t,["activityStart"])!=null&&g(e,["activityStart"],xxe()),p(t,["activityEnd"])!=null&&g(e,["activityEnd"],_xe()),e}function Xz(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["weight"]);return r!=null&&g(e,["weight"],r),e}function wxe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xz(i))),g(e,["weightedPrompts"],r)}return e}function Qz(t){const e={},n=p(t,["temperature"]);n!=null&&g(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&g(e,["topK"],r);const i=p(t,["seed"]);i!=null&&g(e,["seed"],i);const a=p(t,["guidance"]);a!=null&&g(e,["guidance"],a);const o=p(t,["bpm"]);o!=null&&g(e,["bpm"],o);const l=p(t,["density"]);l!=null&&g(e,["density"],l);const c=p(t,["brightness"]);c!=null&&g(e,["brightness"],c);const f=p(t,["scale"]);f!=null&&g(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&g(e,["muteBass"],h);const m=p(t,["muteDrums"]);m!=null&&g(e,["muteDrums"],m);const b=p(t,["onlyBassAndDrums"]);return b!=null&&g(e,["onlyBassAndDrums"],b),e}function Exe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],Qz(n)),e}function Zz(t){const e={},n=p(t,["model"]);return n!=null&&g(e,["model"],n),e}function eG(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Xz(i))),g(e,["weightedPrompts"],r)}return e}function CC(t){const e={},n=p(t,["setup"]);n!=null&&g(e,["setup"],Zz(n));const r=p(t,["clientContent"]);r!=null&&g(e,["clientContent"],eG(r));const i=p(t,["musicGenerationConfig"]);i!=null&&g(e,["musicGenerationConfig"],Qz(i));const a=p(t,["playbackControl"]);return a!=null&&g(e,["playbackControl"],a),e}function Sxe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function Axe(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],Sxe(n)),e}function Cxe(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&g(e,["voiceConfig"],Axe(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function Nxe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function kxe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Ixe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Rxe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],Nxe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],kxe(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],Ixe(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function Pxe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Rxe(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Mxe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&g(e,["responseJsonSchema"],l),e}function Dxe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function Oxe(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],Dxe(n)),e}function jxe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function Lxe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],jxe(n)),e}function Vxe(){return{}}function Uxe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&g(e,["apiKeyString"],n),e}function $xe(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&g(e,["apiKeyConfig"],Uxe(n));const r=p(t,["authType"]);r!=null&&g(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&g(e,["googleServiceAccountConfig"],i);const a=p(t,["httpBasicAuthConfig"]);a!=null&&g(e,["httpBasicAuthConfig"],a);const o=p(t,["oauthConfig"]);o!=null&&g(e,["oauthConfig"],o);const l=p(t,["oidcConfig"]);return l!=null&&g(e,["oidcConfig"],l),e}function Bxe(t){const e={},n=p(t,["authConfig"]);return n!=null&&g(e,["authConfig"],$xe(n)),e}function qxe(){return{}}function Fxe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(b=>Mxe(b))),g(e,["functionDeclarations"],m)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&g(e,["googleSearch"],Oxe(i));const a=p(t,["googleSearchRetrieval"]);a!=null&&g(e,["googleSearchRetrieval"],Lxe(a)),p(t,["enterpriseWebSearch"])!=null&&g(e,["enterpriseWebSearch"],Vxe());const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],Bxe(l)),p(t,["urlContext"])!=null&&g(e,["urlContext"],qxe());const f=p(t,["codeExecution"]);f!=null&&g(e,["codeExecution"],f);const h=p(t,["computerUse"]);return h!=null&&g(e,["computerUse"],h),e}function zxe(t){const e={},n=p(t,["handle"]);n!=null&&g(e,["handle"],n);const r=p(t,["transparent"]);return r!=null&&g(e,["transparent"],r),e}function yB(){return{}}function Gxe(t){const e={},n=p(t,["disabled"]);n!=null&&g(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&g(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&g(e,["endOfSpeechSensitivity"],i);const a=p(t,["prefixPaddingMs"]);a!=null&&g(e,["prefixPaddingMs"],a);const o=p(t,["silenceDurationMs"]);return o!=null&&g(e,["silenceDurationMs"],o),e}function Hxe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&g(e,["automaticActivityDetection"],Gxe(n));const r=p(t,["activityHandling"]);r!=null&&g(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&g(e,["turnCoverage"],i),e}function Wxe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&g(e,["targetTokens"],n),e}function Kxe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&g(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&g(e,["slidingWindow"],Wxe(r)),e}function Yxe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&g(e,["proactiveAudio"],n),e}function Jxe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","seed"],h);const m=p(t,["speechConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","speechConfig"],Cxe(zN(m)));const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],Pxe(yr(T)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let R=jf(w);Array.isArray(R)&&(R=R.map(j=>Fxe(Of(j)))),g(e,["setup","tools"],R)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],zxe(S));const E=p(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&g(e,["setup","inputAudioTranscription"],yB());const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],yB());const C=p(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&g(e,["setup","realtimeInputConfig"],Hxe(C));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],Kxe(N));const D=p(t,["proactivity"]);return e!==void 0&&D!=null&&g(e,["setup","proactivity"],Yxe(D)),n}function Xxe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],Jxe(i,n)),n}function Qxe(){return{}}function Zxe(){return{}}function e0e(t){const e={},n=p(t,["media"]);n!=null&&g(e,["mediaChunks"],Dz(n));const r=p(t,["audio"]);r!=null&&g(e,["audio"],jz(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const a=p(t,["video"]);a!=null&&g(e,["video"],Oz(a));const o=p(t,["text"]);return o!=null&&g(e,["text"],o),p(t,["activityStart"])!=null&&g(e,["activityStart"],Qxe()),p(t,["activityEnd"])!=null&&g(e,["activityEnd"],Zxe()),e}function t0e(){return{}}function n0e(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function r0e(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function i0e(t){const e={},n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function a0e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],n0e(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],r0e(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],i0e(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function o0e(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>a0e(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function vB(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["finished"]);return r!=null&&g(e,["finished"],r),e}function s0e(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function l0e(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>s0e(i))),g(e,["urlMetadata"],r)}return e}function u0e(t){const e={},n=p(t,["modelTurn"]);n!=null&&g(e,["modelTurn"],o0e(n));const r=p(t,["turnComplete"]);r!=null&&g(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&g(e,["interrupted"],i);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const o=p(t,["generationComplete"]);o!=null&&g(e,["generationComplete"],o);const l=p(t,["inputTranscription"]);l!=null&&g(e,["inputTranscription"],vB(l));const c=p(t,["outputTranscription"]);c!=null&&g(e,["outputTranscription"],vB(c));const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],l0e(f)),e}function c0e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);return i!=null&&g(e,["name"],i),e}function f0e(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>c0e(i))),g(e,["functionCalls"],r)}return e}function d0e(t){const e={},n=p(t,["ids"]);return n!=null&&g(e,["ids"],n),e}function Kg(t){const e={},n=p(t,["modality"]);n!=null&&g(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&g(e,["tokenCount"],r),e}function h0e(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["responseTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let b=c;Array.isArray(b)&&(b=b.map(T=>Kg(T))),g(e,["promptTokensDetails"],b)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(T=>Kg(T))),g(e,["cacheTokensDetails"],b)}const h=p(t,["responseTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(T=>Kg(T))),g(e,["responseTokensDetails"],b)}const m=p(t,["toolUsePromptTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(T=>Kg(T))),g(e,["toolUsePromptTokensDetails"],b)}return e}function p0e(t){const e={},n=p(t,["timeLeft"]);return n!=null&&g(e,["timeLeft"],n),e}function m0e(t){const e={},n=p(t,["newHandle"]);n!=null&&g(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&g(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&g(e,["lastConsumedClientMessageIndex"],i),e}function g0e(t){const e={};p(t,["setupComplete"])!=null&&g(e,["setupComplete"],t0e());const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],u0e(r));const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],f0e(i));const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],d0e(a));const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],h0e(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],p0e(l));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&g(e,["sessionResumptionUpdate"],m0e(c)),e}function y0e(){return{}}function v0e(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["weight"]);return r!=null&&g(e,["weight"],r),e}function b0e(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>v0e(i))),g(e,["weightedPrompts"],r)}return e}function x0e(t){const e={},n=p(t,["temperature"]);n!=null&&g(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&g(e,["topK"],r);const i=p(t,["seed"]);i!=null&&g(e,["seed"],i);const a=p(t,["guidance"]);a!=null&&g(e,["guidance"],a);const o=p(t,["bpm"]);o!=null&&g(e,["bpm"],o);const l=p(t,["density"]);l!=null&&g(e,["density"],l);const c=p(t,["brightness"]);c!=null&&g(e,["brightness"],c);const f=p(t,["scale"]);f!=null&&g(e,["scale"],f);const h=p(t,["muteBass"]);h!=null&&g(e,["muteBass"],h);const m=p(t,["muteDrums"]);m!=null&&g(e,["muteDrums"],m);const b=p(t,["onlyBassAndDrums"]);return b!=null&&g(e,["onlyBassAndDrums"],b),e}function _0e(t){const e={},n=p(t,["clientContent"]);n!=null&&g(e,["clientContent"],b0e(n));const r=p(t,["musicGenerationConfig"]);return r!=null&&g(e,["musicGenerationConfig"],x0e(r)),e}function T0e(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);r!=null&&g(e,["mimeType"],r);const i=p(t,["sourceMetadata"]);return i!=null&&g(e,["sourceMetadata"],_0e(i)),e}function w0e(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>T0e(i))),g(e,["audioChunks"],r)}return e}function E0e(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["filteredReason"]);return r!=null&&g(e,["filteredReason"],r),e}function S0e(t){const e={};p(t,["setupComplete"])!=null&&g(e,["setupComplete"],y0e());const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],w0e(r));const i=p(t,["filteredPrompt"]);return i!=null&&g(e,["filteredPrompt"],E0e(i)),e}function A0e(t){const e={},n=p(t,["sessionId"]);return n!=null&&g(e,["sessionId"],n),e}function C0e(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function N0e(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function k0e(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function I0e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],C0e(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],N0e(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],k0e(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function R0e(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>I0e(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function bB(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["finished"]);return r!=null&&g(e,["finished"],r),e}function P0e(t){const e={},n=p(t,["modelTurn"]);n!=null&&g(e,["modelTurn"],R0e(n));const r=p(t,["turnComplete"]);r!=null&&g(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&g(e,["interrupted"],i);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const o=p(t,["generationComplete"]);o!=null&&g(e,["generationComplete"],o);const l=p(t,["inputTranscription"]);l!=null&&g(e,["inputTranscription"],bB(l));const c=p(t,["outputTranscription"]);return c!=null&&g(e,["outputTranscription"],bB(c)),e}function M0e(t){const e={},n=p(t,["args"]);n!=null&&g(e,["args"],n);const r=p(t,["name"]);return r!=null&&g(e,["name"],r),e}function D0e(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>M0e(i))),g(e,["functionCalls"],r)}return e}function O0e(t){const e={},n=p(t,["ids"]);return n!=null&&g(e,["ids"],n),e}function Yg(t){const e={},n=p(t,["modality"]);n!=null&&g(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&g(e,["tokenCount"],r),e}function j0e(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const a=p(t,["toolUsePromptTokenCount"]);a!=null&&g(e,["toolUsePromptTokenCount"],a);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(w=>Yg(w))),g(e,["promptTokensDetails"],T)}const f=p(t,["cacheTokensDetails"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(w=>Yg(w))),g(e,["cacheTokensDetails"],T)}const h=p(t,["candidatesTokensDetails"]);if(h!=null){let T=h;Array.isArray(T)&&(T=T.map(w=>Yg(w))),g(e,["responseTokensDetails"],T)}const m=p(t,["toolUsePromptTokensDetails"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(w=>Yg(w))),g(e,["toolUsePromptTokensDetails"],T)}const b=p(t,["trafficType"]);return b!=null&&g(e,["trafficType"],b),e}function L0e(t){const e={},n=p(t,["timeLeft"]);return n!=null&&g(e,["timeLeft"],n),e}function V0e(t){const e={},n=p(t,["newHandle"]);n!=null&&g(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&g(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&g(e,["lastConsumedClientMessageIndex"],i),e}function U0e(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],A0e(n));const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],P0e(r));const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],D0e(i));const a=p(t,["toolCallCancellation"]);a!=null&&g(e,["toolCallCancellation"],O0e(a));const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],j0e(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],L0e(l));const c=p(t,["sessionResumptionUpdate"]);return c!=null&&g(e,["sessionResumptionUpdate"],V0e(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $0e(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function B0e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function q0e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function F0e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],$0e(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],B0e(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],q0e(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function ex(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>F0e(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function z0e(t){const e={},n=p(t,["anyOf"]);n!=null&&g(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&g(e,["default"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const a=p(t,["enum"]);a!=null&&g(e,["enum"],a);const o=p(t,["example"]);o!=null&&g(e,["example"],o);const l=p(t,["format"]);l!=null&&g(e,["format"],l);const c=p(t,["items"]);c!=null&&g(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&g(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&g(e,["maxLength"],h);const m=p(t,["maxProperties"]);m!=null&&g(e,["maxProperties"],m);const b=p(t,["maximum"]);b!=null&&g(e,["maximum"],b);const T=p(t,["minItems"]);T!=null&&g(e,["minItems"],T);const w=p(t,["minLength"]);w!=null&&g(e,["minLength"],w);const S=p(t,["minProperties"]);S!=null&&g(e,["minProperties"],S);const E=p(t,["minimum"]);E!=null&&g(e,["minimum"],E);const I=p(t,["nullable"]);I!=null&&g(e,["nullable"],I);const C=p(t,["pattern"]);C!=null&&g(e,["pattern"],C);const N=p(t,["properties"]);N!=null&&g(e,["properties"],N);const D=p(t,["propertyOrdering"]);D!=null&&g(e,["propertyOrdering"],D);const R=p(t,["required"]);R!=null&&g(e,["required"],R);const j=p(t,["title"]);j!=null&&g(e,["title"],j);const P=p(t,["type"]);return P!=null&&g(e,["type"],P),e}function G0e(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&g(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function H0e(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function W0e(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function K0e(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],W0e(n)),e}function Y0e(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function J0e(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],Y0e(n)),e}function X0e(){return{}}function Q0e(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>H0e(f))),g(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],K0e(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],J0e(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],X0e());const o=p(t,["codeExecution"]);o!=null&&g(e,["codeExecution"],o);const l=p(t,["computerUse"]);return l!=null&&g(e,["computerUse"],l),e}function Z0e(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function e_e(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function t_e(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],e_e(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function n_e(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],Z0e(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],t_e(r)),e}function r_e(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function tG(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],r_e(n)),e}function i_e(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],tG(r)),e}function a_e(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i_e(i))),g(e,["speakerVoiceConfigs"],r)}return e}function o_e(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],tG(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],a_e(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function s_e(t){const e={},n=p(t,["includeThoughts"]);n!=null&&g(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&g(e,["thinkingBudget"],r),e}function l_e(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],ex(yr(i)));const a=p(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&g(r,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&g(r,["stopSequences"],h);const m=p(e,["responseLogprobs"]);m!=null&&g(r,["responseLogprobs"],m);const b=p(e,["logprobs"]);b!=null&&g(r,["logprobs"],b);const T=p(e,["presencePenalty"]);T!=null&&g(r,["presencePenalty"],T);const w=p(e,["frequencyPenalty"]);w!=null&&g(r,["frequencyPenalty"],w);const S=p(e,["seed"]);S!=null&&g(r,["seed"],S);const E=p(e,["responseMimeType"]);E!=null&&g(r,["responseMimeType"],E);const I=p(e,["responseSchema"]);I!=null&&g(r,["responseSchema"],z0e(qN(I)));const C=p(e,["responseJsonSchema"]);if(C!=null&&g(r,["responseJsonSchema"],C),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let V=N;Array.isArray(V)&&(V=V.map(F=>G0e(F))),g(n,["safetySettings"],V)}const D=p(e,["tools"]);if(n!==void 0&&D!=null){let V=jf(D);Array.isArray(V)&&(V=V.map(F=>Q0e(Of(F)))),g(n,["tools"],V)}const R=p(e,["toolConfig"]);if(n!==void 0&&R!=null&&g(n,["toolConfig"],n_e(R)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=p(e,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],ko(t,j));const P=p(e,["responseModalities"]);P!=null&&g(r,["responseModalities"],P);const M=p(e,["mediaResolution"]);M!=null&&g(r,["mediaResolution"],M);const O=p(e,["speechConfig"]);if(O!=null&&g(r,["speechConfig"],o_e(FN(O))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=p(e,["thinkingConfig"]);return $!=null&&g(r,["thinkingConfig"],s_e($)),r}function xB(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["contents"]);if(i!=null){let o=Ii(i);Array.isArray(o)&&(o=o.map(l=>ex(l))),g(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],l_e(t,a,n)),n}function u_e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const a=p(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&g(e,["requests[]","outputDimensionality"],a),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function c_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["contents"]);i!=null&&g(n,["requests[]","content"],Vz(t,i));const a=p(e,["config"]);a!=null&&g(n,["config"],u_e(a,n));const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],It(t,o)),n}function f_e(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const a=p(t,["guidanceScale"]);if(e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const f=p(t,["includeRaiReason"]);e!==void 0&&f!=null&&g(e,["parameters","includeRaiReason"],f);const h=p(t,["language"]);e!==void 0&&h!=null&&g(e,["parameters","language"],h);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const b=p(t,["outputCompressionQuality"]);if(e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function d_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&g(n,["config"],f_e(a,n)),n}function h_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function p_e(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Bz(t,l)),r}function m_e(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],p_e(t,r,n)),n}function g_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function y_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],g_e(i,n)),n}function v_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function b_e(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function x_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["contents"]);if(i!=null){let o=Ii(i);Array.isArray(o)&&(o=o.map(l=>ex(l))),g(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&g(n,["config"],b_e(a)),n}function __e(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Io(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function T_e(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=p(t,["aspectRatio"]);if(e!==void 0&&a!=null&&g(e,["parameters","aspectRatio"],a),p(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const o=p(t,["personGeneration"]);if(e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const c=p(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&g(e,["parameters","enhancePrompt"],c),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function w_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=p(e,["image"]);if(a!=null&&g(n,["instances[0]","image"],__e(a)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=p(e,["config"]);return o!=null&&g(n,["config"],T_e(o,n)),n}function E_e(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function S_e(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function A_e(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function C_e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],E_e(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],S_e(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],A_e(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function Vf(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>C_e(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function N_e(t){const e={},n=p(t,["anyOf"]);n!=null&&g(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&g(e,["default"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const a=p(t,["enum"]);a!=null&&g(e,["enum"],a);const o=p(t,["example"]);o!=null&&g(e,["example"],o);const l=p(t,["format"]);l!=null&&g(e,["format"],l);const c=p(t,["items"]);c!=null&&g(e,["items"],c);const f=p(t,["maxItems"]);f!=null&&g(e,["maxItems"],f);const h=p(t,["maxLength"]);h!=null&&g(e,["maxLength"],h);const m=p(t,["maxProperties"]);m!=null&&g(e,["maxProperties"],m);const b=p(t,["maximum"]);b!=null&&g(e,["maximum"],b);const T=p(t,["minItems"]);T!=null&&g(e,["minItems"],T);const w=p(t,["minLength"]);w!=null&&g(e,["minLength"],w);const S=p(t,["minProperties"]);S!=null&&g(e,["minProperties"],S);const E=p(t,["minimum"]);E!=null&&g(e,["minimum"],E);const I=p(t,["nullable"]);I!=null&&g(e,["nullable"],I);const C=p(t,["pattern"]);C!=null&&g(e,["pattern"],C);const N=p(t,["properties"]);N!=null&&g(e,["properties"],N);const D=p(t,["propertyOrdering"]);D!=null&&g(e,["propertyOrdering"],D);const R=p(t,["required"]);R!=null&&g(e,["required"],R);const j=p(t,["title"]);j!=null&&g(e,["title"],j);const P=p(t,["type"]);return P!=null&&g(e,["type"],P),e}function k_e(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&g(e,["featureSelectionPreference"],n),e}function I_e(t){const e={},n=p(t,["method"]);n!=null&&g(e,["method"],n);const r=p(t,["category"]);r!=null&&g(e,["category"],r);const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function R_e(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const a=p(t,["parametersJsonSchema"]);a!=null&&g(e,["parametersJsonSchema"],a);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&g(e,["responseJsonSchema"],l),e}function P_e(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function M_e(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],P_e(n)),e}function D_e(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function O_e(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],D_e(n)),e}function j_e(){return{}}function L_e(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&g(e,["apiKeyString"],n),e}function V_e(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&g(e,["apiKeyConfig"],L_e(n));const r=p(t,["authType"]);r!=null&&g(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&g(e,["googleServiceAccountConfig"],i);const a=p(t,["httpBasicAuthConfig"]);a!=null&&g(e,["httpBasicAuthConfig"],a);const o=p(t,["oauthConfig"]);o!=null&&g(e,["oauthConfig"],o);const l=p(t,["oidcConfig"]);return l!=null&&g(e,["oidcConfig"],l),e}function U_e(t){const e={},n=p(t,["authConfig"]);return n!=null&&g(e,["authConfig"],V_e(n)),e}function $_e(){return{}}function nG(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(b=>R_e(b))),g(e,["functionDeclarations"],m)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&g(e,["googleSearch"],M_e(i));const a=p(t,["googleSearchRetrieval"]);a!=null&&g(e,["googleSearchRetrieval"],O_e(a)),p(t,["enterpriseWebSearch"])!=null&&g(e,["enterpriseWebSearch"],j_e());const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],U_e(l)),p(t,["urlContext"])!=null&&g(e,["urlContext"],$_e());const f=p(t,["codeExecution"]);f!=null&&g(e,["codeExecution"],f);const h=p(t,["computerUse"]);return h!=null&&g(e,["computerUse"],h),e}function B_e(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function q_e(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function F_e(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],q_e(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function z_e(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],B_e(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],F_e(r)),e}function G_e(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function H_e(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],G_e(n)),e}function W_e(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&g(e,["voiceConfig"],H_e(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function K_e(t){const e={},n=p(t,["includeThoughts"]);n!=null&&g(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&g(e,["thinkingBudget"],r),e}function Y_e(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Vf(yr(i)));const a=p(e,["temperature"]);a!=null&&g(r,["temperature"],a);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const f=p(e,["maxOutputTokens"]);f!=null&&g(r,["maxOutputTokens"],f);const h=p(e,["stopSequences"]);h!=null&&g(r,["stopSequences"],h);const m=p(e,["responseLogprobs"]);m!=null&&g(r,["responseLogprobs"],m);const b=p(e,["logprobs"]);b!=null&&g(r,["logprobs"],b);const T=p(e,["presencePenalty"]);T!=null&&g(r,["presencePenalty"],T);const w=p(e,["frequencyPenalty"]);w!=null&&g(r,["frequencyPenalty"],w);const S=p(e,["seed"]);S!=null&&g(r,["seed"],S);const E=p(e,["responseMimeType"]);E!=null&&g(r,["responseMimeType"],E);const I=p(e,["responseSchema"]);I!=null&&g(r,["responseSchema"],N_e(qN(I)));const C=p(e,["responseJsonSchema"]);C!=null&&g(r,["responseJsonSchema"],C);const N=p(e,["routingConfig"]);N!=null&&g(r,["routingConfig"],N);const D=p(e,["modelSelectionConfig"]);D!=null&&g(r,["modelConfig"],k_e(D));const R=p(e,["safetySettings"]);if(n!==void 0&&R!=null){let Z=R;Array.isArray(Z)&&(Z=Z.map(W=>I_e(W))),g(n,["safetySettings"],Z)}const j=p(e,["tools"]);if(n!==void 0&&j!=null){let Z=jf(j);Array.isArray(Z)&&(Z=Z.map(W=>nG(Of(W)))),g(n,["tools"],Z)}const P=p(e,["toolConfig"]);n!==void 0&&P!=null&&g(n,["toolConfig"],z_e(P));const M=p(e,["labels"]);n!==void 0&&M!=null&&g(n,["labels"],M);const O=p(e,["cachedContent"]);n!==void 0&&O!=null&&g(n,["cachedContent"],ko(t,O));const $=p(e,["responseModalities"]);$!=null&&g(r,["responseModalities"],$);const V=p(e,["mediaResolution"]);V!=null&&g(r,["mediaResolution"],V);const F=p(e,["speechConfig"]);F!=null&&g(r,["speechConfig"],W_e(FN(F)));const B=p(e,["audioTimestamp"]);B!=null&&g(r,["audioTimestamp"],B);const te=p(e,["thinkingConfig"]);return te!=null&&g(r,["thinkingConfig"],K_e(te)),r}function _B(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["contents"]);if(i!=null){let o=Ii(i);Array.isArray(o)&&(o=o.map(l=>Vf(l))),g(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&g(n,["generationConfig"],Y_e(t,a,n)),n}function J_e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const a=p(t,["outputDimensionality"]);e!==void 0&&a!=null&&g(e,["parameters","outputDimensionality"],a);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function X_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["contents"]);i!=null&&g(n,["instances[]","content"],Vz(t,i));const a=p(e,["config"]);return a!=null&&g(n,["config"],J_e(a,n)),n}function Q_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&g(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const m=p(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&g(e,["parameters","includeSafetyAttributes"],m);const b=p(t,["includeRaiReason"]);e!==void 0&&b!=null&&g(e,["parameters","includeRaiReason"],b);const T=p(t,["language"]);e!==void 0&&T!=null&&g(e,["parameters","language"],T);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","mimeType"],w);const S=p(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S);const E=p(t,["addWatermark"]);e!==void 0&&E!=null&&g(e,["parameters","addWatermark"],E);const I=p(t,["enhancePrompt"]);return e!==void 0&&I!=null&&g(e,["parameters","enhancePrompt"],I),n}function Z_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=p(e,["config"]);return a!=null&&g(n,["config"],Q_e(a,n)),n}function tx(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Io(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function eTe(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function tTe(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function nTe(t){const e={},n=p(t,["styleDescription"]);return n!=null&&g(e,["styleDescription"],n),e}function rTe(t){const e={},n=p(t,["subjectType"]);n!=null&&g(e,["subjectType"],n);const r=p(t,["subjectDescription"]);return r!=null&&g(e,["subjectDescription"],r),e}function iTe(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],tx(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const a=p(t,["maskImageConfig"]);a!=null&&g(e,["maskImageConfig"],eTe(a));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],tTe(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],nTe(l));const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],rTe(c)),e}function aTe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const a=p(t,["numberOfImages"]);e!==void 0&&a!=null&&g(e,["parameters","sampleCount"],a);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const f=p(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&g(e,["parameters","safetySetting"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const m=p(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&g(e,["parameters","includeSafetyAttributes"],m);const b=p(t,["includeRaiReason"]);e!==void 0&&b!=null&&g(e,["parameters","includeRaiReason"],b);const T=p(t,["language"]);e!==void 0&&T!=null&&g(e,["parameters","language"],T);const w=p(t,["outputMimeType"]);e!==void 0&&w!=null&&g(e,["parameters","outputOptions","mimeType"],w);const S=p(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S);const E=p(t,["addWatermark"]);e!==void 0&&E!=null&&g(e,["parameters","addWatermark"],E);const I=p(t,["editMode"]);e!==void 0&&I!=null&&g(e,["parameters","editMode"],I);const C=p(t,["baseSteps"]);return e!==void 0&&C!=null&&g(e,["parameters","editConfig","baseSteps"],C),n}function oTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=p(e,["referenceImages"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>iTe(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&g(n,["config"],aTe(o,n)),n}function sTe(t,e){const n={},r=p(t,["includeRaiReason"]);e!==void 0&&r!=null&&g(e,["parameters","includeRaiReason"],r);const i=p(t,["outputMimeType"]);e!==void 0&&i!=null&&g(e,["parameters","outputOptions","mimeType"],i);const a=p(t,["outputCompressionQuality"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","compressionQuality"],a);const o=p(t,["enhanceInputImage"]);e!==void 0&&o!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=p(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const c=p(t,["numberOfImages"]);e!==void 0&&c!=null&&g(e,["parameters","sampleCount"],c);const f=p(t,["mode"]);return e!==void 0&&f!=null&&g(e,["parameters","mode"],f),n}function lTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],tx(i));const a=p(e,["upscaleFactor"]);a!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=p(e,["config"]);return o!=null&&g(n,["config"],sTe(o,n)),n}function uTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function cTe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const a=p(e,["pageToken"]);n!==void 0&&a!=null&&g(n,["_query","pageToken"],a);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Bz(t,l)),r}function fTe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],cTe(t,r,n)),n}function dTe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const a=p(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&g(e,["defaultCheckpointId"],a),n}function hTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],dTe(i,n)),n}function pTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function mTe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Vf(yr(r)));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>nG(l))),g(e,["tools"],o)}const a=p(t,["generationConfig"]);return e!==void 0&&a!=null&&g(e,["generationConfig"],a),n}function gTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["contents"]);if(i!=null){let o=Ii(i);Array.isArray(o)&&(o=o.map(l=>Vf(l))),g(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&g(n,["config"],mTe(a,n)),n}function yTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["contents"]);if(i!=null){let o=Ii(i);Array.isArray(o)&&(o=o.map(l=>Vf(l))),g(n,["contents"],o)}const a=p(e,["config"]);return a!=null&&g(n,["config"],a),n}function vTe(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Io(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function bTe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const a=p(t,["fps"]);e!==void 0&&a!=null&&g(e,["parameters","fps"],a);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const f=p(t,["resolution"]);e!==void 0&&f!=null&&g(e,["parameters","resolution"],f);const h=p(t,["personGeneration"]);e!==void 0&&h!=null&&g(e,["parameters","personGeneration"],h);const m=p(t,["pubsubTopic"]);e!==void 0&&m!=null&&g(e,["parameters","pubsubTopic"],m);const b=p(t,["negativePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","negativePrompt"],b);const T=p(t,["enhancePrompt"]);e!==void 0&&T!=null&&g(e,["parameters","enhancePrompt"],T);const w=p(t,["generateAudio"]);e!==void 0&&w!=null&&g(e,["parameters","generateAudio"],w);const S=p(t,["lastFrame"]);e!==void 0&&S!=null&&g(e,["instances[0]","lastFrame"],tx(S));const E=p(t,["compressionQuality"]);return e!==void 0&&E!=null&&g(e,["parameters","compressionQuality"],E),n}function xTe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],It(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const a=p(e,["image"]);a!=null&&g(n,["instances[0]","image"],tx(a));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],vTe(o));const l=p(e,["config"]);return l!=null&&g(n,["config"],bTe(l,n)),n}function _Te(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function TTe(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wTe(t){const e={},n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ETe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],_Te(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],TTe(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],wTe(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function STe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ETe(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function ATe(t){const e={},n=p(t,["citationSources"]);return n!=null&&g(e,["citations"],n),e}function CTe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function NTe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CTe(i))),g(e,["urlMetadata"],r)}return e}function kTe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],STe(n));const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],ATe(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const o=p(t,["urlContextMetadata"]);o!=null&&g(e,["urlContextMetadata"],NTe(o));const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&g(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);return m!=null&&g(e,["safetyRatings"],m),e}function TB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>kTe(c))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const a=p(t,["promptFeedback"]);a!=null&&g(e,["promptFeedback"],a);const o=p(t,["usageMetadata"]);return o!=null&&g(e,["usageMetadata"],o),e}function ITe(t){const e={},n=p(t,["values"]);return n!=null&&g(e,["values"],n),e}function RTe(){return{}}function PTe(t){const e={},n=p(t,["embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ITe(a))),g(e,["embeddings"],i)}return p(t,["metadata"])!=null&&g(e,["metadata"],RTe()),e}function MTe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Io(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rG(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function DTe(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],MTe(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],rG(i)),e}function OTe(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>DTe(a))),g(e,["generatedImages"],i)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],rG(r)),e}function jTe(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function NC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const a=p(t,["version"]);a!=null&&g(e,["version"],a);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],jTe(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const f=p(t,["supportedGenerationMethods"]);return f!=null&&g(e,["supportedActions"],f),e}function LTe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["_self"]);if(r!=null){let i=qz(r);Array.isArray(i)&&(i=i.map(a=>NC(a))),g(e,["models"],i)}return e}function VTe(){return{}}function UTe(t){const e={},n=p(t,["totalTokens"]);n!=null&&g(e,["totalTokens"],n);const r=p(t,["cachedContentTokenCount"]);return r!=null&&g(e,["cachedContentTokenCount"],r),e}function $Te(t){const e={},n=p(t,["video","uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&g(e,["videoBytes"],Io(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function BTe(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],$Te(n)),e}function qTe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>BTe(o))),g(e,["generatedVideos"],a)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function FTe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],qTe(o)),e}function zTe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function GTe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function HTe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function WTe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],zTe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],GTe(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],HTe(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function KTe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>WTe(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function YTe(t){const e={},n=p(t,["citations"]);return n!=null&&g(e,["citations"],n),e}function JTe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function XTe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>JTe(i))),g(e,["urlMetadata"],r)}return e}function QTe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],KTe(n));const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],YTe(r));const i=p(t,["finishMessage"]);i!=null&&g(e,["finishMessage"],i);const a=p(t,["finishReason"]);a!=null&&g(e,["finishReason"],a);const o=p(t,["urlContextMetadata"]);o!=null&&g(e,["urlContextMetadata"],XTe(o));const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const f=p(t,["index"]);f!=null&&g(e,["index"],f);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);return m!=null&&g(e,["safetyRatings"],m),e}function wB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>QTe(h))),g(e,["candidates"],f)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const l=p(t,["promptFeedback"]);l!=null&&g(e,["promptFeedback"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function ZTe(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function ewe(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],ZTe(r)),e}function twe(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&g(e,["billableCharacterCount"],n),e}function nwe(t){const e={},n=p(t,["predictions[]","embeddings"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>ewe(a))),g(e,["embeddings"],i)}const r=p(t,["metadata"]);return r!=null&&g(e,["metadata"],twe(r)),e}function rwe(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Io(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function iG(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function GN(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],rwe(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],iG(i));const a=p(t,["prompt"]);return a!=null&&g(e,["enhancedPrompt"],a),e}function iwe(t){const e={},n=p(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>GN(a))),g(e,["generatedImages"],i)}const r=p(t,["positivePromptSafetyAttributes"]);return r!=null&&g(e,["positivePromptSafetyAttributes"],iG(r)),e}function awe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>GN(i))),g(e,["generatedImages"],r)}return e}function owe(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>GN(i))),g(e,["generatedImages"],r)}return e}function swe(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function lwe(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function uwe(t){const e={},n=p(t,["checkpointId"]);n!=null&&g(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&g(e,["epoch"],r);const i=p(t,["step"]);return i!=null&&g(e,["step"],i),e}function kC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const a=p(t,["versionId"]);a!=null&&g(e,["version"],a);const o=p(t,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(b=>swe(b))),g(e,["endpoints"],m)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],lwe(c));const f=p(t,["defaultCheckpointId"]);f!=null&&g(e,["defaultCheckpointId"],f);const h=p(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(b=>uwe(b))),g(e,["checkpoints"],m)}return e}function cwe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["_self"]);if(r!=null){let i=qz(r);Array.isArray(i)&&(i=i.map(a=>kC(a))),g(e,["models"],i)}return e}function fwe(){return{}}function dwe(t){const e={},n=p(t,["totalTokens"]);return n!=null&&g(e,["totalTokens"],n),e}function hwe(t){const e={},n=p(t,["tokensInfo"]);return n!=null&&g(e,["tokensInfo"],n),e}function pwe(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Io(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function mwe(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],pwe(n)),e}function gwe(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>mwe(o))),g(e,["generatedVideos"],a)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function ywe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const o=p(t,["response"]);return o!=null&&g(e,["response"],gwe(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vwe="Content-Type",bwe="X-Server-Timeout",xwe="User-Agent",IC="x-goog-api-client",_we="1.10.0",Twe=`google-genai-sdk/${_we}`,wwe="v1beta1",Ewe="v1beta",EB=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Swe{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:wwe,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Ewe,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const i=new AbortController,a=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=a}return n&&n.extraBody!==null&&Awe(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await SB(i),new TC(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await SB(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return kc(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:c}=yield Jt(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(c,{stream:!0});try{const m=JSON.parse(f);if("error"in m){const b=JSON.parse(JSON.stringify(m.error)),T=b.status,w=b.code,S=`got status: ${T}. ${JSON.stringify(m)}`;if(w>=400&&w<600)throw new Zb({message:S,status:w})}}catch(m){if(m.name==="ApiError")throw m}o+=f;let h=o.match(EB);for(;h;){const m=h[1];try{const b=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Jt(new TC(b)),o=o.slice(h[0].length),h=o.match(EB)}catch(b){throw new Error(`exception parsing stream chunk ${m}. ${b}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Twe+" "+this.clientOptions.userAgentExtra;return e[xwe]=n,e[IC]=n,e[vwe]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(bwe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,o=await a.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c=await this.fetchUploadUrl(i,n);return a.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},o=await this.request({path:Oe("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function SB(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Zb({message:i,status:n}):new Error(i)}}function Awe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,o){const l=Object.assign({},a);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const f=o[c],h=l[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[c]=f)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cwe="mcp_used/unknown";let Nwe=!1;function aG(t){for(const e of t)if(HN(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Nwe}function oG(t){var e;const n=(e=t[IC])!==null&&e!==void 0?e:"";t[IC]=(n+` ${Cwe}`).trimStart()}function kwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>HN(i)))!==null&&r!==void 0?r:!1}function Iwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!HN(i)))!==null&&r!==void 0?r:!1}function HN(t){return t!==null&&typeof t=="object"&&t instanceof WN}function Rwe(t,e=100){return kc(this,arguments,function*(){let r,i=0;for(;i<e;){const a=yield Jt(t.listTools({cursor:r}));for(const o of a.tools)yield yield Jt(o),i++;if(!a.nextCursor)break;r=a.nextCursor}})}class WN{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new WN(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},o=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,kh(Rwe(h))),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const m=i;o.push(m);const b=m.name;if(a[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);a[b]=h}}catch(m){n={error:m}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),Sye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Pwe(t,e,n){const r=new yye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data);const a=S0e(i);Object.assign(r,a),e(r)}class Mwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=jwe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(N=>{f=N}),m=e.callbacks,b=function(){f({})},T=this.apiClient,w={onopen:b,onmessage:N=>{Pwe(T,m.onmessage,N)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(N){}},S=this.webSocketFactory.create(c,Owe(o),w);S.connect(),await h;const E=It(this.apiClient,e.model),I=Zz({model:E}),C=CC({setup:I});return S.send(JSON.stringify(C)),new Dwe(S,this.apiClient)}}class Dwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=wxe(e),r=eG(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Exe(e),r=CC(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=CC({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(yc.PLAY)}pause(){this.sendPlaybackControl(yc.PAUSE)}stop(){this.sendPlaybackControl(yc.STOP)}resetContext(){this.sendPlaybackControl(yc.RESET_CONTEXT)}close(){this.conn.close()}}function Owe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function jwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lwe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Vwe(t,e,n){const r=new gye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const o=U0e(a);Object.assign(r,o)}else{const o=g0e(a);Object.assign(r,o)}e(r)}class Uwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Mwe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&aG(e.config.tools)&&oG(m);const b=Fwe(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b);else{const O=this.apiClient.getApiKey();let $="BidiGenerateContent",V="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",V="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${$}?${V}=${O}`}let T=()=>{};const w=new Promise(O=>{T=O}),S=e.callbacks,E=function(){var O;(O=S==null?void 0:S.onopen)===null||O===void 0||O.call(S),T({})},I=this.apiClient,C={onopen:E,onmessage:O=>{Vwe(I,S.onmessage,O)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(O){}},N=this.webSocketFactory.create(h,qwe(b),C);N.connect(),await w;let D=It(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&D.startsWith("publishers/")){const O=this.apiClient.getProject(),$=this.apiClient.getLocation();D=`projects/${O}/locations/${$}/`+D}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pv.AUDIO]}:e.config.responseModalities=[Pv.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],P=[];for(const O of j)if(this.isCallableTool(O)){const $=O;P.push(await $.tool())}else P.push(O);P.length>0&&(e.config.tools=P);const M={model:D,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=Xxe(this.apiClient,M):R=bxe(this.apiClient,M),delete R.config,N.send(JSON.stringify(R)),new Bwe(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const $we={turnComplete:!0};class Bwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ii(n.turns),e.isVertexAI()?r=r.map(i=>Vf(i)):r=r.map(i=>ex(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(Lwe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},$we),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:e0e(e)}:n={realtimeInput:Txe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function qwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function Fwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AB=10;function CB(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(hy(o)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function hy(t){return"callTool"in t&&typeof t.callTool=="function"}function NB(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zwe extends du{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,o,l;const c=await this.processParamsForMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!kwe(n)||CB(n.config))return await this.generateContentInternal(c);if(Iwe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,h;const m=Ii(c.contents),b=(a=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:AB;let T=0;for(;T<b&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const w=f.candidates[0].content,S=[];for(const E of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(hy(E)){const C=await E.callTool(f.functionCalls);S.push(...C)}T++,h={role:"user",parts:S},c.contents=Ii(c.contents),c.contents.push(w),c.contents.push(h),NB(c.config)&&(m.push(w),m.push(h))}return NB(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),CB(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=c==null?void 0:c.safetyAttributes:o.push(c);let l;return a?l={generatedImages:o,positivePromptSafetyAttributes:a}:l={generatedImages:o},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Zp(Ql.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsForMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const o=await Promise.all(a.map(async c=>hy(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&aG(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),oG(f),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(hy(o)){const l=o,c=await l.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,l)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:AB;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(f,h,m){var b,T;return kc(this,arguments,function*(){for(var w,S,E,I;l<a;){o&&(l++,o=!1);const R=yield Jt(f.processParamsForMcpUsage(m)),j=yield Jt(f.generateContentStreamInternal(R)),P=[],M=[];try{for(var C=!0,N=(S=void 0,kh(j)),D;D=yield Jt(N.next()),w=D.done,!w;C=!0){I=D.value,C=!1;const O=I;if(yield yield Jt(O),O.candidates&&(!((b=O.candidates[0])===null||b===void 0)&&b.content)){M.push(O.candidates[0].content);for(const $ of(T=O.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(l<a&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has($.functionCall.name)){const V=yield Jt(h.get($.functionCall.name).callTool([$.functionCall]));P.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(O){S={error:O}}finally{try{!C&&!w&&(E=N.return)&&(yield Jt(E.call(N)))}finally{if(S)throw S.error}}if(P.length>0){o=!0;const O=new rh;O.candidates=[{content:{role:"user",parts:P}}],yield yield Jt(O);const $=[];$.push(...M),$.push({role:"user",parts:P});const V=Ii(m.contents).concat($);m.contents=V}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=_B(this.apiClient,e);return l=Oe("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),o.then(h=>{const m=wB(h),b=new rh;return Object.assign(b,m),b})}else{const f=xB(this.apiClient,e);return l=Oe("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const b=m;return b.sdkHttpResponse={headers:h.headers},b})),o.then(h=>{const m=TB(h),b=new rh;return Object.assign(b,m),b})}}async generateContentStreamInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=_B(this.apiClient,e);return l=Oe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(m){return kc(this,arguments,function*(){var b,T,w,S;try{for(var E=!0,I=kh(m),C;C=yield Jt(I.next()),b=C.done,!b;E=!0){S=C.value,E=!1;const N=S,D=wB(yield Jt(N.json()));D.sdkHttpResponse={headers:N.headers};const R=new rh;Object.assign(R,D),yield yield Jt(R)}}catch(N){T={error:N}}finally{try{!E&&!b&&(w=I.return)&&(yield Jt(w.call(I)))}finally{if(T)throw T.error}}})})}else{const f=xB(this.apiClient,e);return l=Oe("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(m){return kc(this,arguments,function*(){var b,T,w,S;try{for(var E=!0,I=kh(m),C;C=yield Jt(I.next()),b=C.done,!b;E=!0){S=C.value,E=!1;const N=S,D=TB(yield Jt(N.json()));D.sdkHttpResponse={headers:N.headers};const R=new rh;Object.assign(R,D),yield yield Jt(R)}}catch(N){T={error:N}}finally{try{!E&&!b&&(w=I.return)&&(yield Jt(w.call(I)))}finally{if(T)throw T.error}}})})}}async embedContent(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=X_e(this.apiClient,e);return l=Oe("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=nwe(h),b=new eB;return Object.assign(b,m),b})}else{const f=c_e(this.apiClient,e);return l=Oe("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const m=PTe(h),b=new eB;return Object.assign(b,m),b})}}async generateImagesInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Z_e(this.apiClient,e);return l=Oe("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=iwe(h),b=new tB;return Object.assign(b,m),b})}else{const f=d_e(this.apiClient,e);return l=Oe("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const m=OTe(h),b=new tB;return Object.assign(b,m),b})}}async editImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=oTe(this.apiClient,e);return a=Oe("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=awe(c),h=new cye;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=lTe(this.apiClient,e);return a=Oe("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=owe(c),h=new fye;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=uTe(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>kC(h))}else{const f=h_e(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>NC(h))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=fTe(this.apiClient,e);return l=Oe("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=cwe(h),b=new nB;return Object.assign(b,m),b})}else{const f=m_e(this.apiClient,e);return l=Oe("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const m=LTe(h),b=new nB;return Object.assign(b,m),b})}}async update(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=hTe(this.apiClient,e);return l=Oe("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>kC(h))}else{const f=y_e(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>NC(h))}}async delete(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=pTe(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(()=>{const h=fwe(),m=new rB;return Object.assign(m,h),m})}else{const f=v_e(this.apiClient,e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(()=>{const h=VTe(),m=new rB;return Object.assign(m,h),m})}}async countTokens(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=gTe(this.apiClient,e);return l=Oe("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=dwe(h),b=new iB;return Object.assign(b,m),b})}else{const f=x_e(this.apiClient,e);return l=Oe("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const m=UTe(h),b=new iB;return Object.assign(b,m),b})}}async computeTokens(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=yTe(this.apiClient,e);return a=Oe("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=hwe(c),h=new dye;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=xTe(this.apiClient,e);return l=Oe("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>ywe(h))}else{const f=w_e(this.apiClient,e);return l=Oe("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>FTe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gwe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function Hwe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function Wwe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);r!=null&&g(e,["_url","resourceName"],r);const i=p(t,["config"]);return i!=null&&g(e,["config"],i),e}function Kwe(t){const e={},n=p(t,["video","uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&g(e,["videoBytes"],Io(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function Ywe(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],Kwe(n)),e}function Jwe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Ywe(o))),g(e,["generatedVideos"],a)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Xwe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],Jwe(o)),e}function Qwe(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Io(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Zwe(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],Qwe(n)),e}function eEe(t){const e={},n=p(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Zwe(o))),g(e,["generatedVideos"],a)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function kB(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);a!=null&&g(e,["error"],a);const o=p(t,["response"]);return o!=null&&g(e,["response"],eEe(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tEe extends du{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;return r&&"httpOptions"in r&&(a=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=Hwe(e);return l=Oe("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>kB(h))}else{const f=Gwe(e);return l=Oe("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>Xwe(h))}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=Wwe(e);return a=Oe("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>kB(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nEe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function sG(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],nEe(n)),e}function rEe(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],sG(r)),e}function iEe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rEe(i))),g(e,["speakerVoiceConfigs"],r)}return e}function aEe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],sG(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],iEe(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function oEe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function sEe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function lEe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function uEe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],oEe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],sEe(i));const a=p(t,["fileData"]);a!=null&&g(e,["fileData"],lEe(a));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const c=p(t,["executableCode"]);c!=null&&g(e,["executableCode"],c);const f=p(t,["functionCall"]);f!=null&&g(e,["functionCall"],f);const h=p(t,["functionResponse"]);h!=null&&g(e,["functionResponse"],h);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function cEe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>uEe(a))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function fEe(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const a=p(t,["parameters"]);a!=null&&g(e,["parameters"],a);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function dEe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function hEe(t){const e={},n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],dEe(n)),e}function pEe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function mEe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],pEe(n)),e}function gEe(){return{}}function yEe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>fEe(f))),g(e,["functionDeclarations"],c)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],hEe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],mEe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],gEe());const o=p(t,["codeExecution"]);o!=null&&g(e,["codeExecution"],o);const l=p(t,["computerUse"]);return l!=null&&g(e,["computerUse"],l),e}function vEe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function IB(){return{}}function bEe(t){const e={},n=p(t,["disabled"]);n!=null&&g(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&g(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&g(e,["endOfSpeechSensitivity"],i);const a=p(t,["prefixPaddingMs"]);a!=null&&g(e,["prefixPaddingMs"],a);const o=p(t,["silenceDurationMs"]);return o!=null&&g(e,["silenceDurationMs"],o),e}function xEe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&g(e,["automaticActivityDetection"],bEe(n));const r=p(t,["activityHandling"]);r!=null&&g(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&g(e,["turnCoverage"],i),e}function _Ee(t){const e={},n=p(t,["targetTokens"]);return n!=null&&g(e,["targetTokens"],n),e}function TEe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&g(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&g(e,["slidingWindow"],_Ee(r)),e}function wEe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&g(e,["proactiveAudio"],n),e}function EEe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const a=p(t,["temperature"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","temperature"],a);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const f=p(t,["mediaResolution"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","mediaResolution"],f);const h=p(t,["seed"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","seed"],h);const m=p(t,["speechConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","speechConfig"],aEe(zN(m)));const b=p(t,["enableAffectiveDialog"]);e!==void 0&&b!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],b);const T=p(t,["systemInstruction"]);e!==void 0&&T!=null&&g(e,["setup","systemInstruction"],cEe(yr(T)));const w=p(t,["tools"]);if(e!==void 0&&w!=null){let R=jf(w);Array.isArray(R)&&(R=R.map(j=>yEe(Of(j)))),g(e,["setup","tools"],R)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],vEe(S));const E=p(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&g(e,["setup","inputAudioTranscription"],IB());const I=p(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&g(e,["setup","outputAudioTranscription"],IB());const C=p(t,["realtimeInputConfig"]);e!==void 0&&C!=null&&g(e,["setup","realtimeInputConfig"],xEe(C));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],TEe(N));const D=p(t,["proactivity"]);return e!==void 0&&D!=null&&g(e,["setup","proactivity"],wEe(D)),n}function SEe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],It(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],EEe(i,n)),n}function AEe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const a=p(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&g(n,["newSessionExpireTime"],a);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],SEe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function CEe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],AEe(t,r,n)),n}function NEe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kEe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function IEe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=kEe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(f=>o.includes(f)?`generationConfig.${f}`:f));const c=[];a&&c.push(a),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class REe extends du{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=CEe(this.apiClient,e);a=Oe("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=IEe(l,e.config);return i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>NEe(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PEe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function MEe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function DEe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],MEe(n,e)),e}function OEe(t){const e={},n=p(t,["textInput"]);n!=null&&g(e,["textInput"],n);const r=p(t,["output"]);return r!=null&&g(e,["output"],r),e}function jEe(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>OEe(i))),g(e,["examples","examples"],r)}return e}function LEe(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&g(e,["tuningTask","hyperparameters","epochCount"],i);const a=p(t,["learningRateMultiplier"]);if(a!=null&&g(n,["tuningTask","hyperparameters","learningRateMultiplier"],a),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=p(t,["batchSize"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","batchSize"],o);const l=p(t,["learningRate"]);return e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),n}function VEe(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["trainingDataset"]);r!=null&&g(e,["tuningTask","trainingData"],jEe(r));const i=p(t,["config"]);return i!=null&&g(e,["config"],LEe(i,e)),e}function UEe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function $Ee(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const a=p(t,["filter"]);return e!==void 0&&a!=null&&g(e,["_query","filter"],a),n}function BEe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],$Ee(n,e)),e}function qEe(t,e){const n={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],i),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function FEe(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function zEe(t,e){const n={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&g(e,["supervisedTuningSpec"],FEe(r,n));const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&g(e,["tunedModelDisplayName"],i);const a=p(t,["description"]);e!==void 0&&a!=null&&g(e,["description"],a);const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const l=p(t,["learningRateMultiplier"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],l);const c=p(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=p(t,["adapterSize"]);if(e!==void 0&&f!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function GEe(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["trainingDataset"]);r!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],qEe(r,e));const i=p(t,["config"]);return i!=null&&g(e,["config"],zEe(i,e)),e}function HEe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["model"],n);const r=p(t,["name"]);return r!=null&&g(e,["endpoint"],r),e}function lG(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["state"]);r!=null&&g(e,["state"],Uz(r));const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const a=p(t,["tuningTask","startTime"]);a!=null&&g(e,["startTime"],a);const o=p(t,["tuningTask","completeTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["description"]);c!=null&&g(e,["description"],c);const f=p(t,["baseModel"]);f!=null&&g(e,["baseModel"],f);const h=p(t,["_self"]);h!=null&&g(e,["tunedModel"],HEe(h));const m=p(t,["distillationSpec"]);m!=null&&g(e,["distillationSpec"],m);const b=p(t,["experiment"]);b!=null&&g(e,["experiment"],b);const T=p(t,["labels"]);T!=null&&g(e,["labels"],T);const w=p(t,["pipelineJob"]);w!=null&&g(e,["pipelineJob"],w);const S=p(t,["satisfiesPzi"]);S!=null&&g(e,["satisfiesPzi"],S);const E=p(t,["satisfiesPzs"]);E!=null&&g(e,["satisfiesPzs"],E);const I=p(t,["serviceAccount"]);I!=null&&g(e,["serviceAccount"],I);const C=p(t,["tunedModelDisplayName"]);return C!=null&&g(e,["tunedModelDisplayName"],C),e}function WEe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["tunedModels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>lG(a))),g(e,["tuningJobs"],i)}return e}function KEe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const a=p(t,["error"]);return a!=null&&g(e,["error"],a),e}function YEe(t){const e={},n=p(t,["checkpointId"]);n!=null&&g(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&g(e,["epoch"],r);const i=p(t,["step"]);i!=null&&g(e,["step"],i);const a=p(t,["endpoint"]);return a!=null&&g(e,["endpoint"],a),e}function JEe(t){const e={},n=p(t,["model"]);n!=null&&g(e,["model"],n);const r=p(t,["endpoint"]);r!=null&&g(e,["endpoint"],r);const i=p(t,["checkpoints"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>YEe(o))),g(e,["checkpoints"],a)}return e}function RC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["state"]);r!=null&&g(e,["state"],Uz(r));const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const a=p(t,["startTime"]);a!=null&&g(e,["startTime"],a);const o=p(t,["endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["error"]);c!=null&&g(e,["error"],c);const f=p(t,["description"]);f!=null&&g(e,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(e,["baseModel"],h);const m=p(t,["tunedModel"]);m!=null&&g(e,["tunedModel"],JEe(m));const b=p(t,["supervisedTuningSpec"]);b!=null&&g(e,["supervisedTuningSpec"],b);const T=p(t,["tuningDataStats"]);T!=null&&g(e,["tuningDataStats"],T);const w=p(t,["encryptionSpec"]);w!=null&&g(e,["encryptionSpec"],w);const S=p(t,["partnerModelTuningSpec"]);S!=null&&g(e,["partnerModelTuningSpec"],S);const E=p(t,["distillationSpec"]);E!=null&&g(e,["distillationSpec"],E);const I=p(t,["experiment"]);I!=null&&g(e,["experiment"],I);const C=p(t,["labels"]);C!=null&&g(e,["labels"],C);const N=p(t,["pipelineJob"]);N!=null&&g(e,["pipelineJob"],N);const D=p(t,["satisfiesPzi"]);D!=null&&g(e,["satisfiesPzi"],D);const R=p(t,["satisfiesPzs"]);R!=null&&g(e,["satisfiesPzs"],R);const j=p(t,["serviceAccount"]);j!=null&&g(e,["serviceAccount"],j);const P=p(t,["tunedModelDisplayName"]);return P!=null&&g(e,["tunedModelDisplayName"],P),e}function XEe(t){const e={},n=p(t,["nextPageToken"]);n!=null&&g(e,["nextPageToken"],n);const r=p(t,["tuningJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>RC(a))),g(e,["tuningJobs"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QEe extends du{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Zp(Ql.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let i="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?i=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(i=r.name.split("/operations/")[0]),{name:i,state:_C.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=UEe(e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>RC(h))}else{const f=PEe(e);return l=Oe("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>lG(h))}}async listInternal(e){var n,r,i,a;let o,l="",c={};if(this.apiClient.isVertexAI()){const f=BEe(e);return l=Oe("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),o.then(h=>{const m=XEe(h),b=new aB;return Object.assign(b,m),b})}else{const f=DEe(e);return l=Oe("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),o.then(h=>{const m=WEe(h),b=new aB;return Object.assign(b,m),b})}}async tuneInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI()){const l=GEe(e);return a=Oe("tuningJobs",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>RC(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=VEe(e);return a=Oe("tunedModels",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>KEe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZEe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eSe=1024*1024*8,tSe=3,nSe=1e3,rSe=2,TS="x-goog-upload-status";async function iSe(t,e,n){var r,i,a;let o=0,l=0,c=new TC(new Response),f="upload";for(o=t.size;l<o;){const m=Math.min(eSe,o-l),b=t.slice(l,l+m);l+m>=o&&(f+=", finalize");let T=0,w=nSe;for(;T<tSe&&(c=await n.request({path:"",body:b,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(m)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[TS]));)T++,await oSe(w),w=w*rSe;if(l+=m,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[TS])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const h=await(c==null?void 0:c.json());if(((a=c==null?void 0:c.headers)===null||a===void 0?void 0:a[TS])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return h.file}async function aSe(t){return{size:t.size,type:t.type}}function oSe(t){return new Promise(e=>setTimeout(e,t))}class sSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lSe{create(e,n,r){return new uSe(e,n,r)}}class uSe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RB="x-goog-api-key";class cSe{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(RB)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(RB,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fSe="gl-node/";class uG{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=uye(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new cSe(this.apiKey);this.apiClient=new Swe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:fSe+"web",uploader:new sSe,downloader:new ZEe}),this.models=new zwe(this.apiClient),this.live=new Uwe(this.apiClient,i,new lSe),this.batches=new Pve(this.apiClient),this.chats=new jbe(this.models,this.apiClient),this.caches=new Mbe(this.apiClient),this.files=new Ybe(this.apiClient),this.operations=new tEe(this.apiClient),this.authTokens=new REe(this.apiClient),this.tunings=new QEe(this.apiClient)}}const Dv="/images/Schuldhulpje.webp",_i={persona:`Je bent Schuldhulpje, een vriendelijke, empathische en deskundige financile AI-assistent. Je afbeelding is ${Dv}. Je naam is Schuldhulpje. Je helpt gebruikers met het beheren van hun schulden, budgetteren en het verbeteren van hun financile situatie.`,communicationRules:"**BELANGRIJK: Personalisatie en Natuurlijke Taal**\n- **Aanspreken:** Spreek de gebruiker aan met hun voornaam (beschikbaar in `user.firstName` in de data context).\n- **Vermijd Absoluut Technische Termen:** Noem **NOOIT** interne veldnamen (zoals `creditorName`, `totalAmount`, etc.). Omschrijf de betekenis in natuurlijke taal.",dataContextIntro:"Jouw Data Context (zal als JSON string worden meegegeven). **Gebruik de betekenis van deze velden, niet de veldnamen zelf.**",dataContextSchema:"- `user`: Informatie over de gebruiker (naam, email, gemeente, geboortedatum, etc.).\n- `currentDate`: De huidige datum (YYYY-MM-DD).\n- `debts`: Lijst van schulden. **BELANGRIJK**: Elk schuldobject bevat `totalAmount` (oorspronkelijke bedrag), `totalPaid` (reeds betaald), en `remainingAmount` (het openstaande bedrag). Gebruik **ALTIJD** het veld `remainingAmount` voor vragen over de huidige openstaande schuld.\n- `incomes`: Lijst van inkomsten.\n- `expenses`: Lijst van uitgaven.",actionFlow:'**Action Flow**\nJouw primaire functie is om te fungeren als een intelligente assistent voor het invullen van formulieren. Wanneer een gebruiker een schuld, inkomen of uitgave wil toevoegen:\n1. Verzamel alle benodigde informatie via een natuurlijk gesprek.\n2. Zodra je alle benodigde gegevens hebt, **MOET** je reageren met **ALLEEN een enkel, onbewerkt JSON-object**. Wikkel het niet in markdown en voeg geen gesprekstekst toe.\nHet JSON-object moet deze structuur hebben:\n`{"action": "[action_type]", "confirmation_text": "[your_summary]", "payload": { ...data... }}`\n- `action`: Het type actie. Mogelijke waarden: `propose_add_debt`, `propose_add_income`, `propose_add_expense`.\n- `confirmation_text`: (Optioneel) Een korte, vriendelijke samenvatting die getoond wordt voordat het formulier opent. Voorbeeld: "Ok Alex, ik open het formulier voor je om de schuld bij Klarna toe te voegen."\n- `payload`: Een JSON-object met de gegevens voor het formulier.\nDe applicatie zal deze JSON gebruiken om direct het juiste formulier te openen en de `payload` data vooraf in te vullen. De gebruiker kan dan de gegevens controleren en bevestigen.\n\n**Belangrijk**: De logica voor betalingen is versimpeld. Er zijn geen \'handmatige betalingen\' meer. Als een gebruiker een extra betaling heeft gedaan, adviseer hem dan om het \'totaalbedrag\' van de betreffende schuld aan te passen in het schuld-bewerk formulier. Log GEEN losse betalingen.',capabilities:{general:`**Jouw Mogelijkheden:**
- **Gepersonaliseerde Strategien**: Analyseer schulden en financin en stel strategien voor.
- **Budgetcoach**: Analyseer uitgaven, signaleer trends, geef bespaartips.
- **Informatie met Onderzoek**: Gebruik Google Search voor actuele vragen. **Vermeld ALTIJD de gebruikte webbronnen.**`,emailGenerator:"**E-mail Generator:** Wanneer getriggerd, genereer een professionele e-mail. Output structuur: inleidende zin, dan `---EMAIL_BODY_STARTS_HERE---`, de e-mailtekst, dan `---SUBJECT_STARTS_HERE---`, en de onderwerpregel.",overviewGenerator:`**Overzicht Genereren (Strikt Formaat):** Wanneer een gebruiker om een financieel overzicht vraagt via de "Overzicht" knop, **MOET** je antwoorden met **UITSLUITEND** de volgende Markdown-structuur. Voeg geen extra tekst, uitleg of groeten toe. Gebruik de data uit de context om alle velden en totalen in te vullen.
###  Financieel Overzicht {{user.firstName}} - {{currentMonth}} {{currentYear}}


** Inkomsten**
- Salaris: {{salaris bedrag}}
- Freelance werk: {{freelance bedrag}}

***Totaal inkomsten: {{totaal inkomsten}}***

** Uitgaven**
- Huur: {{huur bedrag}}
- Boodschappen: {{boodschappen bedrag}}
- Verzekeringen: {{verzekeringen bedrag}}

***Totaal uitgaven: {{totaal uitgaven}}***

** Schulden**
- {{schuld 1 naam}}: {{schuld 1 bedrag}}
- {{schuld 2 naam}}: {{schuld 2 bedrag}}

***Totaal schulden: {{totaal schulden}}***
Vervang de placeholders \`{{...}}\` met de daadwerkelijke data en berekende totalen. De maand en het jaar moeten de huidige maand en het jaar zijn, op basis van \`currentDate\`.`,financialAnalysisGenerator:`**Financile Analyse Genereren (Strikt Formaat):** Wanneer een gebruiker om een analyse vraagt via de "Analyse" knop, **MOET** je antwoorden met **UITSLUITEND** de volgende Markdown-structuur. Voeg geen extra tekst, uitleg of groeten toe. Gebruik de data uit de context om alle velden in te vullen.
###  Jouw Financile Analyse - {{currentMonth}} {{currentYear}}

Hey {{user.firstName}}, goed dat je hiermee bezig bent. Je neemt verantwoordelijkheid voor je financile situatie en dat is een belangrijke stap vooruit. Je doet dit serieus en dat verdient respect. Je staat er niet alleen voor, ik help je mee om slimme en haalbare keuzes te maken 

##  Samenvatting huidige situatie

-  Maandelijks inkomen: **{{salaris bedrag}}**
-  Eenmalig extra inkomen: **{{freelance bedrag}}**
-  Vaste uitgaven: **{{vaste uitgaven}}**
-  Maandelijkse aflossingen: **{{maandelijkse aflossingen}}**
-  Vrij te besteden bedrag: **{{vrij te besteden bedrag}}** per maand
-  Totale openstaande schuld: **{{totale schuld}}**

##  Lopende betalingsregelingen

- {{schuldeiser 1}}: {{bedrag}} per maand
- {{schuldeiser 2}}: {{bedrag}} per maand
- {{schuldeiser 3}}: {{bedrag}} per maand (start {{maand}})

##  Inzicht & Analyse

- **Inkomen:** {{analyse van inkomen}}
- **Uitgaven:** {{analyse van uitgaven}}
- **Aflossingen:** {{analyse van aflossingen}}
- **Beheersbaarheid:** {{analyse van beheersbaarheid}}

##  Wat kun je doen?

Je houdt geld over en dat is je kans om financieel verder vooruit te komen. Zet dit bewust in:

** Zo gebruik je je {{vrij te besteden bedrag}} extra**
- Versnel je aflossingen, om sneller schuldenvrij te zijn.
- Bouw een noodbuffer op, bijvoorbeeld 50 per maand, voor onverwachte kosten.
- Stel een spaardoel, hoe klein ook, zodat je gemotiveerd blijft.

** Blijf scherp**
- Registreer al je betalingen in deze app
- Plan al je betalingsafspraken in je bankieren app
- Voorkom incassokosten door op tijd contact te houden met schuldeisers

##  Conclusie

{{conclusie en aanmoediging}}

Laat het weten als je hulp wilt bij je strategie of budget.
Vervang de placeholders \`{{...}}\` met de daadwerkelijke data en analyses.`},outputFormat:"**Output Formaat Algemeen:**\n- Gebruik Markdown voor structuur (bold, lijsten).\n- Gebruik passende emoji's.\n- Formatteer geldbedragen met een euroteken ().\n- **ZEER BELANGRIJK: Gebruik NOOIT codeblokken (``` ... ```). Alle output moet platte tekst met simpele markdown zijn.**\n- Plaats elk financieel item (zoals inkomen, uitgave, schuld) in een lijst of samenvatting ALTIJD op een aparte regel. Combineer NOOIT meerdere items op n regel.\n- Antwoord altijd in het Nederlands.",initialGreeting:'**Startbericht**: Start met: "Hallo [Voornaam]! Ik ben Schuldhulpje, jouw digitale hulp bij je geldzaken. Samen zorgen we voor helder inzicht en een stevig financieel plan. Stel gerust je vragen!"',scanHandling:"**Scan Afhandeling**: Na een scan van een document, extraheer je de gegevens. Om een geldige schuld te zijn, **moet** je een `creditorName`, een `totalAmount` en ten minste n van de volgende velden vinden: `dossierNumber` of `paymentReference`. Als aan deze voorwaarde is voldaan, retourneer je direct een compleet JSON-object in de 'Action Flow'-structuur. Als je niet zeker bent of het een factuur of schuld betreft, of als de vereiste informatie ontbreekt, retourneer dan geen `propose_add_debt` actie. De frontend applicatie zal de afwezigheid van de actie interpreteren als een mislukte scan."},dSe=[_i.persona,_i.communicationRules,_i.dataContextIntro,_i.dataContextSchema,_i.actionFlow,"---",_i.capabilities.general,_i.capabilities.emailGenerator,_i.capabilities.overviewGenerator,_i.capabilities.financialAnalysisGenerator,"---",_i.outputFormat,_i.initialGreeting,_i.scanHandling].join(`

`),cG={type:Ft.OBJECT,properties:{action:{type:Ft.STRING,enum:["propose_add_debt"]},confirmation_text:{type:Ft.STRING},payload:{type:Ft.OBJECT,properties:{creditorName:{type:Ft.STRING},totalAmount:{type:Ft.NUMBER},startDate:{type:Ft.STRING},description:{type:Ft.STRING},dossierNumber:{type:Ft.STRING},accountNumber:{type:Ft.STRING},paymentReference:{type:Ft.STRING},contactPerson:{type:Ft.STRING},email:{type:Ft.STRING},phone:{type:Ft.STRING},website:{type:Ft.STRING},paymentPlan:{type:Ft.OBJECT,properties:{amount:{type:Ft.NUMBER},frequency:{type:Ft.STRING,enum:["maandelijks"]},startDate:{type:Ft.STRING}}}},required:["creditorName","totalAmount","description"]}},required:["action","payload"]},KN=(t,e="Schuldhulpje is aan het nadenken...")=>{const n=Array.isArray(e),r={id:ei(),text:n?e[0]:e,sender:"ai",timestamp:new Date,isThinking:!0,...n&&{textSequence:e}};return t(i=>[...i,r]),r.id},pf=(t,e)=>{t(n=>n.filter(r=>r.id!==e))},YN=(t,e)=>{t(n=>n.filter(r=>!r.isThinking).concat({id:ei(),text:e,sender:"ai",timestamp:new Date,isError:!0}))},mh=(t,e,n,r)=>({user:t?{firstName:t.firstName,lastName:t.lastName,email:t.email,birthDate:t.birthDate}:{},debts:e.map(a=>({...a,totalPaid:Fp(a),remainingAmount:zQ(a)})),incomes:n,expenses:r,currentDate:new Date().toISOString().split("T")[0]}),JN=(t,e,n,r=!1,i=!1)=>{var h,m,b,T,w;const a=typeof(t==null?void 0:t.text)=="string"?t.text:"";if(a&&a.includes("---EMAIL_BODY_STARTS_HERE---")){const S=a.split("---EMAIL_BODY_STARTS_HERE---"),I=(S[1]||"").split("---SUBJECT_STARTS_HERE---"),C=((h=I[0])==null?void 0:h.trim())||"",N=((m=I[1])==null?void 0:m.trim())||"Onderwerp niet gevonden",D=S[0].trim(),R={id:ei(),text:D,sender:"ai",timestamp:new Date,isEmail:!0,emailSubject:N,emailBody:C};e(j=>[...j,R]);return}let o;try{const S=a.match(/\{[\s\S]*\}/);S&&S[0]&&(o=JSON.parse(S[0]))}catch{}if(o&&o.action&&o.payload){const S=o.confirmation_text||"Ok, ik heb het formulier voor je voorbereid. Controleer de gegevens en sla ze op.";e(E=>[...E,{id:ei(),text:S,sender:"ai",timestamp:new Date}]),n(o.action,o.payload);return}const l=(w=(T=(b=t.candidates)==null?void 0:b[0])==null?void 0:T.groundingMetadata)==null?void 0:w.groundingChunks,c=(l==null?void 0:l.filter(S=>{var E;return(E=S.web)==null?void 0:E.uri}).map(S=>({uri:S.web.uri,title:S.web.title})))||[],f={id:ei(),text:a||"",sender:"ai",timestamp:new Date,groundingSources:c.length>0?c:void 0,isExportOverview:r,isFinancialAnalysis:i};e(S=>[...S,f])},PB=async(t,e,n,r,i,a,o=!1)=>{if(!e||!n)return;let l="Schuldhulpje is aan het nadenken...";o&&(l="Een momentje, ik verwerk je verzoek...");const c=KN(i,l);try{const f=`Hier is de huidige data:
${JSON.stringify(r)}

Gebruiker: ${t}`,h=!o&&(t.toLowerCase().includes("zoek")||t.toLowerCase().includes("nieuws"));let m;h?m=await n.models.generateContent({model:"gemini-2.5-flash",contents:f,config:{tools:[{googleSearch:{}}]}}):m=await e.sendMessage({message:f}),pf(i,c),JN(m,i,a)}catch(f){console.error("Fout bij communiceren met Gemini API:",f),pf(i,c),YN(i,`Sorry, er ging iets mis: ${f.message}`)}},hSe=async(t,e,n,r)=>{if(!t)return;const i=KN(n,"Ik stel je financieel overzicht samen..."),o=`Hier is de huidige data:
${JSON.stringify(e)}

Gebruiker: Genereer het financile overzicht volgens het strikte markdown formaat.`;try{const l=await t.sendMessage({message:o});pf(n,i);const c={id:ei(),sender:"ai",timestamp:new Date,text:`Hallo ${(r==null?void 0:r.firstName)||"gebruiker"}, hier is een gedetailleerd overzicht van je huidige financile situatie! `};n(f=>[...f,c]),JN(l,n,()=>{},!0,!1)}catch(l){pf(n,i),YN(n,`Kon overzicht niet genereren: ${l.message}`)}},pSe=async(t,e,n)=>{if(!t)return;const r=KN(n,"Ik analyseer je financile gegevens..."),a=`Hier is de huidige data:
${JSON.stringify(e)}

Gebruiker: Analyseer mijn huidige financile situatie en geef me een uitgebreide analyse volgens het strikte 'Financile Analyse Genereren' formaat.`;try{const o=await t.sendMessage({message:a});pf(n,r),JN(o,n,()=>{},!1,!0)}catch(o){pf(n,r),YN(n,`Kon analyse niet genereren: ${o.message}`)}},fG=({isOpen:t,onClose:e,onFileSelect:n,onCameraSelect:r,onEmailSelect:i})=>{const a=o=>{e(),o()};return v.jsx($r,{isOpen:t,onClose:e,title:"Bijlage toevoegen",size:"sm",children:v.jsxs("div",{className:"flex flex-col space-y-3 font-light",children:[v.jsxs(Te,{variant:"primary",fullWidth:!0,onClick:()=>a(n),children:[v.jsx(Cp,{className:"mr-2"})," Afbeelding of PDF"]}),v.jsxs(Te,{variant:"secondary",fullWidth:!0,onClick:()=>a(r),children:[v.jsx(Ege,{className:"mr-2"})," Camera gebruiken"]}),v.jsxs(Te,{variant:"secondary",fullWidth:!0,onClick:()=>a(i),children:[v.jsx(To,{className:"mr-2"})," E-mail plakken"]})]})})},dG=({isOpen:t,onClose:e,onCapture:n,videoRef:r,canvasRef:i})=>v.jsx($r,{isOpen:t,onClose:e,title:"Maak een foto",size:"lg",children:v.jsxs("div",{className:"space-y-4 font-light",children:[v.jsx("div",{className:"w-full flex justify-center",children:v.jsx("div",{className:"relative w-full max-w-[280px] aspect-[9/16] rounded-xl overflow-hidden bg-black shadow-lg border border-black/20 dark:border-white/20",children:v.jsx("video",{ref:r,className:"absolute inset-0 w-full h-full object-cover",playsInline:!0,autoPlay:!0,muted:!0})})}),v.jsx("canvas",{ref:i,className:"hidden"}),v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx(Te,{variant:"secondary",onClick:e,children:"Annuleren"}),v.jsx(Te,{variant:"primary",onClick:n,children:"Maak Foto"})]})]})}),hG=({isOpen:t,onClose:e,onSubmit:n})=>{const[r,i]=q.useState(""),a=()=>{n(r),i(""),e()};return v.jsx($r,{isOpen:t,onClose:e,title:"Analyseer E-mail",size:"lg",children:v.jsxs("div",{className:"space-y-4 font-light",children:[v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Plak de volledige tekst van de e-mail hieronder. Schuldhulpje zal proberen de relevante gegevens te extraheren om een nieuwe schuld aan te maken."}),v.jsx(Qp,{value:r,onChange:o=>i(o.target.value),rows:10,placeholder:"Plak hier de e-mailtekst..."}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx(Te,{variant:"secondary",onClick:e,children:"Annuleren"}),v.jsx(Te,{variant:"primary",onClick:a,disabled:!r.trim(),children:"Analyseer"})]})]})})},Cl=["Document scannen...","Gegevens extraheren...","Informatie structureren...","Formulier voorbereiden...","Bijna klaar..."],mSe=({isOpen:t,onClose:e,error:n})=>{const[r,i]=q.useState(0),[a,o]=q.useState(Cl[0]);return q.useEffect(()=>{if(t&&!n){i(0),o(Cl[0]);const l=setInterval(()=>{i(c=>{if(c>=95)return clearInterval(l),c;const f=Math.random()*8+2,h=Math.min(c+f,95);return h<25?o(Cl[0]):h<50?o(Cl[1]):h<75?o(Cl[2]):h<90?o(Cl[3]):o(Cl[4]),h})},350);return()=>clearInterval(l)}},[t,n]),v.jsx($r,{isOpen:t,onClose:e,title:n?"Analyse Mislukt":"Document Analyseren",size:"sm",children:n?v.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[v.jsx(Nz,{className:"text-5xl text-light-danger dark:text-dark-danger"}),v.jsx("h3",{className:"text-lg font-bold mt-4 text-light-text-primary dark:text-dark-text-primary",children:"Fout opgetreden"}),v.jsx("p",{className:"text-sm mt-1 text-light-text-secondary dark:text-dark-text-secondary",children:n}),v.jsx(Te,{variant:"secondary",onClick:e,className:"mt-6",children:"Sluiten"})]}):v.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-8",children:[v.jsx(xge,{className:"text-5xl text-brand-accent animate-pulse"}),v.jsx("h3",{className:"text-lg font-bold mt-4 text-light-text-primary dark:text-dark-text-primary",children:"Momentje, ik kijk er naar..."}),v.jsx("p",{className:"text-sm mt-1 text-light-text-secondary dark:text-dark-text-secondary",children:"Dit kan enkele seconden duren."}),v.jsxs("div",{className:"w-full mt-6 space-y-2",children:[v.jsx("div",{className:"w-full bg-black/10 dark:bg-white/10 rounded-full h-2.5",children:v.jsx("div",{className:"bg-brand-accent h-2.5 rounded-full transition-all duration-300 ease-in-out",style:{width:`${r}%`}})}),v.jsx("p",{className:"text-xs font-medium text-brand-accent",children:a})]})]})})},gSe=({debt:t})=>{if(t.isPaidOff)return v.jsx(Ae,{className:"p-2 sm:p-3 text-center",pressed:!0,children:v.jsxs("p",{className:"text-sm font-medium text-light-success dark:text-dark-success flex items-center justify-center",children:[v.jsx(Bl,{className:"text-lg mr-1.5"})," Volledig afbetaald!"]})});if(!t.paymentPlan)return v.jsx("div",{className:"text-sm text-center text-light-text-secondary dark:text-dark-text-secondary py-8",children:"Geen betalingsregeling ingesteld."});const{paymentPlan:e,totalAmount:n}=t,r=e.frequency===Ut.MANUAL?1:e.amount>0?Math.ceil(n/e.amount):0;return v.jsxs(Ae,{pressed:!0,className:"p-3 space-y-3",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-3 items-center",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("label",{className:"block text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Bedrag p/keer"}),v.jsxs("div",{className:"flex items-center justify-center mt-1",children:[v.jsx("span",{className:"text-3xl font-bold text-brand-accent mr-1",children:""}),v.jsx("div",{className:"text-4xl font-bold text-brand-accent",children:v.jsx(Rv,{targetValue:e.amount||0})})]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("label",{className:"block text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1",children:"Aantal termijnen"}),v.jsx("div",{className:"flex items-center justify-center",children:v.jsx("div",{className:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary",children:v.jsx(Rv,{targetValue:r||0})})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-3 border-t border-light-shadow-dark/10 dark:border-dark-shadow-light/10 text-xs text-light-text-secondary dark:text-dark-text-secondary",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(Iz,{className:"text-base mr-2 text-brand-accent"}),v.jsxs("span",{children:["Frequentie: ",v.jsx("strong",{className:"text-light-text-primary dark:text-dark-text-primary",children:zh(e.frequency,"full")})]})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx(Gi,{className:"text-base mr-2 text-brand-accent"}),v.jsxs("span",{children:["Startdatum: ",v.jsx("strong",{className:"text-light-text-primary dark:text-dark-text-primary",children:Fs(e.startDate)})]})]})]})]})},Jg=({debt:t,onEdit:e,onDelete:n,onAddPaymentPlan:r})=>{const[i,a]=q.useState(!1),[o,l]=q.useState(!1),[c,f]=q.useState("regeling"),h=q.useRef(null),m=Fp(t),b=t.totalAmount-m,T=t.totalAmount>0?Math.min(100,m/t.totalAmount*100):0,w=[{id:"regeling",label:"Regeling"},{id:"details",label:"Details"},{id:"contact",label:"Contact"},{id:"description",label:"Omschrijving"}];return q.useEffect(()=>{const S=E=>{h.current&&!h.current.contains(E.target)&&l(!1)};return o&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[o]),v.jsxs(Ae,{as:"article",className:`relative transition-all duration-300 ease-in-out ${o?"z-20":"z-0"}`,pressed:t.isPaidOff,"aria-labelledby":`debt-title-${t.id}`,children:[v.jsxs("div",{className:"flex flex-row justify-between items-start",children:[v.jsxs("div",{className:"flex-grow pr-2",children:[v.jsx("h3",{id:`debt-title-${t.id}`,className:`font-bold ${t.isPaidOff?"line-through text-light-text-secondary dark:text-dark-text-secondary":"text-light-text-primary dark:text-dark-text-primary"}`,children:t.creditorName}),t.isPaidOff?v.jsx("p",{className:"text-2xl font-bold mt-1 text-light-success dark:text-dark-success",children:"Afbetaald"}):v.jsx("p",{className:"text-2xl font-bold mt-1 text-brand-accent",children:cn(b)})]}),v.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-1",children:[v.jsxs("div",{ref:h,className:"relative",children:[v.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>l(!o),"aria-label":"Meer acties",title:"Meer acties",className:"!p-1.5","aria-haspopup":"true","aria-expanded":o,children:v.jsx(Sz,{className:"text-xl sm:text-2xl"})}),o&&v.jsxs(Ae,{as:"div",className:"absolute top-full right-0 mt-1 w-56 z-50 p-2 space-y-1",role:"menu","aria-orientation":"vertical",children:[v.jsxs(Te,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{e(t),l(!1)},className:"justify-start text-sm",children:[v.jsx(UN,{className:"mr-2 text-lg"})," Bewerken"]}),v.jsxs(Te,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{n(t.id),l(!1)},className:"justify-start text-sm text-light-danger dark:text-dark-danger",children:[v.jsx(xz,{className:"mr-2 text-lg"})," Verwijderen"]})]})]}),v.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>a(!i),"aria-label":i?"Details verbergen":"Details tonen","aria-expanded":i,title:i?"Details verbergen":"Details tonen",className:"!p-1.5",children:v.jsx(Xb,{"aria-hidden":"true",className:`text-2xl transition-transform duration-300 ${i?"rotate-180":""}`})})]})]}),v.jsxs("div",{className:"mt-3",children:[v.jsxs("div",{className:"w-full h-5 sm:h-6 rounded-neumorphic bg-black/10 dark:bg-white/10 relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 bottom-0 bg-brand-accent h-full rounded-neumorphic transition-all duration-1000 ease-out flex items-center justify-end pr-2",style:{width:`${Math.max(0,Math.min(T,100))}%`}}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:v.jsxs("span",{className:`text-xs sm:text-sm font-medium ${T>50?"text-white/90":"text-light-text-primary dark:text-dark-text-primary"}`,children:[T.toFixed(1),"%"]})})]}),v.jsxs("div",{className:"flex justify-between text-xs mt-1.5 sm:mt-2 text-light-text-secondary dark:text-dark-text-secondary font-light",children:[v.jsxs("span",{children:["Betaald: ",cn(m)]}),v.jsxs("span",{children:["Nog: ",cn(b)]})]})]}),!t.isPaidOff&&!t.paymentPlan&&v.jsxs(Ae,{interactive:!0,onClick:()=>r(t),className:"!p-2 !py-1.5 mt-3 flex items-center","aria-label":"Voeg betaalafspraak toe",children:[v.jsx(bge,{className:"text-lg mr-2 text-brand-accent"}),v.jsx("p",{className:"text-xs font-medium text-light-text-primary dark:text-dark-text-primary",children:"Voeg betaalafspraak toe"})]}),v.jsx("div",{className:`grid transition-all duration-500 ease-in-out ${i?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:v.jsx("div",{className:`overflow-hidden ${i?"p-4 -m-4":""}`,children:v.jsxs("div",{className:"mt-4 border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20",children:[v.jsx("div",{className:"flex border-b border-light-shadow-dark/10 dark:border-dark-shadow-light/10 mb-3 text-sm -mx-2",children:w.map(S=>v.jsx("button",{type:"button",role:"tab","aria-selected":c===S.id,"aria-controls":`tabpanel-${t.id}-${S.id}`,onClick:()=>f(S.id),className:`px-3 py-1.5 font-medium transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-brand-accent/50 rounded-t-md ${c===S.id?"border-b-2 border-brand-accent text-brand-accent":"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent/80 border-b-2 border-transparent"}`,children:S.label},S.id))}),v.jsxs("div",{className:"py-1",children:[c==="regeling"&&v.jsx("div",{role:"tabpanel",id:`tabpanel-${t.id}-regeling`,className:"space-y-3",children:v.jsx(gSe,{debt:t})}),c==="details"&&v.jsx("div",{role:"tabpanel",id:`tabpanel-${t.id}-details`,className:"space-y-2 text-sm font-light text-light-text-secondary dark:text-dark-text-secondary",children:v.jsxs("div",{className:"grid grid-cols-1 gap-y-2 pt-2",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx(ys,{className:"mr-2 text-brand-accent text-sm"}),v.jsx("strong",{children:"Startdatum schuld:"}),v.jsx("span",{className:"ml-auto",children:Fs(t.startDate)})]}),t.dossierNumber&&v.jsxs("div",{className:"flex items-center",children:[v.jsx(ys,{className:"mr-2 text-brand-accent text-sm"}),v.jsx("strong",{children:"Dossiernr:"}),v.jsx("span",{className:"ml-auto",children:t.dossierNumber})]}),t.beneficiaryName&&v.jsxs("div",{className:"flex items-center",children:[v.jsx(Vr,{className:"mr-2 text-brand-accent text-sm"}),v.jsx("strong",{children:"T.n.v.:"}),v.jsx("span",{className:"ml-auto",children:t.beneficiaryName})]}),t.accountNumber&&v.jsxs("div",{className:"flex items-center",children:[v.jsx(ys,{className:"mr-2 text-brand-accent text-sm"}),v.jsx("strong",{children:"Rekeningnr:"}),v.jsx("span",{className:"ml-auto",children:t.accountNumber})]}),t.paymentReference&&v.jsxs("div",{className:"flex items-center",children:[v.jsx(ys,{className:"mr-2 text-brand-accent text-sm"}),v.jsx("strong",{children:"Betalingskenmerk:"}),v.jsx("span",{className:"ml-auto text-right",children:t.paymentReference})]})]})}),c==="contact"&&v.jsx("div",{role:"tabpanel",id:`tabpanel-${t.id}-contact`,children:t.contactPerson||t.email||t.phone||t.website?v.jsxs(Ae,{className:"p-3 space-y-2 text-sm",pressed:!0,children:[t.contactPerson&&v.jsxs("p",{className:"flex items-center",children:[v.jsx(Vr,{className:"mr-2 text-brand-accent text-base"}),"Contact: ",t.contactPerson]}),t.email&&v.jsxs("p",{className:"flex items-center",children:[v.jsx(To,{className:"mr-2 text-brand-accent text-base"}),"E-mail: ",v.jsx("a",{href:`mailto:${t.email}`,className:"text-brand-accent hover:underline ml-1 truncate",children:t.email})]}),t.phone&&v.jsxs("p",{className:"flex items-center",children:[v.jsx($N,{className:"mr-2 text-brand-accent text-base"}),"Telefoon: ",v.jsx("a",{href:`tel:${t.phone}`,className:"text-brand-accent hover:underline ml-1",children:t.phone})]}),t.website&&v.jsxs("p",{className:"flex items-center",children:[v.jsx(BN,{className:"mr-2 text-brand-accent text-base"}),"Website: ",v.jsx("a",{href:t.website,target:"_blank",rel:"noopener noreferrer",className:"text-brand-accent hover:underline ml-1 truncate",children:t.website})]})]}):v.jsx("div",{className:"text-sm text-center text-light-text-secondary dark:text-dark-text-secondary py-8",children:"Geen contactgegevens beschikbaar."})}),c==="description"&&v.jsx("div",{role:"tabpanel",id:`tabpanel-${t.id}-description`,className:"space-y-3",children:v.jsx(Ae,{pressed:!0,className:"p-3",children:v.jsx("p",{className:"text-sm font-light whitespace-pre-wrap",children:t.description||"Geen omschrijving beschikbaar."})})})]})]})})})]})},ySe=({debts:t,addDebt:e,updateDebt:n,deleteDebt:r,currentUser:i,incomes:a,expenses:o})=>{const[l,c]=q.useState(!1),[f,h]=q.useState(void 0),[m,b]=q.useState(!1),[T,w]=q.useState(void 0),[S,E]=q.useState(!1),[I,C]=q.useState(null),[N,D]=q.useState(!1),[R,j]=q.useState(!1),[P,M]=q.useState(!1),[O,$]=q.useState(!1),[V,F]=q.useState(null),B=q.useRef(null),te=q.useRef(null),Z=q.useRef(null),W=q.useRef(null),Q="AIzaSyBxQgiu1vgcsNzKdB-29-E0LPHelTW9Nqo";q.useEffect(()=>{try{C(new uG({apiKey:Q}))}catch(xe){console.error("Failed to initialize GoogleGenAI:",xe),F("AI initialisatie mislukt.")}},[Q]);const le=xe=>{h(xe),E(!1),c(!0)},ae=()=>{h(void 0),c(!1),E(!1)},H=xe=>{w({...xe,paymentPlan:xe.paymentPlan||{amount:0,frequency:Ut.MONTHLY,startDate:new Date().toISOString().split("T")[0]}}),E(!1),b(!0)},X=()=>{w(void 0),b(!1),E(!1)},ne=()=>{F(null),D(!0)},se=()=>{$(!1),F(null)},_e=async xe=>{"id"in xe?await n(xe):await e(xe),E(!0)},Ie=async xe=>{if(!I){F("AI client is niet genitialiseerd."),$(!0);return}F(null),$(!0);try{const Ge=mh(i,t,a,o),Qe="text"in xe?"Analyseer deze e-mail en extraheer de gegevens. Retourneer dit als een JSON-object volgens de 'Action Flow'-structuur.":"Analyseer dit document en extraheer de gegevens. Retourneer dit als een JSON-object volgens de 'Action Flow'-structuur.",Bt=`Hier is de huidige data context:
${JSON.stringify(Ge)}

${Qe}

${"text"in xe?`E-mail tekst:
${xe.text}`:""}`;let Pt;const Cn={text:Bt};if("mimeType"in xe){const Mt={inlineData:{mimeType:xe.mimeType,data:xe.data}};Pt={parts:[Cn,Mt]}}else Pt={parts:[Cn]};const br=(await I.models.generateContent({model:"gemini-2.5-flash",contents:Pt,config:{responseMimeType:"application/json",responseSchema:cG}})).text??"",kn=JSON.parse(br.trim()),Xn=kn==null?void 0:kn.payload,ai=Xn&&Xn.creditorName&&Xn.totalAmount>0&&(Xn.dossierNumber||Xn.paymentReference);if((kn==null?void 0:kn.action)==="propose_add_debt"&&ai)$(!1),le(Xn);else throw new Error("Onvoldoende informatie gevonden. Zorg ervoor dat de schuldeiser, het bedrag en een dossier- of factuurnummer zichtbaar zijn.")}catch(Ge){console.error("Error during document analysis:",Ge),F(Ge.message||"Fout bij analyseren van het document.")}},Ce=async xe=>{await Ie({text:xe})},ft=q.useCallback(async()=>{try{W.current&&W.current.getTracks().forEach(Ge=>Ge.stop());const xe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1080},height:{ideal:1920}}});te.current&&(te.current.srcObject=xe),W.current=xe}catch(xe){console.error("Camera error:",xe),F("Kon camera niet starten. Controleer permissies."),j(!1)}},[]),Be=q.useCallback(()=>{W.current&&(W.current.getTracks().forEach(xe=>xe.stop()),W.current=null)},[]);q.useEffect(()=>(R?ft():Be(),()=>Be()),[R,ft,Be]);const we=()=>{if(te.current&&Z.current){const xe=te.current,Ge=Z.current;Ge.width=xe.videoWidth,Ge.height=xe.videoHeight;const Qe=Ge.getContext("2d");if(Qe){Qe.drawImage(xe,0,0,xe.videoWidth,xe.videoHeight);const Pt=Ge.toDataURL("image/jpeg").split(",")[1];j(!1),Ie({mimeType:"image/jpeg",data:Pt})}}},Me=q.useMemo(()=>t.filter(xe=>!xe.isPaidOff).sort((xe,Ge)=>new Date(xe.startDate).getTime()-new Date(Ge.startDate).getTime()),[t]),je=q.useMemo(()=>t.filter(xe=>xe.isPaidOff).sort((xe,Ge)=>new Date(xe.startDate).getTime()-new Date(Ge.startDate).getTime()),[t]),ge=xe=>{const Ge=[],Qe=[];return xe.forEach((Bt,Pt)=>{Pt%2===0?Ge.push(Bt):Qe.push(Bt)}),[Ge,Qe]},lt=q.useMemo(()=>ge(Me),[Me]),ze=q.useMemo(()=>ge(je),[je]);return v.jsxs("div",{className:"space-y-6 sm:space-y-8 font-light",children:[v.jsx(Qb,{title:"Schuldoverzicht",description:"Overwin je schulden, stap voor stap.",actions:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(Te,{variant:"secondary",onClick:ne,className:"text-sm py-2 sm:py-2.5 flex-shrink-0",children:[v.jsx(Cp,{className:"text-lg sm:text-xl mr-1 sm:mr-2"}),"Importeer Schuld"]}),v.jsxs(Te,{variant:"primary",onClick:()=>le(),className:"text-sm py-2 sm:py-2.5 flex-shrink-0",children:[v.jsx(gc,{className:"text-lg sm:text-xl mr-1 sm:mr-2"}),"Nieuwe Schuld"]})]}),mobileActions:v.jsxs("div",{className:"flex w-full sm:w-auto gap-2 flex-shrink-0",children:[v.jsxs(Te,{variant:"secondary",onClick:ne,className:"flex-1 sm:flex-none text-sm",children:[v.jsx(Cp,{className:"mr-1.5 sm:mr-2"}),"Importeer"]}),v.jsxs(Te,{variant:"primary",onClick:()=>le(),className:"flex-1 sm:flex-none text-sm",children:[v.jsx(gc,{className:"mr-1.5 sm:mr-2"}),"Nieuw"]})]})}),t.length===0&&!O?v.jsxs(Ae,{className:"text-center py-10 sm:py-12",children:[v.jsx(Xl,{className:"text-3xl sm:text-4xl mx-auto text-brand-accent opacity-70 mb-2"}),v.jsx("p",{className:"text-light-text-primary dark:text-dark-text-primary text-sm sm:text-base font-light",children:"Je hebt nog geen schulden toegevoegd."}),v.jsx("p",{className:"text-xs sm:text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1 font-light",children:'Klik op "Nieuwe Schuld" om te beginnen.'})]}):v.jsxs("div",{className:"space-y-8",children:[Me.length>0&&v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Actieve Schulden"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:items-start gap-4 sm:gap-6",children:[v.jsx("div",{className:"space-y-4 sm:space-y-6",children:lt[0].map(xe=>v.jsx(Jg,{debt:xe,onEdit:()=>le(xe),onDelete:r,onAddPaymentPlan:H},xe.id))}),v.jsx("div",{className:"space-y-4 sm:space-y-6",children:lt[1].map(xe=>v.jsx(Jg,{debt:xe,onEdit:()=>le(xe),onDelete:r,onAddPaymentPlan:H},xe.id))})]})]}),je.length>0&&v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Afbetaalde Schulden"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 md:items-start gap-4 sm:gap-6",children:[v.jsx("div",{className:"space-y-4 sm:space-y-6",children:ze[0].map(xe=>v.jsx(Jg,{debt:xe,onEdit:()=>le(xe),onDelete:r,onAddPaymentPlan:H},xe.id))}),v.jsx("div",{className:"space-y-4 sm:space-y-6",children:ze[1].map(xe=>v.jsx(Jg,{debt:xe,onEdit:()=>le(xe),onDelete:r,onAddPaymentPlan:H},xe.id))})]})]})]}),v.jsx($r,{isOpen:l,onClose:ae,title:S?"Gelukt!":f&&"id"in f?`Schuld Bewerken: ${f.creditorName}`:"Nieuwe Schuld Toevoegen",size:S?"sm":"2xl",children:S?v.jsx(m$,{}):v.jsx(xC,{onSubmit:_e,initialData:f,onClose:ae,mode:"full"})}),v.jsx($r,{isOpen:m,onClose:X,title:S?"Gelukt!":`Betaalafspraak: ${T==null?void 0:T.creditorName}`,size:S?"sm":"2xl",children:S?v.jsx(m$,{}):T&&v.jsx(xC,{onSubmit:_e,initialData:T,onClose:X,mode:"planOnly"})}),v.jsx("input",{type:"file",ref:B,accept:"image/jpeg,image/png,application/pdf",style:{display:"none"},tabIndex:-1,onChange:async xe=>{var Qe;const Ge=(Qe=xe.target.files)==null?void 0:Qe[0];if(B.current&&(B.current.value=""),!!Ge)try{const Bt=new FileReader;Bt.onload=async()=>{var Cn;const Pt=((Cn=Bt.result)==null?void 0:Cn.toString().split(",")[1])||"";await Ie({mimeType:Ge.type,data:Pt})},Bt.onerror=Pt=>{F(`Fout bij lezen van bestand: ${Pt}`),$(!0)},Bt.readAsDataURL(Ge)}catch(Bt){F(`Fout bij lezen van bestand: ${Bt.message}`),$(!0)}}}),v.jsx(fG,{isOpen:N,onClose:()=>D(!1),onFileSelect:()=>{var xe;return(xe=B.current)==null?void 0:xe.click()},onCameraSelect:()=>j(!0),onEmailSelect:()=>M(!0)}),v.jsx(dG,{isOpen:R,onClose:()=>j(!1),onCapture:we,videoRef:te,canvasRef:Z}),v.jsx(hG,{isOpen:P,onClose:()=>M(!1),onSubmit:Ce}),v.jsx(mSe,{isOpen:O,onClose:se,error:V})]})},vSe=[{value:Ut.MONTHLY,label:zh(Ut.MONTHLY,"full")},{value:Ut.EENMALIG,label:zh(Ut.EENMALIG,"full")}],MB={source:"",amount:0,frequency:Ut.MONTHLY,startDate:new Date().toISOString().split("T")[0],notes:""},DB={category:"",amount:0,frequency:Ut.MONTHLY,startDate:new Date().toISOString().split("T")[0],notes:""},Ov=({onSubmit:t,initialData:e,onClose:n,itemTypeLabel:r,itemTypeName:i})=>{const[a,o]=q.useState(()=>({...i==="income"?MB:DB,...e||{}}));q.useEffect(()=>{o({...i==="income"?MB:DB,...e||{}})},[e,i]);const l=S=>{const{name:E,value:I,type:C}=S.target;let N=I;C==="number"&&(N=parseFloat(I)||0),o(D=>({...D,[E]:N}))},c=S=>{o(E=>({...E,frequency:S}))},f=S=>{o(E=>({...E,startDate:S}))},h=S=>{S.preventDefault(),t(a)},m=i==="income",b=m?"Bron":"Categorie",T=m?"source":"category",w=m?_z:Tz;return v.jsxs("form",{onSubmit:h,className:"space-y-4 font-light",children:[v.jsxs("div",{children:[v.jsxs("label",{htmlFor:T,className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:[b," *"]}),v.jsxs(Ae,{pressed:!0,className:"flex items-center px-3 !py-0 overflow-hidden rounded-neumorphic",children:[v.jsx(w,{className:"text-lg mr-3 shrink-0 text-brand-accent"}),v.jsx(tn,{id:T,name:T,value:a[T],onChange:l,required:!0,label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !px-0 !py-2.5"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Bedrag *"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center px-3 !py-0 overflow-hidden rounded-neumorphic",children:[v.jsx(Jb,{className:"text-lg mr-3 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"amount",label:void 0,icon:void 0,type:"number",name:"amount",value:String(a.amount),onChange:l,required:!0,min:"0.01",step:"0.01",containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !px-0 !py-2.5"})]})]}),v.jsx(kp,{id:"frequency",name:"frequency",label:"Frequentie *",value:a.frequency,onChange:c,options:vSe,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Startdatum *"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center px-3 !py-0 overflow-hidden rounded-neumorphic",children:[v.jsx(Gi,{className:"text-lg mr-3 shrink-0 text-brand-accent"}),v.jsx(Np,{id:"startDate",value:a.startDate,onChange:f,required:!0,label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !px-0 !py-2.5 cursor-pointer"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Notities"}),v.jsx(Ae,{pressed:!0,className:"!p-3 overflow-hidden rounded-neumorphic",children:v.jsx(Qp,{id:"notes",name:"notes",value:a.notes||"",onChange:l,rows:3,label:void 0,placeholder:"Bijv. extra details over dit item.",containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !p-0"})})]}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-4",children:[v.jsx(Te,{type:"button",variant:"secondary",onClick:n,fullWidth:!0,className:"sm:w-auto",children:"Annuleren"}),v.jsx(Te,{type:"submit",variant:"primary",fullWidth:!0,className:"sm:w-auto",children:"Opslaan"})]})]})},OB=({item:t,onEdit:e,onDelete:n,itemTypeLabel:r,itemTypeName:i})=>{const[a,o]=q.useState(!1),[l,c]=q.useState(!1),f=q.useRef(null),h=t[i==="income"?"source":"category"];return q.useEffect(()=>{const m=b=>{f.current&&!f.current.contains(b.target)&&c(!1)};return l&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[l]),v.jsxs(Ae,{as:"article",className:`relative mb-3 transition-all duration-300 ease-in-out ${l?"z-20":"z-0"}`,"aria-labelledby":`item-title-${t.id}`,children:[v.jsxs("div",{className:"flex flex-row justify-between items-start",children:[v.jsxs("div",{className:"flex-grow pr-2",children:[v.jsx("h3",{id:`item-title-${t.id}`,className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:h}),v.jsx("p",{className:"text-2xl font-bold mt-1 text-brand-accent",children:cn(t.amount)})]}),v.jsxs("div",{className:"flex-shrink-0 flex items-center space-x-1",children:[v.jsxs("div",{ref:f,className:"relative",children:[v.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>c(!l),"aria-label":"Meer acties",title:"Meer acties",className:"!p-1.5","aria-haspopup":"true","aria-expanded":l,children:v.jsx(Sz,{className:"text-xl sm:text-2xl"})}),l&&v.jsxs(Ae,{as:"div",className:"absolute top-full right-0 mt-1 w-48 z-50 p-2 space-y-1",role:"menu","aria-orientation":"vertical",children:[v.jsxs(Te,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{e(t),c(!1)},className:"justify-start text-sm",children:[v.jsx(UN,{className:"mr-2 text-lg"})," Bewerken"]}),v.jsxs(Te,{variant:"ghost",size:"sm",fullWidth:!0,onClick:()=>{n(t.id),c(!1)},className:"justify-start text-sm text-light-danger dark:text-dark-danger",children:[v.jsx(xz,{className:"mr-2 text-lg"})," Verwijderen"]})]})]}),v.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>o(!a),"aria-label":a?"Details verbergen":"Details tonen","aria-expanded":a,title:a?"Details verbergen":"Details tonen",className:"!p-1.5",children:v.jsx(Xb,{"aria-hidden":"true",className:`text-2xl transition-transform duration-300 ${a?"rotate-180":""}`})})]})]}),v.jsxs("p",{className:"text-xs font-light text-light-text-secondary dark:text-dark-text-secondary mt-2",children:[zh(t.frequency,"full")," vanaf ",Fs(t.startDate,{month:"long",year:"numeric"})]}),v.jsx("div",{className:`grid transition-all duration-500 ease-in-out ${a?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:v.jsx("div",{className:"overflow-hidden",children:v.jsx("div",{className:"mt-4 pt-3 border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20 space-y-2 text-sm font-light text-light-text-secondary dark:text-dark-text-secondary",children:t.notes&&t.notes.trim()!==""?v.jsxs("div",{children:[v.jsx("strong",{className:"font-medium text-light-text-primary dark:text-dark-text-primary",children:"Notities:"}),v.jsx("p",{className:"whitespace-pre-wrap text-xs bg-light-surface/70 dark:bg-dark-surface/70 border border-light-shadow-dark/20 dark:border-dark-shadow-light/20 p-2 mt-1 rounded-md",children:t.notes})]}):v.jsx("p",{className:"italic text-xs",children:"Geen notities voor dit item."})})})})]})},bSe=t=>{const{theme:e}=Vs(),[n,r]=q.useState(!1),[i,a]=q.useState(void 0),[o,l]=q.useState(!1),[c,f]=q.useState(void 0),h=C=>{a(C),r(!0)},m=()=>{a(void 0),r(!1)},b=C=>{"id"in C?t.updateIncome(C):t.addIncome(C),m()},T=C=>{f(C),l(!0)},w=()=>{f(void 0),l(!1)},S=C=>{"id"in C?t.updateExpense(C):t.addExpense(C),w()},E=[...t.incomes].sort((C,N)=>C.source.localeCompare(N.source)),I=[...t.expenses].sort((C,N)=>C.category.localeCompare(N.category));return v.jsxs("div",{className:"space-y-6 sm:space-y-8 font-light",children:[v.jsx(Qb,{title:"Financieel Overzicht",description:"Geef je geld een doel en bouw aan je dromen.",actions:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs(Te,{variant:"primary",onClick:()=>h(),className:"text-sm",children:[v.jsx(gc,{className:"mr-1.5 sm:mr-2"})," Nieuwe Inkomst"]}),v.jsxs(Te,{variant:"secondary",onClick:()=>T(),className:"text-sm",children:[v.jsx(gc,{className:"mr-1.5 sm:mr-2"})," Nieuwe Uitgave"]})]}),mobileActions:v.jsxs("div",{className:"flex w-full sm:w-auto gap-2 flex-shrink-0",children:[v.jsxs(Te,{variant:"primary",onClick:()=>h(),className:"flex-1 sm:flex-none text-sm",children:[v.jsx(gc,{className:"mr-1.5 sm:mr-2"})," Nieuwe Inkomst"]}),v.jsxs(Te,{variant:"secondary",onClick:()=>T(),className:"flex-1 sm:flex-none text-sm",children:[v.jsx(gc,{className:"mr-1.5 sm:mr-2"})," Nieuwe Uitgave"]})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8",children:[v.jsxs("section",{"aria-labelledby":"incomes-heading",children:[v.jsx("h2",{id:"incomes-heading",className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Inkomsten"}),E.length===0?v.jsxs(Ae,{className:"text-center py-8 sm:py-10",children:[v.jsx(Xl,{className:"text-3xl sm:text-4xl mx-auto text-brand-accent opacity-70 mb-2"}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm font-light",children:"Geen inkomsten toegevoegd."})]}):E.map(C=>v.jsx(OB,{item:C,onEdit:h,onDelete:t.deleteIncome,itemTypeLabel:"Bron",itemTypeName:"income"},C.id))]}),v.jsxs("section",{"aria-labelledby":"expenses-heading",children:[v.jsx("h2",{id:"expenses-heading",className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Uitgaven"}),I.length===0?v.jsxs(Ae,{className:"text-center py-8 sm:py-10",children:[v.jsx(Xl,{className:"text-3xl sm:text-4xl mx-auto text-brand-accent opacity-70 mb-2"}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm font-light",children:"Geen uitgaven toegevoegd."})]}):I.map(C=>v.jsx(OB,{item:C,onEdit:T,onDelete:t.deleteExpense,itemTypeLabel:"Categorie",itemTypeName:"expense"},C.id))]})]}),v.jsx($r,{isOpen:n,onClose:m,title:i?"Inkomst Bewerken":"Nieuwe Inkomst",size:"lg",children:v.jsx(Ov,{onSubmit:b,initialData:i,onClose:m,itemTypeLabel:"Bron",itemTypeName:"income"})}),v.jsx($r,{isOpen:o,onClose:w,title:c?"Uitgave Bewerken":"Nieuwe Uitgave",size:"lg",children:v.jsx(Ov,{onSubmit:S,initialData:c,onClose:w,itemTypeLabel:"Categorie",itemTypeName:"expense"})})]})},xSe=({texts:t,theme:e,intervalMs:n=2e3})=>{const r="bg-brand-accent",[i,a]=q.useState(0);q.useEffect(()=>{if(t.length>1){const l=setInterval(()=>{a(c=>c<t.length-1?c+1:(clearInterval(l),c))},n);return()=>clearInterval(l)}else a(0)},[t,n]);const o=t.length>0?t[i]:"Aan het verwerken...";return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-1.5",children:[v.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 ${r} rounded-full animate-pulse-dot-1`}),v.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 ${r} rounded-full animate-pulse-dot-2`}),v.jsx("div",{className:`w-1.5 h-1.5 sm:w-2 sm:h-2 ${r} rounded-full animate-pulse-dot-3`})]}),v.jsx("p",{className:"text-xs font-light text-light-text-secondary dark:text-dark-text-secondary mt-1 sm:mt-1.5 italic",children:o})]})};function XN(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let hu=XN();function pG(t){hu=t}const mG=/[&<>"']/,_Se=new RegExp(mG.source,"g"),gG=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,TSe=new RegExp(gG.source,"g"),wSe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jB=t=>wSe[t];function Qr(t,e){if(e){if(mG.test(t))return t.replace(_Se,jB)}else if(gG.test(t))return t.replace(TSe,jB);return t}const ESe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function SSe(t){return t.replace(ESe,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const ASe=/(^|[^\[])\^/g;function $t(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(i,a)=>{let o=typeof a=="string"?a:a.source;return o=o.replace(ASe,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}function LB(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Ih={exec:()=>null};function VB(t,e){const n=t.replace(/\|/g,(a,o,l)=>{let c=!1,f=o;for(;--f>=0&&l[f]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function ih(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function CSe(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function UB(t,e,n,r){const i=e.href,a=e.title?Qr(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:i,title:a,text:Qr(o)}}function NSe(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[o]=a;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class jv{constructor(e){kt(this,"options");kt(this,"rules");kt(this,"lexer");this.options=e||hu}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ih(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=NSe(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=ih(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:ih(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=ih(n[0],`
`).split(`
`),i="",a="";const o=[];for(;r.length>0;){let l=!1;const c=[];let f;for(f=0;f<r.length;f++)if(/^ {0,3}>/.test(r[f]))c.push(r[f]),l=!0;else if(!l)c.push(r[f]);else break;r=r.slice(f);const h=c.join(`
`),m=h.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${h}`:h,a=a?`${a}
${m}`:m;const b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(m,o,!0),this.lexer.state.top=b,r.length===0)break;const T=o[o.length-1];if((T==null?void 0:T.type)==="code")break;if((T==null?void 0:T.type)==="blockquote"){const w=T,S=w.raw+`
`+r.join(`
`),E=this.blockquote(S);o[o.length-1]=E,i=i.substring(0,i.length-w.raw.length)+E.raw,a=a.substring(0,a.length-w.text.length)+E.text;break}else if((T==null?void 0:T.type)==="list"){const w=T,S=w.raw+`
`+r.join(`
`),E=this.list(S);o[o.length-1]=E,i=i.substring(0,i.length-T.raw.length)+E.raw,a=a.substring(0,a.length-w.raw.length)+E.raw,r=S.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:a}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,a={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l=!1;for(;e;){let c=!1,f="",h="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;f=n[0],e=e.substring(f.length);let m=n[2].split(`
`,1)[0].replace(/^\t+/,I=>" ".repeat(3*I.length)),b=e.split(`
`,1)[0],T=!m.trim(),w=0;if(this.options.pedantic?(w=2,h=m.trimStart()):T?w=n[1].length+1:(w=n[2].search(/[^ ]/),w=w>4?1:w,h=m.slice(w),w+=n[1].length),T&&/^ *$/.test(b)&&(f+=b+`
`,e=e.substring(b.length+1),c=!0),!c){const I=new RegExp(`^ {0,${Math.min(3,w-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,w-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),N=new RegExp(`^ {0,${Math.min(3,w-1)}}(?:\`\`\`|~~~)`),D=new RegExp(`^ {0,${Math.min(3,w-1)}}#`);for(;e;){const R=e.split(`
`,1)[0];if(b=R,this.options.pedantic&&(b=b.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),N.test(b)||D.test(b)||I.test(b)||C.test(e))break;if(b.search(/[^ ]/)>=w||!b.trim())h+=`
`+b.slice(w);else{if(T||m.search(/[^ ]/)>=4||N.test(m)||D.test(m)||C.test(m))break;h+=`
`+b}!T&&!b.trim()&&(T=!0),f+=R+`
`,e=e.substring(R.length+1),m=b.slice(w)}}a.loose||(l?a.loose=!0:/\n *\n *$/.test(f)&&(l=!0));let S=null,E;this.options.gfm&&(S=/^\[[ xX]\] /.exec(h),S&&(E=S[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:f,task:!!S,checked:E,loose:!1,text:h,tokens:[]}),a.raw+=f}a.items[a.items.length-1].raw=a.items[a.items.length-1].raw.trimEnd(),a.items[a.items.length-1].text=a.items[a.items.length-1].text.trimEnd(),a.raw=a.raw.trimEnd();for(let c=0;c<a.items.length;c++)if(this.lexer.state.top=!1,a.items[c].tokens=this.lexer.blockTokens(a.items[c].text,[]),!a.loose){const f=a.items[c].tokens.filter(m=>m.type==="space"),h=f.length>0&&f.some(m=>/\n.*\n/.test(m.raw));a.loose=h}if(a.loose)for(let c=0;c<a.items.length;c++)a.items[c].loose=!0;return a}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:a}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=VB(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),a=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const l of i)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(let l=0;l<r.length;l++)o.header.push({text:r[l],tokens:this.lexer.inline(r[l]),header:!0,align:o.align[l]});for(const l of a)o.rows.push(VB(l,o.header.length).map((c,f)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:o.align[f]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Qr(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=ih(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=CSe(n[2],"()");if(o>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],a=o[3])}else a=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),UB(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),a=n[i.toLowerCase()];if(!a){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return UB(r,a,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let l,c,f=o,h=0;const m=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(m.lastIndex=0,n=n.slice(-1*e.length+o);(i=m.exec(n))!=null;){if(l=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!l)continue;if(c=[...l].length,i[3]||i[4]){f+=c;continue}else if((i[5]||i[6])&&o%3&&!((o+c)%3)){h+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+h);const b=[...i[0]][0].length,T=e.slice(0,o+i.index+b+c);if(Math.min(o,c)%2){const S=T.slice(1,-1);return{type:"em",raw:T,text:S,tokens:this.lexer.inlineTokens(S)}}const w=T.slice(2,-2);return{type:"strong",raw:T,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return i&&a&&(r=r.substring(1,r.length-1)),r=Qr(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=Qr(n[1]),i="mailto:"+r):(r=Qr(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,a;if(n[2]==="@")i=Qr(n[0]),a="mailto:"+i;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);i=Qr(n[0]),n[1]==="www."?a="http://"+n[0]:a=n[0]}return{type:"link",raw:n[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=Qr(n[0]),{type:"text",raw:n[0],text:r}}}}const kSe=/^(?: *(?:\n|$))+/,ISe=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,RSe=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,em=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,PSe=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,yG=/(?:[*+-]|\d{1,9}[.)])/,vG=$t(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,yG).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),QN=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,MSe=/^[^\n]+/,ZN=/(?!\s*\])(?:\\.|[^\[\]\\])+/,DSe=$t(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ZN).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),OSe=$t(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,yG).getRegex(),nx="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ek=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,jSe=$t("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ek).replace("tag",nx).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),bG=$t(QN).replace("hr",em).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nx).getRegex(),LSe=$t(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",bG).getRegex(),tk={blockquote:LSe,code:ISe,def:DSe,fences:RSe,heading:PSe,hr:em,html:jSe,lheading:vG,list:OSe,newline:kSe,paragraph:bG,table:Ih,text:MSe},$B=$t("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",em).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nx).getRegex(),VSe={...tk,table:$B,paragraph:$t(QN).replace("hr",em).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",$B).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",nx).getRegex()},USe={...tk,html:$t(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ek).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ih,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:$t(QN).replace("hr",em).replace("heading",` *#{1,6} *[^
]`).replace("lheading",vG).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},xG=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,$Se=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,_G=/^( {2,}|\\)\n(?!\s*$)/,BSe=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,tm="\\p{P}\\p{S}",qSe=$t(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,tm).getRegex(),FSe=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,zSe=$t(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,tm).getRegex(),GSe=$t("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,tm).getRegex(),HSe=$t("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,tm).getRegex(),WSe=$t(/\\([punct])/,"gu").replace(/punct/g,tm).getRegex(),KSe=$t(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),YSe=$t(ek).replace("(?:-->|$)","-->").getRegex(),JSe=$t("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",YSe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Lv=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,XSe=$t(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Lv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),TG=$t(/^!?\[(label)\]\[(ref)\]/).replace("label",Lv).replace("ref",ZN).getRegex(),wG=$t(/^!?\[(ref)\](?:\[\])?/).replace("ref",ZN).getRegex(),QSe=$t("reflink|nolink(?!\\()","g").replace("reflink",TG).replace("nolink",wG).getRegex(),nk={_backpedal:Ih,anyPunctuation:WSe,autolink:KSe,blockSkip:FSe,br:_G,code:$Se,del:Ih,emStrongLDelim:zSe,emStrongRDelimAst:GSe,emStrongRDelimUnd:HSe,escape:xG,link:XSe,nolink:wG,punctuation:qSe,reflink:TG,reflinkSearch:QSe,tag:JSe,text:BSe,url:Ih},ZSe={...nk,link:$t(/^!?\[(label)\]\((.*?)\)/).replace("label",Lv).getRegex(),reflink:$t(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Lv).getRegex()},PC={...nk,escape:$t(xG).replace("])","~|])").getRegex(),url:$t(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},eAe={...PC,br:$t(_G).replace("{2,}","*").getRegex(),text:$t(PC.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Xg={normal:tk,gfm:VSe,pedantic:USe},ah={normal:nk,gfm:PC,breaks:eAe,pedantic:ZSe};class pa{constructor(e){kt(this,"tokens");kt(this,"options");kt(this,"state");kt(this,"tokenizer");kt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||hu,this.options.tokenizer=this.options.tokenizer||new jv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Xg.normal,inline:ah.normal};this.options.pedantic?(n.block=Xg.pedantic,n.inline=ah.pedantic):this.options.gfm&&(n.block=Xg.gfm,this.options.breaks?n.inline=ah.breaks:n.inline=ah.gfm),this.tokenizer.rules=n}static get rules(){return{block:Xg,inline:ah}}static lex(e,n){return new pa(n).lex(e)}static lexInline(e,n){return new pa(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,f)=>c+"    ".repeat(f.length));let i,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(i=l.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),a=n[n.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),a=n[n.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(h=>{f=h.call({lexer:this},c),typeof f=="number"&&f>=0&&(l=Math.min(l,f))}),l<1/0&&l>=0&&(o=e.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){a=n[n.length-1],r&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),a=n[n.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(i);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,a,o=e,l,c,f;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)h.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>(r=h.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,f)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const m=e.slice(1);let b;this.options.extensions.startInline.forEach(T=>{b=T.call({lexer:this},m),typeof b=="number"&&b>=0&&(h=Math.min(h,b))}),h<1/0&&h>=0&&(a=e.substring(0,h+1))}if(r=this.tokenizer.inlineText(a)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),c=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}}class Vv{constructor(e){kt(this,"options");kt(this,"parser");this.options=e||hu}space(e){return""}code({text:e,lang:n,escaped:r}){var o;const i=(o=(n||"").match(/^\S*/))==null?void 0:o[0],a=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+Qr(i)+'">'+(r?a:Qr(a,!0))+`</code></pre>
`:"<pre><code>"+(r?a:Qr(a,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let i="";for(let l=0;l<e.items.length;l++){const c=e.items[l];i+=this.listitem(c)}const a=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+a+o+`>
`+i+"</"+a+`>
`}listitem(e){let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let a=0;a<e.header.length;a++)r+=this.tablecell(e.header[a]);n+=this.tablerow({text:r});let i="";for(let a=0;a<e.rows.length;a++){const o=e.rows[a];r="";for(let l=0;l<o.length;l++)r+=this.tablecell(o[l]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const i=this.parser.parseInline(r),a=LB(e);if(a===null)return i;e=a;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+i+"</a>",o}image({href:e,title:n,text:r}){const i=LB(e);if(i===null)return r;e=i;let a=`<img src="${e}" alt="${r}"`;return n&&(a+=` title="${n}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class rk{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class ma{constructor(e){kt(this,"options");kt(this,"renderer");kt(this,"textRenderer");this.options=e||hu,this.options.renderer=this.options.renderer||new Vv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new rk}static parse(e,n){return new ma(n).parse(e)}static parseInline(e,n){return new ma(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const l=a,c=this.options.extensions.renderers[l.type].call({parser:this},l);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=c||"";continue}}const o=a;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let l=o,c=this.renderer.text(l);for(;i+1<e.length&&e[i+1].type==="text";)l=e[++i],c+=`
`+this.renderer.text(l);n?r+=this.renderer.paragraph({type:"paragraph",raw:c,text:c,tokens:[{type:"text",raw:c,text:c}]}):r+=c;continue}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=l||"";continue}}const o=a;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}}class Rh{constructor(e){kt(this,"options");this.options=e||hu}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}kt(Rh,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var wo,EG,MC,SG;class tAe{constructor(...e){mP(this,wo);kt(this,"defaults",XN());kt(this,"options",this.setOptions);kt(this,"parse",qd(this,wo,MC).call(this,pa.lex,ma.parse));kt(this,"parseInline",qd(this,wo,MC).call(this,pa.lexInline,ma.parseInline));kt(this,"Parser",ma);kt(this,"Renderer",Vv);kt(this,"TextRenderer",rk);kt(this,"Lexer",pa);kt(this,"Tokenizer",jv);kt(this,"Hooks",Rh);this.use(...e)}walkTokens(e,n){var i,a;let r=[];for(const o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const l=o;for(const c of l.header)r=r.concat(this.walkTokens(c.tokens,n));for(const c of l.rows)for(const f of c)r=r.concat(this.walkTokens(f.tokens,n));break}case"list":{const l=o;r=r.concat(this.walkTokens(l.items,n));break}default:{const l=o;(a=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&a[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const f=l[c].flat(1/0);r=r.concat(this.walkTokens(f,n))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const o=n.renderers[a.name];o?n.renderers[a.name]=function(...l){let c=a.renderer.apply(this,l);return c===!1&&(c=o.apply(this,l)),c}:n.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[a.level];o?o.unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(n.childTokens[a.name]=a.childTokens)}),i.extensions=n),r.renderer){const a=this.defaults.renderer||new Vv(this.defaults);for(const o in r.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const l=o;let c=r.renderer[l];r.useNewRenderer||(c=qd(this,wo,EG).call(this,c,l,a));const f=a[l];a[l]=(...h)=>{let m=c.apply(a,h);return m===!1&&(m=f.apply(a,h)),m||""}}i.renderer=a}if(r.tokenizer){const a=this.defaults.tokenizer||new jv(this.defaults);for(const o in r.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,c=r.tokenizer[l],f=a[l];a[l]=(...h)=>{let m=c.apply(a,h);return m===!1&&(m=f.apply(a,h)),m}}i.tokenizer=a}if(r.hooks){const a=this.defaults.hooks||new Rh;for(const o in r.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,c=r.hooks[l],f=a[l];Rh.passThroughHooks.has(o)?a[l]=h=>{if(this.defaults.async)return Promise.resolve(c.call(a,h)).then(b=>f.call(a,b));const m=c.call(a,h);return f.call(a,m)}:a[l]=(...h)=>{let m=c.apply(a,h);return m===!1&&(m=f.apply(a,h)),m}}i.hooks=a}if(r.walkTokens){const a=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(l){let c=[];return c.push(o.call(this,l)),a&&(c=c.concat(a.call(this,l))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return pa.lex(e,n??this.defaults)}parser(e,n){return ma.parse(e,n??this.defaults)}}wo=new WeakSet,EG=function(e,n,r){switch(n){case"heading":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,r.parser.parseInline(i.tokens),i.depth,SSe(r.parser.parseInline(i.tokens,r.parser.textRenderer)))};case"code":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text,i.lang,!!i.escaped)};case"table":return function(i){if(!i.type||i.type!==n)return e.apply(this,arguments);let a="",o="";for(let c=0;c<i.header.length;c++)o+=this.tablecell({text:i.header[c].text,tokens:i.header[c].tokens,header:!0,align:i.align[c]});a+=this.tablerow({text:o});let l="";for(let c=0;c<i.rows.length;c++){const f=i.rows[c];o="";for(let h=0;h<f.length;h++)o+=this.tablecell({text:f[h].text,tokens:f[h].tokens,header:!1,align:i.align[h]});l+=this.tablerow({text:o})}return e.call(this,a,l)};case"blockquote":return function(i){if(!i.type||i.type!==n)return e.apply(this,arguments);const a=this.parser.parse(i.tokens);return e.call(this,a)};case"list":return function(i){if(!i.type||i.type!==n)return e.apply(this,arguments);const a=i.ordered,o=i.start,l=i.loose;let c="";for(let f=0;f<i.items.length;f++){const h=i.items[f],m=h.checked,b=h.task;let T="";if(h.task){const w=this.checkbox({checked:!!m});l?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=w+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=w+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:w+" "}):T+=w+" "}T+=this.parser.parse(h.tokens,l),c+=this.listitem({type:"list_item",raw:T,text:T,task:b,checked:!!m,loose:l,tokens:h.tokens})}return e.call(this,c,a,o)};case"html":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text,i.block)};case"paragraph":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"escape":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text)};case"link":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.href,i.title,this.parser.parseInline(i.tokens))};case"image":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.href,i.title,i.text)};case"strong":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"em":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"codespan":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text)};case"del":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"text":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text)}}return e},MC=function(e,n){return(r,i)=>{const a={...i},o={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=qd(this,wo,SG).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>n(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(l);try{o.hooks&&(r=o.hooks.preprocess(r));let c=e(r,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let f=n(c,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(c){return l(c)}}},SG=function(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Qr(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}};const Zl=new tAe;function Tt(t,e){return Zl.parse(t,e)}Tt.options=Tt.setOptions=function(t){return Zl.setOptions(t),Tt.defaults=Zl.defaults,pG(Tt.defaults),Tt};Tt.getDefaults=XN;Tt.defaults=hu;Tt.use=function(...t){return Zl.use(...t),Tt.defaults=Zl.defaults,pG(Tt.defaults),Tt};Tt.walkTokens=function(t,e){return Zl.walkTokens(t,e)};Tt.parseInline=Zl.parseInline;Tt.Parser=ma;Tt.parser=ma.parse;Tt.Renderer=Vv;Tt.TextRenderer=rk;Tt.Lexer=pa;Tt.lexer=pa.lex;Tt.Tokenizer=jv;Tt.Hooks=Rh;Tt.parse=Tt;Tt.options;Tt.setOptions;Tt.use;Tt.walkTokens;Tt.parseInline;ma.parse;pa.lex;const nAe=({fullText:t,speed:e=20,onTextUpdate:n,onTypingComplete:r,className:i})=>{const[a,o]=q.useState(""),l=q.useRef(0),c=q.useRef(null),f=q.useRef(0),h=q.useMemo(()=>t.split(/(\s+)/),[t]),m=q.useCallback(b=>{if(l.current<h.length){if(!f.current||b-f.current>=e){f.current=b,l.current++;const T=h.slice(0,l.current).join("");o(T),n&&n()}c.current=requestAnimationFrame(m)}else r&&r()},[h,e,n,r]);return q.useEffect(()=>(o(""),l.current=0,f.current=0,c.current=requestAnimationFrame(m),()=>{c.current&&cancelAnimationFrame(c.current)}),[t,m]),v.jsx("div",{className:i,dangerouslySetInnerHTML:{__html:Tt.parse(a)}})},rAe=t=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return{supported:!1,recognition:null};const n=new e;n.continuous=!1,n.interimResults=!0,n.lang="nl-NL";let r="";return n.onresult=i=>{let a="";r="";for(let o=i.resultIndex;o<i.results.length;++o)i.results[o].isFinal?r+=i.results[o][0].transcript:a+=i.results[o][0].transcript;t.onResult(r,a)},n.onend=()=>{t.onEnd(r),r=""},n.onstart=t.onStart,n.onerror=i=>{console.error("Speech recognition error",i.error,i.message);let a=`Spraakherkenning fout: ${i.error}`;const o=i.error==="not-allowed"||i.error==="service-not-allowed";if(o)a="Geen permissie voor microfoon. Spraakmodus is uitgeschakeld.";else if(i.error==="no-speech")a="Ik kon je niet horen.";else if(i.error==="aborted")return;t.onError(a,o)},{supported:!0,recognition:n}},iAe=({isOpen:t,onClose:e,debts:n,onSubmit:r})=>{const[i,a]=q.useState(null),[o,l]=q.useState("uitstel van betaling aanvragen"),[c,f]=q.useState(""),h=m=>{if(m.preventDefault(),!i)return;const b=n.find(w=>w.id===i);if(!b)return;const T=`Genereer een professionele, empathische e-mail.
        Doel: ${o}.
        Schuld betreft: ${b.creditorName} voor een bedrag van ${cn(b.totalAmount)}.
        Extra context van gebruiker: ${c}.
        Gebruik de email generator output structuur.`;r(T),e()};return v.jsx($r,{isOpen:t,onClose:e,title:"E-mail Genereren",size:"lg",children:v.jsxs("form",{onSubmit:h,className:"space-y-4 font-light",children:[v.jsx(kp,{label:"Over welke schuld gaat het?",options:n.map(m=>({value:m.id,label:m.creditorName})),value:i||"",onChange:m=>a(m),required:!0,labelClassName:"font-medium"}),v.jsx(kp,{label:"Wat is het doel van de e-mail?",options:[{value:"uitstel van betaling aanvragen",label:"Uitstel van betaling aanvragen"},{value:"een betalingsregeling voorstellen",label:"Een betalingsregeling voorstellen"},{value:"informatie opvragen over de schuld",label:"Informatie opvragen over de schuld"},{value:"bezwaar maken tegen de schuld",label:"Bezwaar maken tegen de schuld"}],value:o,onChange:m=>l(m),labelClassName:"font-medium"}),v.jsx(Qp,{label:"Extra context (optioneel)",labelClassName:"font-medium",placeholder:"Geef hier extra details die belangrijk zijn voor de e-mail, bv. waarom je uitstel nodig hebt of welk bedrag je per maand kunt missen.",value:c,onChange:m=>f(m.target.value),rows:4}),v.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[v.jsx(Te,{type:"button",variant:"secondary",onClick:e,children:"Annuleren"}),v.jsx(Te,{type:"submit",disabled:!i,children:"Genereer E-mail"})]})]})})},aAe=(t,e="Schuldhulpje is aan het nadenken...")=>{const n=Array.isArray(e),r={id:ei(),text:n?e[0]:e,sender:"ai",timestamp:new Date,isThinking:!0,...n&&{textSequence:e}};return t(i=>[...i,r]),r.id},BB=(t,e)=>{t(n=>n.filter(r=>r.id!==e))},os=(t,e)=>{t(n=>n.filter(r=>!r.isThinking).concat({id:ei(),text:e,sender:"ai",timestamp:new Date,isError:!0}))},qB=t=>{const{currentUser:e,debts:n,incomes:r,expenses:i,addDebt:a,addIncome:o,addExpense:l}=t,{theme:c}=Vs(),[f,h]=q.useState(""),[m,b]=q.useState([]),[T,w]=q.useState(!1),[S,E]=q.useState(!1),[I,C]=q.useState(null),[N,D]=q.useState(null),[R,j]=q.useState(null),P=q.useRef(null),[M,O]=q.useState(null),[$,V]=q.useState({isOpen:!1}),[F,B]=q.useState({isOpen:!1}),[te,Z]=q.useState({isOpen:!1}),[W,Q]=q.useState(!1),[le,ae]=q.useState(!1),[H,X]=q.useState(!1),[ne,se]=q.useState(!1),[_e,Ie]=q.useState(!1),[Ce,ft]=q.useState(!1),Be=q.useRef(null),we=q.useRef(null),Me=q.useRef(null),je=q.useRef(null),ge=q.useRef(null),lt="AIzaSyBxQgiu1vgcsNzKdB-29-E0LPHelTW9Nqo",ze=q.useCallback((be,De)=>{switch(be){case"propose_add_debt":V({isOpen:!0,initialData:De});break;case"propose_add_income":B({isOpen:!0,initialData:De});break;case"propose_add_expense":Z({isOpen:!0,initialData:De});break;default:b(xt=>[...xt.filter(fn=>!fn.isThinking),{id:ei(),text:`Onbekende actie '${be}' ontvangen van AI.`,sender:"ai",timestamp:new Date,isError:!0}])}},[]),xe=q.useCallback(async be=>{if(!be.trim()||T||S||!N&&!R)return;h("");const De={id:ei(),text:be,sender:"user",timestamp:new Date};b(fn=>[...fn,De]),w(!0);const xt=mh(e,n,r,i);await PB(be,N,R,xt,b,ze),w(!1)},[T,S,N,R,e,n,r,i,ze]);q.useEffect(()=>{try{const be=new uG({apiKey:lt});j(be);const De=be.chats.create({model:"gemini-2.5-flash",config:{systemInstruction:dSe}});if(D(De),m.length===0){const fn=`Hallo ${(e==null?void 0:e.firstName)||""||""}! Ik ben Schuldhulpje, jouw digitale hulp bij je geldzaken. Samen zorgen we voor helder inzicht en een stevig financieel plan. Stel gerust je vragen!`;b([{id:"initial-greeting",text:fn,sender:"ai",timestamp:new Date}])}}catch(be){console.error("Fout bij initialiseren Gemini Chat:",be),C(`Fout bij initialiseren: ${be.message}`),b([{id:"initial-greeting",text:`Probleem bij opstarten: ${be.message}`,sender:"ai",timestamp:new Date,isError:!0}])}},[lt,e]),q.useEffect(()=>{const{supported:be,recognition:De}=rAe({onResult:(xt,fn)=>{h(xt+fn)},onEnd:xt=>{ft(!1),xt.trim()?xe(xt.trim()):h("")},onStart:()=>{ft(!0),h("Luisteren...")},onError:(xt,fn)=>{os(b,xt),ft(!1),h("")}});return Ie(be),Be.current=De,()=>{var xt;(xt=Be.current)==null||xt.abort()}},[xe]),q.useEffect(()=>{P.current&&(P.current.scrollTop=P.current.scrollHeight)},[m]);const Ge=()=>{var be,De;!_e||T||S||(Ce?(be=Be.current)==null||be.stop():(De=Be.current)==null||De.start())},Qe=async be=>{if(S||T||Ce)return;if(be==="import"){ae(!0);return}const De=mh(e,n,r,i);switch(E(!0),be){case"analyse":await pSe(N,De,b);break;case"overzicht":await hSe(N,De,b,e);break;case"email":Q(!0);break}be!=="email"&&E(!1)},Bt=(be,De)=>{navigator.clipboard.writeText(be),O(De),setTimeout(()=>O(null),2e3)},Pt=async be=>{if(!R){os(b,"AI client is niet genitialiseerd.");return}const De=aAe(b,["Document scannen...","Gegevens extraheren...","Informatie structureren...","Bijna klaar..."]);try{const xt=mh(e,n,r,i),fn="text"in be?"Analyseer deze e-mail en extraheer de gegevens. Retourneer dit als een JSON-object volgens de 'Action Flow'-structuur.":"Analyseer dit document en extraheer de gegevens. Retourneer dit als een JSON-object volgens de 'Action Flow'-structuur.",xr=`Hier is de huidige data context:
${JSON.stringify(xt)}

${fn}

${"text"in be?`E-mail tekst:
${be.text}`:""}`;let sr;const _r={text:xr};if("mimeType"in be){const Pa={inlineData:{mimeType:be.mimeType,data:be.data}};sr={parts:[_r,Pa]}}else sr={parts:[_r]};const In=await R.models.generateContent({model:"gemini-2.5-flash",contents:sr,config:{responseMimeType:"application/json",responseSchema:cG}});BB(b,De);let Ir;if(!In.text)throw new Error("AI gaf een leeg antwoord. Probeer het opnieuw.");try{Ir=JSON.parse(In.text.trim())}catch{throw new Error("AI gaf een onverwacht antwoord. Probeer het opnieuw met een duidelijker document.")}const Rr=Ir==null?void 0:Ir.payload,Ks=Rr&&Rr.creditorName&&Rr.totalAmount>0&&(Rr.dossierNumber||Rr.paymentReference);(Ir==null?void 0:Ir.action)==="propose_add_debt"&&Ks?ze("propose_add_debt",Rr):os(b,"Ik kon niet genoeg informatie vinden om een schuld aan te maken. Zorg ervoor dat de schuldeiser, het bedrag en een dossier- of factuurnummer zichtbaar zijn.")}catch(xt){console.error("Error during document analysis:",xt),BB(b,De),os(b,xt.message||"Fout bij analyseren van het document.")}},Cn=["image/jpeg","image/png","application/pdf"],Nn=20,br=Nn*1024*1024,kn=async be=>{var xt;const De=(xt=be.target.files)==null?void 0:xt[0];if(we.current&&(we.current.value=""),!!De){if(!Cn.includes(De.type)){os(b,"Bestandstype niet toegestaan. Probeer een JPG, PNG, of PDF.");return}if(De.size>br){os(b,`Bestand is te groot. Maximumgrootte is ${Nn}MB.`);return}try{const fn=await new Promise((xr,sr)=>{const _r=new FileReader;_r.readAsDataURL(De),_r.onload=()=>{var In;return xr(((In=_r.result)==null?void 0:In.toString().split(",")[1])||"")},_r.onerror=In=>sr(In)});await Pt({mimeType:De.type,data:fn})}catch(fn){os(b,`Fout bij lezen van bestand: ${fn.message}`)}}},Xn=async be=>{await Pt({text:be})},ai=q.useCallback(async()=>{try{ge.current&&ge.current.getTracks().forEach(De=>De.stop());const be=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1080},height:{ideal:1920}}});Me.current&&(Me.current.srcObject=be),ge.current=be}catch(be){console.error("Camera error:",be),os(b,"Kon camera niet starten. Controleer permissies."),X(!1)}},[]),Mt=q.useCallback(()=>{ge.current&&(ge.current.getTracks().forEach(be=>be.stop()),ge.current=null)},[]);q.useEffect(()=>(H?ai():Mt(),()=>Mt()),[H,ai,Mt]);const bt=()=>{if(Me.current&&je.current){const be=Me.current,De=je.current;De.width=be.videoWidth,De.height=be.videoHeight;const xt=De.getContext("2d");if(xt){xt.drawImage(be,0,0,be.videoWidth,be.videoHeight);const xr=De.toDataURL("image/jpeg").split(",")[1];X(!1),Pt({mimeType:"image/jpeg",data:xr})}}};return v.jsxs(v.Fragment,{children:[v.jsx("input",{type:"file",ref:we,onChange:kn,accept:"image/jpeg,image/png,application/pdf",className:"hidden",multiple:!0}),v.jsxs(Ae,{transparencyLevel:"high",className:"flex flex-col h-full w-full overflow-hidden font-light !p-0",children:[v.jsx("header",{className:"p-3 sm:p-4 flex items-center justify-between sticky top-0 z-10 flex-shrink-0 border-b border-light-shadow-dark/10 dark:border-dark-shadow-light/10",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:Dv,alt:"Schuldhulpje Avatar",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full shadow-lg mr-2 sm:mr-3 object-contain bg-light-bg/70 dark:bg-dark-bg/70 p-0.5"}),v.jsx("h1",{className:"text-md sm:text-lg font-bold text-light-text-primary dark:text-dark-text-primary",children:"Schuldhulpje AI"})]})}),v.jsx("div",{ref:P,className:"flex-grow min-h-0 p-3 sm:p-4 space-y-3 sm:space-y-4 overflow-y-auto",children:m.map((be,De)=>{const fn=De===m.length-1&&be.sender==="ai"&&!be.isThinking&&!be.isError,xr=be.isExportOverview||be.isFinancialAnalysis,sr=be.isExportOverview?"Kopieer overzicht":"Kopieer analyse";return v.jsx("div",{className:`flex items-start ${be.sender==="user"?"justify-end":"justify-start"}`,children:v.jsxs("div",{className:`flex flex-col ${be.sender==="user"?"max-w-[95%]":"w-full"} p-2.5 sm:p-3 rounded-2xl text-sm shadow-lg ${be.sender==="user"?"bg-brand-accent text-white dark:text-dark-text-primary rounded-br-none":be.isError?"bg-light-danger/20 dark:bg-dark-danger/30 text-light-danger dark:text-dark-danger rounded-bl-none":"bg-light-surface/70 dark:bg-dark-surface/70 border border-light-shadow-light/30 dark:border-dark-shadow-light/30 text-light-text-primary dark:text-dark-text-primary rounded-bl-none"}`,children:[v.jsx("div",{className:"w-full",children:be.isThinking?v.jsx(xSe,{texts:be.textSequence||[be.text],theme:c}):be.isEmail?v.jsxs("div",{children:[v.jsx("div",{className:"markdown-content",dangerouslySetInnerHTML:{__html:Tt.parse(be.text)}}),v.jsxs("div",{className:"mt-3 pt-3 border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20",children:[v.jsxs("p",{className:"font-bold text-sm mb-1",children:["Onderwerp: ",v.jsx("span",{className:"font-light",children:be.emailSubject})]}),v.jsx("pre",{className:"text-xs whitespace-pre-wrap font-sans bg-black/5 dark:bg-white/5 p-2 rounded-md font-light",children:be.emailBody}),v.jsxs(Te,{size:"sm",variant:"secondary",onClick:()=>navigator.clipboard.writeText(be.emailBody||""),className:"mt-2 text-xs",children:[v.jsx(c$,{className:"mr-1.5"})," Kopieer e-mailtekst"]})]})]}):fn?v.jsx(nAe,{fullText:be.text,className:"markdown-content"}):v.jsx("div",{className:"markdown-content",dangerouslySetInnerHTML:{__html:Tt.parse(be.text)}})}),xr&&v.jsx("div",{className:"w-full flex justify-start mt-2 pt-2 border-t border-light-shadow-dark/10 dark:border-dark-shadow-light/10",children:v.jsx(Te,{variant:"ghost",size:"sm",className:"!p-1.5 rounded-md text-light-text-secondary dark:text-dark-text-secondary hover:bg-black/10 dark:hover:bg-white/10",onClick:()=>Bt(be.text,be.id),"aria-label":sr,title:sr,children:M===be.id?v.jsx(Bl,{className:"text-base text-light-success dark:text-dark-success"}):v.jsx(c$,{className:"text-base"})})})]})},be.id)})}),v.jsxs("div",{className:"flex-shrink-0 p-2 sm:p-3 border-t border-light-shadow-dark/10 dark:border-dark-shadow-light/10",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[v.jsxs(Te,{variant:"secondary",size:"sm",onClick:()=>Qe("import"),disabled:S||T||Ce,className:"text-xs",children:[v.jsx(Cp,{className:"mr-2 text-lg"}),"Importeer"]}),v.jsxs(Te,{variant:"secondary",size:"sm",onClick:()=>Qe("email"),disabled:S||T||Ce,className:"text-xs",children:[v.jsx(To,{className:"mr-2 text-lg"}),"Genereer"]}),v.jsxs(Te,{variant:"secondary",size:"sm",onClick:()=>Qe("analyse"),disabled:S||T||Ce,className:"text-xs",children:[v.jsx(_ge,{className:"mr-2 text-lg"}),"Analyse"]}),v.jsxs(Te,{variant:"secondary",size:"sm",onClick:()=>Qe("overzicht"),disabled:S||T||Ce,className:"text-xs",children:[v.jsx(wge,{className:"mr-2 text-lg"}),"Overzicht"]})]}),v.jsxs("div",{className:"relative flex items-end",children:[v.jsx(Qp,{value:f,onChange:be=>h(be.target.value),onKeyDown:be=>{be.key==="Enter"&&!be.shiftKey&&(be.preventDefault(),xe(f))},placeholder:Ce?"Luisteren...":"Typ je bericht...",className:"w-full resize-none p-3 !text-base !rounded-2xl pr-32",containerClassName:"!mb-0 flex-grow",rows:2,disabled:Ce||T||S}),v.jsxs("div",{className:"absolute right-3 bottom-2.5 flex flex-row items-center gap-2",children:[_e&&v.jsx(Te,{onClick:Ge,disabled:T||S,variant:"secondary",className:`h-10 w-10 !p-0 !rounded-full transition-all duration-300 ${Ce?"animate-glowing-pulse":""}`,"aria-label":Ce?"Stop met luisteren":"Start spraak-naar-tekst",children:v.jsx(Tge,{className:`text-xl transition-colors duration-300 ${Ce?"!text-brand-accent":"text-light-text-secondary dark:text-dark-text-secondary"}`})}),v.jsx(Te,{onClick:()=>xe(f),disabled:Ce||T||S||!f.trim(),className:"h-10 w-10 !p-0 !rounded-full","aria-label":"Verstuur",children:v.jsx(Sge,{className:"text-xl"})})]})]})]})]}),v.jsx(iAe,{isOpen:W,onClose:()=>{Q(!1),E(!1)},debts:n.filter(be=>!be.isPaidOff),onSubmit:async be=>{const De=mh(e,n,r,i);await PB(be,N,R,De,b,ze,!0),E(!1)}}),v.jsx(fG,{isOpen:le,onClose:()=>ae(!1),onFileSelect:()=>{var be;return(be=we.current)==null?void 0:be.click()},onCameraSelect:()=>X(!0),onEmailSelect:()=>se(!0)}),v.jsx(dG,{isOpen:H,onClose:()=>X(!1),onCapture:bt,videoRef:Me,canvasRef:je}),v.jsx(hG,{isOpen:ne,onClose:()=>se(!1),onSubmit:Xn}),v.jsx($r,{isOpen:$.isOpen,onClose:()=>V({isOpen:!1}),title:"Schuld Toevoegen/Bewerken",size:"2xl",children:v.jsx(xC,{onSubmit:async be=>{await a(be),V({isOpen:!1}),b(De=>[...De,{id:ei(),text:`Ok, ik heb de schuld bij '${be.creditorName}' voor je toegevoegd.`,sender:"ai",timestamp:new Date}])},initialData:$.initialData,onClose:()=>V({isOpen:!1}),mode:"full"})}),v.jsx($r,{isOpen:F.isOpen,onClose:()=>B({isOpen:!1}),title:"Inkomst Toevoegen",size:"lg",children:v.jsx(Ov,{onSubmit:async be=>{await o(be),B({isOpen:!1}),b(De=>[...De,{id:ei(),text:`Ik heb de inkomst van '${be.source}' voor je toegevoegd.`,sender:"ai",timestamp:new Date}])},initialData:F.initialData,onClose:()=>B({isOpen:!1}),itemTypeLabel:"Bron",itemTypeName:"income"})}),v.jsx($r,{isOpen:te.isOpen,onClose:()=>Z({isOpen:!1}),title:"Uitgave Toevoegen",size:"lg",children:v.jsx(Ov,{onSubmit:async be=>{await l(be),Z({isOpen:!1}),b(De=>[...De,{id:ei(),text:`Ik heb de uitgave voor '${be.category}' voor je toegevoegd.`,sender:"ai",timestamp:new Date}])},initialData:te.initialData,onClose:()=>Z({isOpen:!1}),itemTypeLabel:"Categorie",itemTypeName:"expense"})})]})},oAe=({currentUser:t,updateUserProfile:e})=>{const{theme:n,toggleTheme:r}=Vs(),i=Ip(),[a,o]=q.useState(!1),[l,c]=q.useState({firstName:"",lastName:"",birthDate:""}),[f,h]=q.useState(null),[m,b]=q.useState(null);q.useEffect(()=>{t&&c({firstName:t.firstName,lastName:t.lastName,birthDate:t.birthDate})},[t]);const T=I=>{const{name:C,value:N}=I.target;c(D=>({...D,[C]:N}))},w=I=>{c(C=>({...C,birthDate:I}))},S=async I=>{if(I.preventDefault(),h(null),b(null),!l.firstName||!l.lastName||!l.birthDate){h("Voornaam, achternaam en geboortedatum zijn verplicht.");return}try{await e(l),b("Profiel succesvol bijgewerkt!"),o(!1),setTimeout(()=>b(null),3e3)}catch(C){h(C.message||"Kon profiel niet bijwerken.")}},E=async()=>{try{await aK(cb),i("/login")}catch(I){console.error("Error logging out:",I),h("Kon niet uitloggen. Probeer het opnieuw.")}};return t?v.jsxs("div",{className:"space-y-6 sm:space-y-8 font-light",children:[v.jsxs(Ae,{as:"section",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-x-0 sm:space-x-4 mb-6",children:[v.jsx("div",{className:"p-3 bg-light-surface/70 dark:bg-dark-surface/70 rounded-full shadow-lg",children:v.jsx(Vr,{className:"text-4xl text-brand-accent"})}),v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-light-text-primary dark:text-dark-text-primary text-center sm:text-left",children:["Hallo, ",t.firstName,"!"]}),v.jsx("p",{className:"text-md text-light-text-secondary dark:text-dark-text-secondary text-center sm:text-left",children:"Jouw instellingen voor een succesvolle financile reis."})]})]}),m&&v.jsx("p",{className:"mb-4 text-sm text-light-success dark:text-dark-success bg-light-success/10 p-2 rounded-md font-medium",children:m}),f&&!a&&v.jsx("p",{className:"mb-4 text-sm text-light-danger dark:text-dark-danger bg-light-danger/10 p-2 rounded-md font-light",children:f}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Qg,{icon:v.jsx(Vr,{}),label:"Voornaam",value:t.firstName}),v.jsx(Qg,{icon:v.jsx(Vr,{}),label:"Achternaam",value:t.lastName}),v.jsx(Qg,{icon:v.jsx(To,{}),label:"E-mailadres",value:t.email||""}),v.jsx(Qg,{icon:v.jsx(Gi,{}),label:"Geboortedatum",value:Fs(t.birthDate)})]}),v.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[v.jsxs(Te,{variant:"primary",onClick:()=>o(!0),className:"w-full sm:w-auto text-sm",children:[v.jsx(UN,{className:"mr-2"})," Gegevens Wijzigen"]}),v.jsxs(Te,{onClick:r,variant:"secondary","aria-label":"Thema wisselen",title:"Thema wisselen",className:"w-full sm:w-auto text-sm",children:[n==="dark"?v.jsx(yz,{className:"text-xl mr-2"}):v.jsx(vz,{className:"text-xl mr-2"}),v.jsx("span",{className:"font-medium",children:n==="dark"?"Licht Thema":"Donker Thema"})]}),v.jsxs(Te,{variant:"danger",onClick:E,className:"w-full sm:w-auto text-sm",children:[v.jsx(kge,{className:"mr-2"})," Log Uit"]})]})]}),v.jsx($r,{isOpen:a,onClose:()=>{o(!1),h(null)},title:"Accountgegevens Wijzigen",size:"lg",children:v.jsxs("form",{onSubmit:S,className:"space-y-4 font-light",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Voornaam"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center px-3 !py-0",children:[v.jsx(Vr,{className:"text-lg mr-3 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"firstName",name:"firstName",type:"text",value:l.firstName||"",onChange:T,required:!0,label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !px-0 !py-2.5"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Achternaam"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center px-3 !py-0",children:[v.jsx(Vr,{className:"text-lg mr-3 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"lastName",name:"lastName",type:"text",value:l.lastName||"",onChange:T,required:!0,label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !px-0 !py-2.5"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"birthDate",className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"Geboortedatum"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center px-3 !py-0",children:[v.jsx(Gi,{className:"text-lg mr-3 shrink-0 text-brand-accent"}),v.jsx(Np,{id:"birthDate",value:l.birthDate||"",onChange:w,required:!0,max:new Date().toISOString().split("T")[0],label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !px-0 !py-2.5 cursor-pointer"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1.5",children:"E-mailadres (niet wijzigbaar)"}),v.jsxs(Ae,{pressed:!0,className:"flex items-center px-3 !py-0 opacity-60",children:[v.jsx(To,{className:"text-lg mr-3 shrink-0 text-brand-accent"}),v.jsx(tn,{id:"email",name:"email",type:"email",value:t.email||"",disabled:!0,readOnly:!0,label:void 0,icon:void 0,containerClassName:"!mb-0 w-full",className:"!bg-transparent !border-none focus:!ring-0 !px-0 !py-2.5 cursor-not-allowed"})]})]}),f&&v.jsx("p",{className:"text-sm text-light-danger dark:text-dark-danger bg-light-danger/10 p-2 rounded-md font-light",children:f}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-2 sm:space-y-0 sm:space-x-3 pt-3",children:[v.jsx(Te,{type:"button",variant:"secondary",onClick:()=>{o(!1),h(null)},fullWidth:!0,className:"sm:w-auto",children:"Annuleren"}),v.jsx(Te,{type:"submit",variant:"primary",fullWidth:!0,className:"sm:w-auto",children:"Opslaan"})]})]})})]}):v.jsx(Ae,{className:"text-center p-8",children:v.jsx("p",{className:"text-lg font-medium",children:"Laden van gebruikersgegevens..."})})},Qg=({icon:t,label:e,value:n})=>v.jsxs(Ae,{pressed:!0,className:"!p-3 flex items-center",children:[v.jsx("span",{className:"text-brand-accent mr-3 text-lg",children:t}),v.jsxs("div",{children:[v.jsx("p",{className:"text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary",children:e}),v.jsx("p",{className:"text-sm text-light-text-primary dark:text-dark-text-primary",children:n})]})]}),sAe=()=>v.jsx(v.Fragment,{children:v.jsxs("div",{className:"w-full sm:max-w-lg transform transition-all duration-300 ease-in-out rounded-neumorphic-lg p-3 sm:p-4 bg-white/40 border border-light-shadow-light/20 shadow-xl",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:[v.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-light-shadow-dark/30 flex-shrink-0",children:[v.jsx("h3",{className:"text-md sm:text-lg font-bold text-light-text-primary truncate pr-2",children:"E-mail Genereren"}),v.jsx("button",{onClick:r=>r.preventDefault(),className:"p-1 sm:p-1.5 rounded-full text-light-text-secondary hover:bg-black/10 active:bg-black/20 transition-all","aria-label":"Sluiten",children:v.jsx("span",{className:"material-symbols-rounded text-brand-accent text-xl sm:text-2xl","aria-hidden":"true",children:"close"})})]}),v.jsx("div",{className:"p-3 sm:p-4 md:p-6 overflow-y-auto font-light",children:v.jsxs("form",{className:"space-y-4 font-light",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary mb-1.5 font-medium text-left",children:"Over welke schuld gaat het?"}),v.jsxs("button",{type:"button",className:"w-full flex items-center justify-between text-left rounded-neumorphic-lg transition-all duration-300 ease-in-out font-light bg-light-surface/80 border border-light-shadow-light/50 shadow-lg hover:bg-light-surface/75 active:bg-light-surface/85 cursor-pointer",children:[v.jsx("span",{className:"py-2.5 text-sm font-light text-light-text-primary truncate px-3",children:"Incasso BV Jansen"}),v.jsx("span",{className:"material-symbols-rounded text-brand-accent text-xl mr-2.5","aria-hidden":"true",children:"expand_more"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary mb-1.5 font-medium text-left",children:"Wat is het doel van de e-mail?"}),v.jsxs("button",{type:"button",className:"w-full flex items-center justify-between text-left rounded-neumorphic-lg transition-all duration-300 ease-in-out font-light bg-light-surface/80 border border-light-shadow-light/50 shadow-lg hover:bg-light-surface/75 active:bg-light-surface/85 cursor-pointer",children:[v.jsx("span",{className:"py-2.5 text-sm font-light text-light-text-primary truncate px-3",children:"Een betalingsregeling voorstellen"}),v.jsx("span",{className:"material-symbols-rounded text-brand-accent text-xl mr-2.5","aria-hidden":"true",children:"expand_more"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-light-text-secondary mb-1.5 font-medium text-left",children:"Extra context (optioneel)"}),v.jsx("textarea",{className:"block w-full px-3 py-2.5 bg-light-surface/70 rounded-neumorphic text-sm font-light text-light-text-primary placeholder-light-text-secondary border border-light-shadow-dark/20 focus:outline-none focus:ring-2 focus:ring-brand-accent transition-all duration-200 ease-in-out resize-none",placeholder:"Geef hier extra details die belangrijk zijn voor de e-mail",rows:4,value:"Betalen in 5 termijnen vanaf de 25ste van deze maand",readOnly:!0})]}),v.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[v.jsx("button",{type:"button",className:"font-medium rounded-neumorphic focus:outline-none transition-all duration-200 ease-in-out flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed no-underline px-4 py-2 text-sm min-h-[40px] bg-light-surface/70 text-light-text-primary border border-light-shadow-light/30 shadow-lg hover:shadow-xl",children:"Annuleren"}),v.jsx("button",{type:"button",className:"font-medium rounded-neumorphic focus:outline-none transition-all duration-200 ease-in-out flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed no-underline px-4 py-2 text-sm min-h-[40px] bg-brand-accent text-white shadow-lg hover:shadow-xl",children:"Genereer E-mail"})]})]})})]})}),lAe=()=>{const t=new Date(2025,8,1).toLocaleDateString("nl-NL",{month:"long",year:"numeric"}),e=Array.from({length:42}).map((i,a)=>{const o=new Date(2025,8,a-6);return{date:o,day:o.getDate(),isCurrentMonth:o.getMonth()===8}}),n={19:[{amount:485}],25:[{amount:206}]},r=i=>`${i.toLocaleString("nl-NL")}`;return v.jsxs("div",{className:"w-full sm:max-w-lg transform transition-all duration-300 ease-in-out rounded-neumorphic-lg p-3 sm:p-4 bg-white/40 border border-light-shadow-light/20 shadow-xl mt-6 aspect-square flex flex-col",style:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:[v.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4 px-1",children:[v.jsxs("button",{className:"p-2 rounded-full text-light-text-secondary hover:bg-black/5",children:[" ",v.jsx("span",{className:"material-symbols-rounded",children:"chevron_left"})," "]}),v.jsx("div",{className:"text-center",children:v.jsx("h3",{className:"text-lg sm:text-xl font-bold text-light-text-primary",children:t})}),v.jsxs("button",{className:"p-2 rounded-full text-light-text-secondary hover:bg-black/5",children:[" ",v.jsx("span",{className:"material-symbols-rounded",children:"chevron_right"})," "]})]}),v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-light-text-secondary mb-1 sm:mb-2",children:["Zo","Ma","Di","Wo","Do","Vr","Za"].map(i=>v.jsx("div",{className:"flex items-center justify-center aspect-square",children:i},i))}),v.jsxs("div",{className:"flex-1 flex flex-col",children:[v.jsx("div",{className:"grid grid-cols-7 gap-1 text-center text-xs font-medium text-light-text-secondary mb-1 sm:mb-2"}),v.jsx("div",{className:"grid grid-cols-7 grid-rows-6 gap-1 flex-grow",children:e.map((i,a)=>{const o=!!n[i.day],l=o?n[i.day].reduce((h,m)=>h+m.amount,0):0,c=i.day===20&&i.isCurrentMonth,f=`w-full h-full flex items-center justify-center p-0.5 rounded-lg text-xs font-light transition-all duration-200 relative ${o?"cursor-pointer":"cursor-default"} ${c?"bg-brand-accent/10 ring-1 ring-brand-accent/50":"bg-transparent"}`;return v.jsx("div",{className:f,children:o&&l>0?v.jsx("div",{className:"bg-brand-accent text-white px-2 py-1 rounded-md shadow-md text-sm font-medium",children:r(l)}):v.jsx("span",{className:`font-medium text-sm ${i.isCurrentMonth?"text-light-text-primary":"text-light-text-secondary/60"}`,children:i.day})},a)})})]})]})},Zg=({q:t,a:e})=>{const[n,r]=q.useState(!1);return v.jsxs(Ae,{pressed:!0,className:"!p-0 overflow-hidden",children:[v.jsxs("button",{className:"w-full flex justify-between items-center text-left p-4 cursor-pointer",onClick:()=>r(!n),"aria-expanded":n,children:[v.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary text-lg",children:t}),v.jsx(Xb,{className:`text-2xl text-brand-accent transform transition-transform duration-300 ${n?"rotate-180":""}`})]}),v.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${n?"grid-rows-[1fr] opacity-100":"grid-rows-[0fr] opacity-0"}`,children:v.jsx("div",{className:"overflow-hidden",children:v.jsx("div",{className:"px-4 pb-4 text-light-text-secondary dark:text-dark-text-secondary font-light prose prose-neutral dark:prose-invert max-w-none",children:e})})})]})},uAe=()=>v.jsxs("div",{className:"font-sans font-light text-light-text-primary dark:text-dark-text-primary transition-colors duration-300 overflow-x-hidden bg-light-bg dark:bg-dark-bg",children:[v.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 p-4",children:v.jsxs(Ae,{transparencyLevel:"high",className:"!p-3 flex items-center justify-between max-w-6xl mx-auto",children:[v.jsxs(hr,{to:"/",className:"flex items-center space-x-3",children:[v.jsx("img",{src:Dv,alt:"Schuldhulpje Logo",className:"w-10 h-10 rounded-full"}),v.jsx("div",{className:"flex flex-col",children:v.jsx("span",{className:"font-bold text-2xl",children:"Schuldhulpje"})})]}),v.jsxs("nav",{className:"hidden lg:flex items-center gap-2",children:[v.jsx(Te,{as:"a",href:"#features",variant:"ghost",children:"Features"}),v.jsx(Te,{as:"a",href:"#waarom-schuldhulpje",variant:"ghost",children:"Waarom Schuldhulpje?"}),v.jsx(Te,{as:"a",href:"#blog",variant:"ghost",children:"Blog"}),v.jsx(Te,{as:"a",href:"#faq",variant:"ghost",children:"FAQ"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Te,{as:hr,to:"/login",variant:"secondary",className:"hidden sm:inline-flex",children:"Log In"}),v.jsx(Te,{as:hr,to:"/register",variant:"primary",children:"Start Gratis"})]})]})}),v.jsxs("main",{className:"pt-24 md:pt-28 lg:pt-32",children:[v.jsx("section",{className:"relative flex flex-col items-center justify-center p-4 text-center overflow-hidden",children:v.jsxs("div",{className:"relative z-20 max-w-4xl",children:[v.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-7xl font-bold text-light-text-primary dark:text-dark-text-primary mb-6 leading-tight",children:["Samen naar een",v.jsx("br",{}),"schuldenvrij leven"]}),v.jsx("p",{className:"text-lg sm:text-xl text-light-text-secondary dark:text-dark-text-secondary mb-2 max-w-2xl mx-auto leading-relaxed",children:"Met Schuldhulpje neem je de eerste stap naar financile rust."}),v.jsxs("p",{className:"text-lg sm:text-xl text-light-text-secondary dark:text-dark-text-secondary mb-6 max-w-2xl mx-auto leading-relaxed",children:[v.jsx("span",{className:"text-brand-accent font-semibold",children:"100% anoniem"}),", ondersteund door AI, en altijd ",v.jsx("span",{className:"text-brand-accent font-semibold",children:"gratis"}),"."]}),v.jsx("div",{className:"mt-2 -mb-4",children:v.jsx("img",{src:"../images/headerschuldhulpje.png",alt:"Schuldhulpje illustratie",className:"mx-auto w-full max-w-4xl object-contain"})})]})}),v.jsx("section",{className:"py-12 bg-white/50 dark:bg-dark-surface/50 backdrop-blur-sm",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsx("div",{className:"text-center mb-8",children:v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Vertrouwd door vooraanstaande organisaties"})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-8 items-center justify-items-center",children:[...Array(6)].map((t,e)=>v.jsx("div",{className:"w-32 h-12 bg-light-surface dark:bg-dark-surface rounded-lg flex items-center justify-center group transition-all duration-300 hover:scale-105",children:v.jsxs("div",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary opacity-50 group-hover:opacity-100",children:["Logo ",e+1]})},e))})]})}),v.jsx("div",{className:"py-8"}),v.jsx("section",{id:"waarom-schuldhulpje",className:"py-16 sm:py-24 bg-light-surface/50 dark:bg-dark-surface/50",children:v.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold leading-tight",children:"Het Is Tijd voor een Revolutie in Schuldhulp"}),v.jsx("p",{className:"mt-6 text-lg text-light-text-secondary dark:text-dark-text-secondary leading-relaxed",children:"Traditionele hulp is vaak een drempel. Het is langzaam, intimiderend en voelt als een laatste redmiddel. Schuldhulpje is ontworpen als de allereerste, laagdrempelige stap. Voor iedereen die zelf de touwtjes in handen wil nemen."}),v.jsx("div",{className:"mt-8",children:v.jsxs(Te,{as:hr,to:"/register",variant:"primary",size:"lg",className:"inline-flex items-center",children:["Begin Direct",v.jsx(Cz,{className:"ml-2"})]})})]}),v.jsx("div",{className:"relative",children:v.jsx("div",{className:"aspect-[4/3] rounded-2xl overflow-hidden shadow-2xl",children:v.jsx("img",{src:"../images/placeholder-revolution.webp",alt:"Schuldhulpje revolutie visualisatie",className:"w-full h-full object-cover"})})})]})})}),v.jsx("section",{id:"features",className:"py-16 sm:py-24",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-20",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("span",{className:"text-sm font-semibold text-brand-accent bg-brand-accent/10 px-4 py-1 rounded-full",children:"FEATURES"}),v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mt-4",children:"Dit Is Hoe We Je Leven Eenvoudiger Maken"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"inline-flex items-center gap-3 bg-brand-accent/10 text-brand-accent font-bold px-3 py-1 rounded-full text-sm mb-4",children:[v.jsx(Cp,{})," AI Document Scanner"]}),v.jsx("h3",{className:"text-3xl font-bold leading-tight",children:"Verander die Stapel Post in Pure Duidelijkheid"}),v.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary leading-relaxed",children:"Die ongeopende envelop van het incassobureau? De eindafrekening van de energiemaatschappij? Stop met piekeren. Maak een foto, upload een PDF en kijk hoe onze AI, aangedreven door Gemini, binnen seconden alle belangrijke info extraheert. Schuldeiser, bedrag, betalingskenmerk - het staat direct goed. Je hoeft zelf niets te typen. Voel de opluchting."}),v.jsx(Te,{variant:"secondary",className:"mt-6",children:"Leer meer over de scanner "})]}),v.jsx("div",{className:"bg-light-surface dark:bg-dark-surface p-6 rounded-2xl shadow-neumorphic-convex-light dark:shadow-neumorphic-convex-dark",children:v.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden",children:v.jsx("img",{src:"../images/placeholder-feature-scan.webp",alt:"AI scanner in actie",className:"w-full h-full object-cover"})})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center",children:[v.jsxs("div",{className:"md:order-2",children:[v.jsxs("div",{className:"inline-flex items-center gap-3 bg-brand-accent/10 text-brand-accent font-bold px-3 py-1 rounded-full text-sm mb-4",children:[v.jsx(VN,{})," Visueel Dashboard"]}),v.jsx("h3",{className:"text-3xl font-bold leading-tight",children:"Een Dashboard dat Rust Brengt, Geen Paniek Zaait"}),v.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary leading-relaxed",children:"Cijfers kunnen overweldigend zijn. Daarom vertalen we alles naar een helder, visueel verhaal. De donutchart toont je waar je geld heen gaat. De voortgangsbalk viert elke euro die je aflost. En de financile projectie laat zien dat er een eind aan de tunnel is. Dit is geen overzicht; dit is je commandocentrum voor financile rust."}),v.jsx(Te,{variant:"secondary",className:"mt-6",children:"Bekijk live demo "})]}),v.jsx("div",{className:"md:order-1 bg-light-surface dark:bg-dark-surface p-6 rounded-2xl shadow-neumorphic-convex-light dark:shadow-neumorphic-convex-dark",children:v.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden",children:v.jsx("img",{src:"../images/placeholder-feature-dashboard.webp",alt:"Overzichtelijk dashboard",className:"w-full h-full object-cover"})})})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"inline-flex items-center gap-3 bg-brand-accent/10 text-brand-accent font-bold px-3 py-1 rounded-full text-sm mb-4",children:[v.jsx(Az,{})," Persoonlijke AI Assistent"]}),v.jsx("h3",{className:"text-3xl font-bold leading-tight",children:"Je Financile Sidekick die Nooit Oordeelt"}),v.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary leading-relaxed",children:'Hoe vraag je om uitstel van betaling? Wat moet je zeggen? Stop met zoeken. Vraag het aan Schuldhulpje. "Stel een e-mail op voor de Belastingdienst waarin ik vraag om een regeling van 100 per maand." De AI schrijft een perfecte, formele mail die je direct kunt gebruiken. Het is jouw coach, tekstschrijver en steunpilaar, 24/7 beschikbaar.'}),v.jsx(Te,{variant:"secondary",className:"mt-6",children:"Ontdek de AI assistent "})]}),v.jsx("div",{className:"bg-light-surface dark:bg-dark-surface p-6 rounded-2xl shadow-neumorphic-convex-light dark:shadow-neumorphic-convex-dark",children:v.jsx("div",{className:"aspect-[4/3] rounded-xl overflow-hidden",children:v.jsx("img",{src:"../images/placeholder-feature-chat.webp",alt:"AI Chat assistent",className:"w-full h-full object-cover"})})})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("h3",{className:"text-2xl font-bold",children:"E-mail Generator (Demo)"}),v.jsx("p",{className:"mt-3 text-light-text-secondary dark:text-dark-text-secondary max-w-2xl mx-auto",children:"Probeer hoe eenvoudig het is om een e-mail te genereren voor een schuld  dit is een visuele, niet-verbonden demo."}),v.jsxs("div",{className:"mt-8 flex flex-col items-center space-y-6",children:[v.jsx(sAe,{}),v.jsx(lAe,{})]})]})]})}),v.jsx("section",{className:"py-16 sm:py-24 bg-light-surface/50 dark:bg-dark-surface/50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsx("div",{className:"text-center mb-12",children:v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold",children:"Wat Gebruikers Zeggen"})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs(Ae,{className:"text-center !p-8",children:[v.jsx("p",{className:"text-2xl font-bold text-brand-accent",children:""}),v.jsx("p",{className:"italic text-lg text-light-text-primary dark:text-dark-text-primary",children:"Na 10 minuten wist ik eindelijk wat ik moest doen. Dat gevoel is onbetaalbaar."}),v.jsx("p",{className:"mt-4 font-bold",children:"- Anja V."})]}),v.jsxs(Ae,{className:"text-center !p-8",children:[v.jsx("p",{className:"text-2xl font-bold text-brand-accent",children:""}),v.jsx("p",{className:"italic text-lg text-light-text-primary dark:text-dark-text-primary",children:"Geen schaamte, gewoon rust en een AI die je cht helpt overzicht te krijgen."}),v.jsx("p",{className:"mt-4 font-bold",children:"- Mohammed K."})]}),v.jsxs(Ae,{className:"text-center !p-8",children:[v.jsx("p",{className:"text-2xl font-bold text-brand-accent",children:""}),v.jsx("p",{className:"italic text-lg text-light-text-primary dark:text-dark-text-primary",children:"Dat die brieven eindelijk gestructureerd stonden... ongelofelijk. Ik wou dat ik dit eerder had."}),v.jsx("p",{className:"mt-4 font-bold",children:"- Linda de G."})]})]})]})}),v.jsx("section",{id:"blog",className:"py-16 sm:py-24 bg-light-surface/50 dark:bg-dark-surface/50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold",children:"Laatste Nieuws & Inzichten"}),v.jsx("p",{className:"mt-4 text-lg text-light-text-secondary dark:text-dark-text-secondary",children:"Tips, updates en verhalen over financile gezondheid"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsxs(Ae,{className:"group hover:shadow-lg transition-shadow duration-300",children:[v.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:v.jsx("img",{src:"../images/placeholder-blog-1.webp",alt:"Blog artikel thumbnail",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),v.jsxs("div",{className:"mb-4",children:[v.jsx("span",{className:"text-sm font-semibold text-brand-accent",children:"Financile Tips"}),v.jsx("h3",{className:"mt-2 text-xl font-bold",children:"5 Manieren om Direct te Beginnen met Aflossen"})]}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Praktische tips die je vandaag nog kunt toepassen om je schulden aan te pakken."}),v.jsx(Te,{variant:"ghost",className:"text-sm",children:"Lees Meer "})]}),v.jsxs(Ae,{className:"group hover:shadow-lg transition-shadow duration-300",children:[v.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:v.jsx("img",{src:"../images/placeholder-blog-2.webp",alt:"Blog artikel thumbnail",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),v.jsxs("div",{className:"mb-4",children:[v.jsx("span",{className:"text-sm font-semibold text-brand-accent",children:"Succesverhaal"}),v.jsx("h3",{className:"mt-2 text-xl font-bold",children:"Van Stress naar Rust: Sarah's Verhaal"})]}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Hoe n gebruiker in 3 maanden weer grip kreeg op haar financin."}),v.jsx(Te,{variant:"ghost",className:"text-sm",children:"Lees Meer "})]}),v.jsxs(Ae,{className:"group hover:shadow-lg transition-shadow duration-300",children:[v.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:v.jsx("img",{src:"../images/placeholder-blog-3.webp",alt:"Blog artikel thumbnail",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),v.jsxs("div",{className:"mb-4",children:[v.jsx("span",{className:"text-sm font-semibold text-brand-accent",children:"Nieuwe Feature"}),v.jsx("h3",{className:"mt-2 text-xl font-bold",children:"Introductie: Slimme Betalingsherinneringen"})]}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"Ontdek hoe onze nieuwe AI-feature je helpt geen deadline meer te missen."}),v.jsx(Te,{variant:"ghost",className:"text-sm",children:"Lees Meer "})]})]})]})}),v.jsx("section",{id:"faq",className:"py-16 sm:py-24",children:v.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsx("div",{className:"text-center mb-12",children:v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold",children:"Je Vragen, Onze Antwoorden"})}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(Zg,{q:"Is Schuldhulpje echt 100% gratis?",a:v.jsx("p",{children:"Ja. Onze missie is om zoveel mogelijk mensen te helpen grip te krijgen op hun financin, ongeacht hun situatie. Daarom zijn alle kernfuncties - het scannen van documenten, het dashboard, en de hulp van de AI-assistent - volledig gratis. We willen de drempel om hulp te zoeken zo laag mogelijk maken. In de toekomst introduceren we mogelijk optionele, geavanceerde premium-functies, maar de basis die je nu nodig hebt, zal altijd gratis blijven."})}),v.jsx(Zg,{q:"Zijn mijn financile gegevens veilig bij jullie?",a:v.jsx("p",{children:"Veiligheid en privacy zijn de fundering van Schuldhulpje. We gebruiken versleuteling van bankkwaliteit voor al je data. Je gesprekken met de AI zijn anoniem en worden alleen gebruikt om jou te helpen. We zullen je persoonlijke informatie nooit verkopen of delen. Jij bent de enige die toegang heeft tot jouw financile overzicht."})}),v.jsx(Zg,{q:"Wat als ik alleen een schoenendoos vol ongeopende brieven heb?",a:v.jsx("p",{children:"Perfect! Dat is precies het startpunt waar Schuldhulpje voor ontworpen is. Je hoeft niets voor te bereiden. Pak de eerste brief, maak een foto, en laat de AI het werk doen. Herhaal dit voor elke brief. Voor je het weet, is die beangstigende stapel veranderd in een helder, georganiseerd overzicht in je dashboard. Geen paniek, geen spreadsheets, gewoon scannen en beginnen."})}),v.jsx(Zg,{q:"Vervangt deze app een professionele schuldhulpverlener?",a:v.jsx("p",{children:"Schuldhulpje is een extreem krachtige tool voor zelfredzaamheid en overzicht. Het is de perfecte eerste stap. Voor zeer complexe, problematische schulden is het advies om ook contact op te nemen met je gemeente of een professionele schuldhulpverlener. Schuldhulpje is echter de ideale partner om je voor te bereiden op die gesprekken. Je komt beslagen ten ijs, met een compleet overzicht en een duidelijk beeld van je situatie, waardoor de professionele hulp nog effectiever wordt."})})]})]})}),v.jsx("section",{className:"py-16 sm:py-24 bg-brand-accent",children:v.jsxs("div",{className:"max-w-3xl mx-auto text-center px-4",children:[v.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-white",children:"Klaar voor de belangrijkste stap?"}),v.jsx("p",{className:"mt-4 text-lg text-white/80",children:"Jouw nieuwe financile leven begint hier en nu. Geen uitstel meer. Geen stress meer. Neem de controle terug. Je kunt dit, en Schuldhulpje is hier om je bij elke stap te helpen."}),v.jsx(Te,{as:hr,to:"/register",size:"lg",variant:"secondary",className:"mt-8 !text-brand-accent !bg-white hover:!bg-gray-200 shadow-2xl",children:"Start Vandaag Nog - Het is Gratis"})]})})]}),v.jsx("footer",{id:"contact",className:"bg-light-surface/50 dark:bg-dark-surface/50 pt-16 pb-8",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[v.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[v.jsxs("div",{className:"col-span-2 md:col-span-1",children:[v.jsxs(hr,{to:"/",className:"flex items-center space-x-3 mb-4",children:[v.jsx("img",{src:Dv,alt:"Schuldhulpje Logo",className:"w-10 h-10 rounded-full"}),v.jsx("span",{className:"font-bold text-2xl",children:"Schuldhulpje"})]}),v.jsx("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:"Jouw slimme, stille partner op weg naar financile vrijheid."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:"Navigatie"}),v.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx("a",{href:"#hoe-het-werkt",className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent",children:"Hoe het werkt"})}),v.jsx("li",{children:v.jsx("a",{href:"#features",className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent",children:"Features"})}),v.jsx("li",{children:v.jsx("a",{href:"#faq",className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent",children:"FAQ"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:"Support"}),v.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx("a",{href:"mailto:hallo@schuldhulpje.nl",className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent",children:"Contact"})}),v.jsx("li",{children:v.jsx(hr,{to:"/help",className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent",children:"Helpcentrum"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary",children:"Juridisch"}),v.jsxs("ul",{className:"mt-4 space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx(hr,{to:"/terms",className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent",children:"Algemene Voorwaarden"})}),v.jsx("li",{children:v.jsx(hr,{to:"/privacy",className:"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent",children:"Privacybeleid"})})]})]})]}),v.jsx("div",{className:"mt-8 pt-8 border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary",children:v.jsxs("p",{children:[" ",new Date().getFullYear()," Schuldhulpje. Met  gemaakt om te helpen."]})})]})})]}),AG=({size:t="h-6 w-6",color:e="border-brand-accent",className:n=""})=>v.jsx("div",{className:`animate-spin rounded-full ${t} border-t-2 border-b-2 ${e} ${n}`}),cAe=()=>{const[t,e]=q.useState(""),[n,r]=q.useState(""),[i,a]=q.useState(null),[o,l]=q.useState(!1),c=Ip(),f=async h=>{if(h.preventDefault(),l(!0),a(null),!t||!n){a("Vul je e-mailadres en wachtwoord in."),l(!1);return}try{await eK(cb,t,n),c("/dashboard")}catch(m){m.code==="auth/user-not-found"?a("Er is geen account gevonden met dit e-mailadres."):m.code==="auth/wrong-password"?a("Ongeldige inloggegevens. Controleer je e-mail en wachtwoord."):m.code==="auth/invalid-email"?a("Het e-mailadres is ongeldig. Controleer het e-mailadres."):a("Er is een onbekende fout opgetreden. Probeer het opnieuw."),console.error(m)}finally{l(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[url('/achtergrondje.jpg')] bg-cover bg-center bg-no-repeat",children:v.jsx("div",{className:"w-full max-w-6xl",children:v.jsx("div",{className:"bg-white/95 dark:bg-gray-900/95 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-lg",children:v.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch",children:[v.jsx("div",{className:"flex-1 p-6 lg:p-12",children:v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsxs(hr,{to:"/",className:"inline-flex items-center px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all mb-8",children:[v.jsx("span",{className:"material-symbols-rounded mr-2",children:"arrow_back"}),"Terug naar Home"]}),v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-3",children:"Welkom terug!"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Log in om verder te gaan met je financile reis."})]}),i&&v.jsx("div",{className:"mb-6 text-center text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl font-medium border border-red-100 dark:border-red-800/50",children:i}),v.jsxs("form",{onSubmit:f,className:"space-y-6",children:[v.jsx("div",{className:"space-y-2",children:v.jsx(tn,{id:"email",type:"email",label:"E-mailadres",value:t,onChange:h=>e(h.target.value),required:!0,placeholder:"jouw.email@adres.nl",icon:v.jsx(To,{className:"text-gray-400"}),className:"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-400"})}),v.jsx("div",{className:"space-y-2",children:v.jsx(tn,{id:"password",type:"password",label:"Wachtwoord",value:n,onChange:h=>r(h.target.value),required:!0,placeholder:"",icon:v.jsx("span",{className:"material-symbols-rounded text-lg text-gray-400",children:"lock"}),className:"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 focus:border-blue-500 dark:focus:border-blue-400"})}),v.jsx(Te,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,className:"py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-lg shadow-blue-500/20 hover:shadow-xl transition-all duration-200",children:o?v.jsxs("span",{className:"flex items-center justify-center",children:[v.jsx(AG,{size:"sm",className:"mr-2"}),"Inloggen..."]}):"Log In"})]}),v.jsx("div",{className:"mt-8 text-center",children:v.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Nog geen account?"," ",v.jsx(hr,{to:"/register",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 hover:underline",children:"Registreer hier"})]})})]})}),v.jsx("div",{className:"hidden lg:block w-1/2 relative bg-gradient-to-br from-blue-500/10 to-purple-500/10",children:v.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:v.jsx("img",{src:"/images/schuldhulpje.nl.webp",alt:"Schuldhulpje.nl Hero",className:"w-full h-full object-contain rounded-2xl drop-shadow-2xl"})})})]})})})})},fAe=[{value:"Aa en Hunze",label:"Aa en Hunze"},{value:"Aalsmeer",label:"Aalsmeer"},{value:"Aalten",label:"Aalten"},{value:"Achtkarspelen",label:"Achtkarspelen"},{value:"Alblasserdam",label:"Alblasserdam"},{value:"Albrandswaard",label:"Albrandswaard"},{value:"Alkmaar",label:"Alkmaar"},{value:"Almelo",label:"Almelo"},{value:"Almere",label:"Almere"},{value:"Alphen aan den Rijn",label:"Alphen aan den Rijn"},{value:"Alphen-Chaam",label:"Alphen-Chaam"},{value:"Altena",label:"Altena"},{value:"Ameland",label:"Ameland"},{value:"Amersfoort",label:"Amersfoort"},{value:"Amstelveen",label:"Amstelveen"},{value:"Amsterdam",label:"Amsterdam"},{value:"Apeldoorn",label:"Apeldoorn"},{value:"Arnhem",label:"Arnhem"},{value:"Assen",label:"Assen"},{value:"Asten",label:"Asten"},{value:"Baarle-Nassau",label:"Baarle-Nassau"},{value:"Baarn",label:"Baarn"},{value:"Barendrecht",label:"Barendrecht"},{value:"Barneveld",label:"Barneveld"},{value:"Beek (L.)",label:"Beek (L.)"},{value:"Beekdaelen",label:"Beekdaelen"},{value:"Beesel",label:"Beesel"},{value:"Berg en Dal",label:"Berg en Dal"},{value:"Bergeijk",label:"Bergeijk"},{value:"Bergen (L.)",label:"Bergen (L.)"},{value:"Bergen (NH.)",label:"Bergen (NH.)"},{value:"Bergen op Zoom",label:"Bergen op Zoom"},{value:"Berkelland",label:"Berkelland"},{value:"Bernheze",label:"Bernheze"},{value:"Best",label:"Best"},{value:"Beuningen",label:"Beuningen"},{value:"Beverwijk",label:"Beverwijk"},{value:"De Bilt",label:"De Bilt"},{value:"Bladel",label:"Bladel"},{value:"Blaricum",label:"Blaricum"},{value:"Bloemendaal",label:"Bloemendaal"},{value:"Bodegraven-Reeuwijk",label:"Bodegraven-Reeuwijk"},{value:"Boekel",label:"Boekel"},{value:"Borger-Odoorn",label:"Borger-Odoorn"},{value:"Borne",label:"Borne"},{value:"Borsele",label:"Borsele"},{value:"Boxtel",label:"Boxtel"},{value:"Breda",label:"Breda"},{value:"Bronckhorst",label:"Bronckhorst"},{value:"Brummen",label:"Brummen"},{value:"Brunssum",label:"Brunssum"},{value:"Bunnik",label:"Bunnik"},{value:"Bunschoten",label:"Bunschoten"},{value:"Buren",label:"Buren"},{value:"Capelle aan den IJssel",label:"Capelle aan den IJssel"},{value:"Castricum",label:"Castricum"},{value:"Coevorden",label:"Coevorden"},{value:"Cranendonck",label:"Cranendonck"},{value:"Culemborg",label:"Culemborg"},{value:"Dalfsen",label:"Dalfsen"},{value:"Dantumadiel",label:"Dantumadiel"},{value:"Delft",label:"Delft"},{value:"Deurne",label:"Deurne"},{value:"Deventer",label:"Deventer"},{value:"Diemen",label:"Diemen"},{value:"Dijk en Waard",label:"Dijk en Waard"},{value:"Dinkelland",label:"Dinkelland"},{value:"Doesburg",label:"Doesburg"},{value:"Doetinchem",label:"Doetinchem"},{value:"Dongen",label:"Dongen"},{value:"Dordrecht",label:"Dordrecht"},{value:"Drechterland",label:"Drechterland"},{value:"Drimmelen",label:"Drimmelen"},{value:"Dronten",label:"Dronten"},{value:"Druten",label:"Druten"},{value:"Duiven",label:"Duiven"},{value:"Echt-Susteren",label:"Echt-Susteren"},{value:"Edam-Volendam",label:"Edam-Volendam"},{value:"Ede",label:"Ede"},{value:"Eemnes",label:"Eemnes"},{value:"Eemsdelta",label:"Eemsdelta"},{value:"Eersel",label:"Eersel"},{value:"Eijsden-Margraten",label:"Eijsden-Margraten"},{value:"Eindhoven",label:"Eindhoven"},{value:"Elburg",label:"Elburg"},{value:"Emmen",label:"Emmen"},{value:"Enkhuizen",label:"Enkhuizen"},{value:"Enschede",label:"Enschede"},{value:"Epe",label:"Epe"},{value:"Ermelo",label:"Ermelo"},{value:"Etten-Leur",label:"Etten-Leur"},{value:"De Fryske Marren",label:"De Fryske Marren"},{value:"Geertruidenberg",label:"Geertruidenberg"},{value:"Geldrop-Mierlo",label:"Geldrop-Mierlo"},{value:"Gemert-Bakel",label:"Gemert-Bakel"},{value:"Gennep",label:"Gennep"},{value:"Gilze en Rijen",label:"Gilze en Rijen"},{value:"Goeree-Overflakkee",label:"Goeree-Overflakkee"},{value:"Goes",label:"Goes"},{value:"Goirle",label:"Goirle"},{value:"Gooise Meren",label:"Gooise Meren"},{value:"Gorinchem",label:"Gorinchem"},{value:"Gouda",label:"Gouda"},{value:"'s-Gravenhage",label:"'s-Gravenhage"},{value:"Groningen",label:"Groningen"},{value:"Gulpen-Wittem",label:"Gulpen-Wittem"},{value:"Haaksbergen",label:"Haaksbergen"},{value:"Haarlem",label:"Haarlem"},{value:"Haarlemmermeer",label:"Haarlemmermeer"},{value:"Halderberge",label:"Halderberge"},{value:"Hardenberg",label:"Hardenberg"},{value:"Harderwijk",label:"Harderwijk"},{value:"Hardinxveld-Giessendam",label:"Hardinxveld-Giessendam"},{value:"Harlingen",label:"Harlingen"},{value:"Hattem",label:"Hattem"},{value:"Heemskerk",label:"Heemskerk"},{value:"Heemstede",label:"Heemstede"},{value:"Heerde",label:"Heerde"},{value:"Heerenveen",label:"Heerenveen"},{value:"Heerlen",label:"Heerlen"},{value:"Heeze-Leende",label:"Heeze-Leende"},{value:"Heiloo",label:"Heiloo"},{value:"Den Helder",label:"Den Helder"},{value:"Hellendoorn",label:"Hellendoorn"},{value:"Helmond",label:"Helmond"},{value:"Hendrik-Ido-Ambacht",label:"Hendrik-Ido-Ambacht"},{value:"Hengelo (O.)",label:"Hengelo (O.)"},{value:"'s-Hertogenbosch",label:"'s-Hertogenbosch"},{value:"Heumen",label:"Heumen"},{value:"Heusden",label:"Heusden"},{value:"Hillegom",label:"Hillegom"},{value:"Hilvarenbeek",label:"Hilvarenbeek"},{value:"Hilversum",label:"Hilversum"},{value:"Hoeksche Waard",label:"Hoeksche Waard"},{value:"Hof van Twente",label:"Hof van Twente"},{value:"Het Hogeland",label:"Het Hogeland"},{value:"Hollands Kroon",label:"Hollands Kroon"},{value:"Hoogeveen",label:"Hoogeveen"},{value:"Hoorn",label:"Hoorn"},{value:"Horst aan de Maas",label:"Horst aan de Maas"},{value:"Houten",label:"Houten"},{value:"Huizen",label:"Huizen"},{value:"Hulst",label:"Hulst"},{value:"IJsselstein",label:"IJsselstein"},{value:"Kaag en Braassem",label:"Kaag en Braassem"},{value:"Kampen",label:"Kampen"},{value:"Kapelle",label:"Kapelle"},{value:"Katwijk",label:"Katwijk"},{value:"Kerkrade",label:"Kerkrade"},{value:"Koggenland",label:"Koggenland"},{value:"Krimpen aan den IJssel",label:"Krimpen aan den IJssel"},{value:"Krimpenerwaard",label:"Krimpenerwaard"},{value:"Laarbeek",label:"Laarbeek"},{value:"Land van Cuijk",label:"Land van Cuijk"},{value:"Landgraaf",label:"Landgraaf"},{value:"Landsmeer",label:"Landsmeer"},{value:"Lansingerland",label:"Lansingerland"},{value:"Laren (NH.)",label:"Laren (NH.)"},{value:"Leeuwarden",label:"Leeuwarden"},{value:"Leiden",label:"Leiden"},{value:"Leiderdorp",label:"Leiderdorp"},{value:"Leidschendam-Voorburg",label:"Leidschendam-Voorburg"},{value:"Lelystad",label:"Lelystad"},{value:"Leudal",label:"Leudal"},{value:"Leusden",label:"Leusden"},{value:"Lingewaard",label:"Lingewaard"},{value:"Lisse",label:"Lisse"},{value:"Lochem",label:"Lochem"},{value:"Loon op Zand",label:"Loon op Zand"},{value:"Lopik",label:"Lopik"},{value:"Losser",label:"Losser"},{value:"Maasdriel",label:"Maasdriel"},{value:"Maasgouw",label:"Maasgouw"},{value:"Maashorst",label:"Maashorst"},{value:"Maassluis",label:"Maassluis"},{value:"Maastricht",label:"Maastricht"},{value:"Medemblik",label:"Medemblik"},{value:"Meerssen",label:"Meerssen"},{value:"Meierijstad",label:"Meierijstad"},{value:"Meppel",label:"Meppel"},{value:"Middelburg (Z.)",label:"Middelburg (Z.)"},{value:"Midden-Delfland",label:"Midden-Delfland"},{value:"Midden-Drenthe",label:"Midden-Drenthe"},{value:"Midden-Groningen",label:"Midden-Groningen"},{value:"Moerdijk",label:"Moerdijk"},{value:"Molenlanden",label:"Molenlanden"},{value:"Montferland",label:"Montferland"},{value:"Montfoort",label:"Montfoort"},{value:"Mook en Middelaar",label:"Mook en Middelaar"},{value:"Neder-Betuwe",label:"Neder-Betuwe"},{value:"Nederweert",label:"Nederweert"},{value:"Nieuwegein",label:"Nieuwegein"},{value:"Nieuwkoop",label:"Nieuwkoop"},{value:"Nijkerk",label:"Nijkerk"},{value:"Nijmegen",label:"Nijmegen"},{value:"Nissewaard",label:"Nissewaard"},{value:"Noardeast-Frysln",label:"Noardeast-Frysln"},{value:"Noord-Beveland",label:"Noord-Beveland"},{value:"Noordenveld",label:"Noordenveld"},{value:"Noordoostpolder",label:"Noordoostpolder"},{value:"Noordwijk",label:"Noordwijk"},{value:"Nuenen, Gerwen en Nederwetten",label:"Nuenen, Gerwen en Nederwetten"},{value:"Nunspeet",label:"Nunspeet"},{value:"Oegstgeest",label:"Oegstgeest"},{value:"Oirschot",label:"Oirschot"},{value:"Oisterwijk",label:"Oisterwijk"},{value:"Oldambt",label:"Oldambt"},{value:"Oldebroek",label:"Oldebroek"},{value:"Oldenzaal",label:"Oldenzaal"},{value:"Olst-Wijhe",label:"Olst-Wijhe"},{value:"Ommen",label:"Ommen"},{value:"Oost Gelre",label:"Oost Gelre"},{value:"Oosterhout",label:"Oosterhout"},{value:"Ooststellingwerf",label:"Ooststellingwerf"},{value:"Oostzaan",label:"Oostzaan"},{value:"Opmeer",label:"Opmeer"},{value:"Opsterland",label:"Opsterland"},{value:"Oss",label:"Oss"},{value:"Oude IJsselstreek",label:"Oude IJsselstreek"},{value:"Ouder-Amstel",label:"Ouder-Amstel"},{value:"Oudewater",label:"Oudewater"},{value:"Overbetuwe",label:"Overbetuwe"},{value:"Papendrecht",label:"Papendrecht"},{value:"Peel en Maas",label:"Peel en Maas"},{value:"Pekela",label:"Pekela"},{value:"Pijnacker-Nootdorp",label:"Pijnacker-Nootdorp"},{value:"Purmerend",label:"Purmerend"},{value:"Putten",label:"Putten"},{value:"Raalte",label:"Raalte"},{value:"Reimerswaal",label:"Reimerswaal"},{value:"Renkum",label:"Renkum"},{value:"Renswoude",label:"Renswoude"},{value:"Reusel-De Mierden",label:"Reusel-De Mierden"},{value:"Rheden",label:"Rheden"},{value:"Rhenen",label:"Rhenen"},{value:"Ridderkerk",label:"Ridderkerk"},{value:"Rijssen-Holten",label:"Rijssen-Holten"},{value:"Rijswijk (ZH.)",label:"Rijswijk (ZH.)"},{value:"Roerdalen",label:"Roerdalen"},{value:"Roermond",label:"Roermond"},{value:"De Ronde Venen",label:"De Ronde Venen"},{value:"Roosendaal",label:"Roosendaal"},{value:"Rotterdam",label:"Rotterdam"},{value:"Rozendaal",label:"Rozendaal"},{value:"Rucphen",label:"Rucphen"},{value:"Schagen",label:"Schagen"},{value:"Scherpenzeel",label:"Scherpenzeel"},{value:"Schiedam",label:"Schiedam"},{value:"Schiermonnikoog",label:"Schiermonnikoog"},{value:"Schouwen-Duiveland",label:"Schouwen-Duiveland"},{value:"Simpelveld",label:"Simpelveld"},{value:"Sint-Michielsgestel",label:"Sint-Michielsgestel"},{value:"Sittard-Geleen",label:"Sittard-Geleen"},{value:"Sliedrecht",label:"Sliedrecht"},{value:"Sluis",label:"Sluis"},{value:"Smallingerland",label:"Smallingerland"},{value:"Soest",label:"Soest"},{value:"Someren",label:"Someren"},{value:"Son en Breugel",label:"Son en Breugel"},{value:"Stadskanaal",label:"Stadskanaal"},{value:"Staphorst",label:"Staphorst"},{value:"Stede Broec",label:"Stede Broec"},{value:"Steenbergen",label:"Steenbergen"},{value:"Steenwijkerland",label:"Steenwijkerland"},{value:"Stein (L.)",label:"Stein (L.)"},{value:"Stichtse Vecht",label:"Stichtse Vecht"},{value:"Sdwest-Frysln",label:"Sdwest-Frysln"},{value:"Terneuzen",label:"Terneuzen"},{value:"Terschelling",label:"Terschelling"},{value:"Texel",label:"Texel"},{value:"Teylingen",label:"Teylingen"},{value:"Tholen",label:"Tholen"},{value:"Tiel",label:"Tiel"},{value:"Tilburg",label:"Tilburg"},{value:"Tubbergen",label:"Tubbergen"},{value:"Twenterand",label:"Twenterand"},{value:"Tynaarlo",label:"Tynaarlo"},{value:"Tytsjerksteradiel",label:"Tytsjerksteradiel"},{value:"Uitgeest",label:"Uitgeest"},{value:"Uithoorn",label:"Uithoorn"},{value:"Urk",label:"Urk"},{value:"Utrecht",label:"Utrecht"},{value:"Utrechtse Heuvelrug",label:"Utrechtse Heuvelrug"},{value:"Vaals",label:"Vaals"},{value:"Valkenburg aan de Geul",label:"Valkenburg aan de Geul"},{value:"Valkenswaard",label:"Valkenswaard"},{value:"Veendam",label:"Veendam"},{value:"Veenendaal",label:"Veenendaal"},{value:"Veere",label:"Veere"},{value:"Veldhoven",label:"Veldhoven"},{value:"Velsen",label:"Velsen"},{value:"Venlo",label:"Venlo"},{value:"Venray",label:"Venray"},{value:"Vijfheerenlanden",label:"Vijfheerenlanden"},{value:"Vlaardingen",label:"Vlaardingen"},{value:"Vlieland",label:"Vlieland"},{value:"Vlissingen",label:"Vlissingen"},{value:"Voerendaal",label:"Voerendaal"},{value:"Voorne aan Zee",label:"Voorne aan Zee"},{value:"Voorschoten",label:"Voorschoten"},{value:"Voorst",label:"Voorst"},{value:"Vught",label:"Vught"},{value:"Waadhoeke",label:"Waadhoeke"},{value:"Waalre",label:"Waalre"},{value:"Waalwijk",label:"Waalwijk"},{value:"Waddinxveen",label:"Waddinxveen"},{value:"Wageningen",label:"Wageningen"},{value:"Wassenaar",label:"Wassenaar"},{value:"Waterland",label:"Waterland"},{value:"Weert",label:"Weert"},{value:"West Betuwe",label:"West Betuwe"},{value:"West Maas en Waal",label:"West Maas en Waal"},{value:"Westerkwartier",label:"Westerkwartier"},{value:"Westerveld",label:"Westerveld"},{value:"Westervoort",label:"Westervoort"},{value:"Westerwolde",label:"Westerwolde"},{value:"Westland",label:"Westland"},{value:"Weststellingwerf",label:"Weststellingwerf"},{value:"Wierden",label:"Wierden"},{value:"Wijchen",label:"Wijchen"},{value:"Wijdemeren",label:"Wijdemeren"},{value:"Wijk bij Duurstede",label:"Wijk bij Duurstede"},{value:"Winterswijk",label:"Winterswijk"},{value:"Woensdrecht",label:"Woensdrecht"},{value:"Woerden",label:"Woerden"},{value:"De Wolden",label:"De Wolden"},{value:"Wormerland",label:"Wormerland"},{value:"Woudenberg",label:"Woudenberg"},{value:"Zaanstad",label:"Zaanstad"},{value:"Zaltbommel",label:"Zaltbommel"},{value:"Zandvoort",label:"Zandvoort"},{value:"Zeewolde",label:"Zeewolde"},{value:"Zeist",label:"Zeist"},{value:"Zevenaar",label:"Zevenaar"},{value:"Zoetermeer",label:"Zoetermeer"},{value:"Zoeterwoude",label:"Zoeterwoude"},{value:"Zuidplas",label:"Zuidplas"},{value:"Zundert",label:"Zundert"},{value:"Zutphen",label:"Zutphen"},{value:"Zwartewaterland",label:"Zwartewaterland"},{value:"Zwijndrecht",label:"Zwijndrecht"},{value:"Zwolle",label:"Zwolle"}],dAe=()=>{const[t,e]=q.useState(1),[n,r]=q.useState({municipality:"",firstName:"",lastName:"",birthDate:"",email:"",password:""}),[i,a]=q.useState(null),[o,l]=q.useState(!1),c=Ip(),f=(S,E)=>{r(I=>({...I,[S]:E}))},h=()=>!n.municipality||!n.firstName||!n.lastName||!n.birthDate?(a("Alle velden met een * zijn verplicht."),!1):!0,m=()=>!n.email||!n.password?(a("Alle velden met een * zijn verplicht."),!1):n.password.length<6?(a("Wachtwoord moet minimaal 6 tekens lang zijn."),!1):!0,b=()=>{a(null),h()&&e(2)},T=()=>{a(null),e(1)},w=async S=>{if(S.preventDefault(),a(null),!!m()){l(!0);try{const E=await ZW(cb,n.email,n.password),I=`${n.firstName} ${n.lastName}`.trim();await H3(E.user,{displayName:I});const C={firstName:n.firstName,lastName:n.lastName,birthDate:n.birthDate,municipality:n.municipality.toString(),email:E.user.email,createdAt:U4()};await UQ(Ui(Ar,"users",E.user.uid),C),c("/dashboard")}catch(E){E.code==="auth/email-already-in-use"?a("Dit e-mailadres is al in gebruik."):E.code==="auth/invalid-email"?a("Voer een geldig e-mailadres in."):a("Er is een onbekende fout opgetreden. Probeer het opnieuw."),console.error(E)}finally{l(!1)}}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[url('/achtergrondje.jpg')] bg-cover bg-center bg-no-repeat",children:v.jsx("div",{className:"w-full max-w-6xl",children:v.jsx("div",{className:"bg-white/95 dark:bg-gray-900/95 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-lg",children:v.jsxs("div",{className:"flex flex-col lg:flex-row items-stretch",children:[v.jsx("div",{className:"flex-1 p-6 lg:p-12",children:v.jsxs("div",{className:"max-w-md mx-auto",children:[v.jsxs(hr,{to:"/",className:"inline-flex items-center px-4 py-2 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all mb-8",children:[v.jsx("span",{className:"material-symbols-rounded mr-2",children:"arrow_back"}),"Terug naar Home"]}),v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-3",children:"Maak een Account"}),v.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Zet de eerste stap naar een schuldenvrije toekomst."})]}),i&&v.jsx("div",{className:"mb-6 text-center text-sm text-light-danger dark:text-dark-danger bg-light-danger/10 p-4 rounded-lg font-medium border border-light-danger/20",children:i}),v.jsx("form",{onSubmit:w,className:"space-y-4",children:t===1?v.jsxs(v.Fragment,{children:[v.jsx(kp,{id:"municipality",label:"Gemeente *",options:fAe,value:n.municipality,onChange:S=>f("municipality",S),placeholder:"Selecteer je gemeente",isSearchable:!0,required:!0,icon:v.jsx(kz,{})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsx(tn,{id:"firstName",type:"text",label:"Voornaam *",value:n.firstName,onChange:S=>f("firstName",S.target.value),required:!0,placeholder:"Jouw voornaam",icon:v.jsx(Vr,{})}),v.jsx(tn,{id:"lastName",type:"text",label:"Achternaam *",value:n.lastName,onChange:S=>f("lastName",S.target.value),required:!0,placeholder:"Jouw achternaam",icon:v.jsx(Vr,{})})]}),v.jsx(Np,{id:"birthDate",label:"Geboortedatum *",value:n.birthDate,onChange:S=>f("birthDate",S),icon:v.jsx(Gi,{}),max:new Date().toISOString().split("T")[0],startView:"years",required:!0}),v.jsxs("div",{className:"flex items-center justify-between mt-6",children:[v.jsxs("p",{className:"text-sm text-light-text-secondary dark:text-dark-text-secondary",children:["Heb je al een account?"," ",v.jsx(hr,{to:"/login",className:"font-medium text-brand-accent hover:underline",children:"Log hier in"})]}),v.jsx(Te,{type:"button",variant:"primary",onClick:b,className:"py-3 px-6",children:v.jsxs("span",{className:"flex items-center",children:["Volgende",v.jsx(hf,{className:"ml-2 h-5 w-5"})]})})]})]}):v.jsxs(v.Fragment,{children:[v.jsx(tn,{id:"email",type:"email",label:"E-mailadres *",value:n.email,onChange:S=>f("email",S.target.value),required:!0,placeholder:"jouw.email@adres.nl",icon:v.jsx(To,{})}),v.jsx(tn,{id:"password",type:"password",label:"Wachtwoord *",value:n.password,onChange:S=>f("password",S.target.value),required:!0,placeholder:"Minimaal 6 tekens",icon:v.jsx("span",{className:"material-symbols-rounded text-lg",children:"lock"})}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx(Te,{type:"button",variant:"secondary",onClick:T,className:"py-3",children:v.jsxs("span",{className:"flex items-center",children:[v.jsx(Xp,{className:"mr-2 h-5 w-5"}),"Vorige"]})}),v.jsx(Te,{type:"submit",variant:"primary",disabled:o,className:"py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-xl shadow-lg shadow-blue-500/20 hover:shadow-xl transition-all duration-200",children:o?v.jsxs("span",{className:"flex items-center",children:[v.jsx("div",{className:"mr-2",children:v.jsx(AG,{size:"sm"})}),"Registreren..."]}):v.jsxs("span",{className:"flex items-center",children:["Registreer",v.jsx(hf,{className:"ml-2 h-5 w-5"})]})})]})]})})]})}),v.jsx("div",{className:"hidden lg:block w-1/2 relative bg-gradient-to-br from-brand-accent/10 to-brand-accent/5 dark:from-brand-accent/20 dark:to-brand-accent/10",children:v.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:v.jsx("img",{src:"/images/schuldhulpje.nl.webp",alt:"Schuldhulpje.nl Hero",className:"w-full h-full object-contain rounded-2xl drop-shadow-2xl"})})})]})})})})},hAe={name:"Gemeente Delft",description:"De gemeente Delft biedt diverse vormen van ondersteuning aan inwoners met financile vragen of problemen.",info:"De gemeente Delft biedt diverse vormen van ondersteuning op het gebied van financin en schulden. Hieronder vindt u een overzicht van organisaties die u hierbij kunnen helpen.",contact:{phone:"14015",website:"https://www.delft.nl/",address:"Stadhuis, Stationsplein 1, 2611 BV Delft"}},pAe=[{name:"De Financile Winkel",description:"De Financile Winkel biedt hulp bij geldzorgen en schulden.",location:"Delft",contact:{phone:"015 - 260 33 00",email:"info@financielewinkel.nl",website:"https://www.financielewinkel.nl/"},address:"Vesteplein 100, 2611 BW Delft",logo:"/images/financielewinkel-logo.webp"},{name:"Geldzaken voor Elkaar",description:"Geldzaken voor Elkaar staat voor je klaar bij vragen over geld en administratie.",location:"Delft",contact:{phone:"015 - 212 77 77",email:"info@geldzakenvoorelkaar.nl",website:"https://www.geldzakenvoorelkaar.nl/"},address:"Diverse locaties in Delft, zie website",logo:"/images/geldzakenvoorelkaar-logo.webp"},{name:"Het Regionaal Energieloket",description:"Het Regionaal Energieloket geeft je advies over energie besparen.",location:"Regionaal Energieloket | Gemeente Delft",contact:{phone:"085 - 401 68 24",email:"info@regionaalenergieloket.nl",website:"https://www.regionaalenergieloket.nl/"},address:"Online en telefonisch bereikbaar",logo:"/images/regionaalenergieloket-logo.webp"},{name:"Energiecoach Delft",description:"Besparen op je energiekosten? De energiecoach helpt je verder!",location:"Duurzaam | Gemeente Delft",contact:{phone:"015 - 260 33 00",email:"energiecoach@delft.nl",website:"https://www.delft.nl/energiecoach"},address:"Online en telefonisch bereikbaar",logo:"/images/energiecoach-logo.webp"}],mAe={municipality:hAe,organizations:pAe},gAe=({municipality:t})=>v.jsxs(Ae,{className:"p-6 flex flex-col md:flex-row items-center",children:[" ",v.jsxs("div",{className:"w-32 md:w-48 flex justify-center items-center flex-shrink-0 h-full overflow-hidden rounded-lg mb-4 md:mb-0 md:mr-6",children:[" ",v.jsx("img",{src:"/images/delftlogo.webp",alt:"Gemeente Delft logo",className:"h-full w-full object-cover"})," "]}),v.jsxs("div",{className:"flex-grow md:ml-6",children:[" ",v.jsx("h3",{className:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:t.name}),v.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4 text-sm md:text-base",children:t.info}),t.address&&v.jsx("div",{className:"flex items-center text-gray-700 dark:text-gray-300 mb-2 text-sm",children:v.jsx("span",{children:t.address})}),t.contact.email&&v.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300 mb-4 text-sm",children:[v.jsx(To,{className:"w-4 h-4 mr-2"}),v.jsx("span",{children:t.contact.email})]}),v.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.contact.phone&&v.jsxs(Te,{variant:"secondary",size:"sm",as:"a",href:`tel:${t.contact.phone}`,children:[v.jsx($N,{className:"w-4 h-4 mr-2"})," Bel ons"]}),t.contact.website&&v.jsxs(Te,{variant:"secondary",size:"sm",as:"a",href:t.contact.website,target:"_blank",rel:"noopener noreferrer",children:[v.jsx(BN,{className:"w-4 h-4 mr-2"})," Website"]})]})]})]}),yAe=({organization:t})=>v.jsxs(Ae,{className:"p-6",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[t.logo&&v.jsx("img",{src:t.logo,alt:`${t.name} logo`,className:"w-12 h-12 object-contain mr-4"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold",children:t.name}),v.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:t.location})]})]}),v.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:t.description}),t.address&&v.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-300 mb-4",children:[v.jsx(Kge,{size:18,className:"mr-2 flex-shrink-0"}),v.jsx("span",{children:t.address})]}),v.jsx("div",{className:"space-y-2 mb-4"}),v.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.contact.phone&&v.jsxs(Te,{variant:"secondary",size:"sm",as:"a",href:`tel:${t.contact.phone}`,children:[v.jsx(Jge,{size:16,className:"mr-2"})," Bel ons"]}),t.contact.email&&v.jsxs(Te,{variant:"secondary",size:"sm",as:"a",href:`mailto:${t.contact.email}`,children:[v.jsx(Hge,{size:16,className:"mr-2"})," E-mail"]}),t.contact.website&&v.jsxs(Te,{variant:"secondary",size:"sm",as:"a",href:t.contact.website,target:"_blank",rel:"noopener noreferrer",children:[v.jsx(zge,{size:16,className:"mr-2"})," Website"]})]})]}),FB=mAe,vAe=()=>v.jsxs("div",{className:"space-y-6 sm:space-y-8 font-light container mx-auto",children:[v.jsx(gAe,{municipality:FB.municipality}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:FB.organizations.map(t=>v.jsx(yAe,{organization:t},t.name))})]});class CG extends q.Component{constructor(n){super(n);kt(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:v.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-light-bg dark:bg-dark-bg",children:v.jsxs(Ae,{className:"max-w-md w-full p-6 text-center",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h2",{className:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-2",children:"Er is iets misgegaan"}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary mb-4",children:"We hebben een onverwachte fout gedetecteerd. Probeer de pagina te vernieuwen."})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx(Te,{onClick:this.handleReset,variant:"primary",fullWidth:!0,children:"Probeer opnieuw"}),v.jsx(Te,{onClick:()=>window.location.reload(),variant:"secondary",fullWidth:!0,children:"Pagina vernieuwen"})]}),!1]})}):this.props.children}}const wS=({item:t,isHistory:e,isOverdue:n=!1,onLogPayment:r,onShowDetails:i})=>{const a=parseInt(t.dueDate.split("-")[2],10);let o="bg-brand-accent";e?o="bg-slate-300 dark:bg-slate-600":n&&(o="bg-light-danger dark:bg-dark-danger");const l=f=>{f.stopPropagation(),r(t)},c=n?"animate-glowing-pulse-red":"";return v.jsxs(Ae,{onClick:()=>i(t),interactive:!0,className:`!p-0 flex overflow-hidden transition-all duration-300 ${e?"opacity-70":"hover:shadow-xl dark:hover:shadow-2xl"} ${c}`,pressed:e,children:[v.jsx("div",{className:`flex-shrink-0 w-16 flex flex-col items-center justify-center text-white p-2 text-center ${o}`,children:v.jsx("span",{className:"text-2xl font-bold leading-none",children:a})}),v.jsxs("div",{className:"grid grid-cols-[1fr_40px] items-center gap-3 p-3 flex-grow",children:[v.jsxs("div",{className:"min-w-0",children:[v.jsx("h4",{className:"font-bold text-light-text-primary dark:text-dark-text-primary truncate",children:t.debtCreditorName}),v.jsx("p",{className:`text-lg font-bold ${e?"text-light-text-secondary dark:text-dark-text-secondary":n?"text-light-danger dark:text-dark-danger":"text-brand-accent"}`,children:cn(t.paymentAmount)})]}),v.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:!e&&v.jsx(Te,{variant:"primary",size:"sm",className:"h-10 w-10 !p-0 flex items-center justify-center",onClick:l,"aria-label":`Markeer betaling voor ${t.debtCreditorName} als betaald`,children:v.jsx(Bl,{className:"h-5 w-5"})})})]})]})},bAe=({debts:t,logScheduledPayment:e})=>{const[n,r]=q.useState({isOpen:!1,items:[],selectedItem:null}),i=T=>{r({isOpen:!0,items:[T],selectedItem:T})},a=q.useMemo(()=>t.flatMap(T=>Aa(T)),[t]),o=q.useMemo(()=>GQ(t),[t]),l=q.useMemo(()=>{const T=new Date("2025-07-20T12:00:00Z");return a.filter(w=>!w.isPaid&&new Date(w.dueDate.replace(/-/g,"/"))>=T)},[a]),c=q.useMemo(()=>a.filter(T=>T.isPaid),[a]),f=T=>{const w=new Map;return T.forEach(S=>{const E=S.dueDate.substring(0,7);w.has(E)||w.set(E,[]),w.get(E).push(S)}),Array.from(w.entries())},h=q.useMemo(()=>f(o).sort(([T],[w])=>T.localeCompare(w)),[o]),m=q.useMemo(()=>f(l).sort(([T],[w])=>T.localeCompare(w)),[l]),b=q.useMemo(()=>f(c).sort(([T],[w])=>w.localeCompare(T)),[c]);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"space-y-6 sm:space-y-8 font-light",children:[v.jsx(Qb,{title:"Betalingen",description:"Keur je betalingen goed en houd je geschiedenis bij."}),h.length>0&&v.jsxs("section",{"aria-labelledby":"overdue-payments-heading",children:[v.jsx("h2",{id:"overdue-payments-heading",className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Openstaande Betalingen"}),v.jsx("div",{className:"space-y-4 sm:space-y-6",children:h.map(([T,w])=>{const E=new Date(`${T}-02T00:00:00Z`).toLocaleDateString("nl-NL",{month:"long",year:"numeric"}),I=w.reduce((N,D)=>N+D.paymentAmount,0),C=()=>{w.forEach(N=>e(N))};return v.jsxs(Ae,{className:"!p-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[v.jsx(Gi,{className:"text-5xl text-brand-accent flex-shrink-0"}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("h3",{className:"font-bold text-xl text-light-text-primary dark:text-dark-text-primary capitalize truncate",children:E}),v.jsxs("p",{className:"text-base font-medium text-light-text-secondary dark:text-dark-text-secondary",children:["Totaal: ",cn(I)]})]})]}),v.jsxs(Te,{size:"sm",variant:"secondary",className:"flex-shrink-0 ml-2",onClick:C,"aria-label":`Markeer alle betalingen voor ${E} als afbetaald`,children:[v.jsx(Bl,{className:"mr-1.5"}),"Afbetaald"]})]}),v.jsx("div",{className:"mt-3 pt-3 border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20 space-y-3",children:w.sort((N,D)=>new Date(N.dueDate).getTime()-new Date(D.dueDate).getTime()).map(N=>v.jsx(wS,{item:N,isHistory:!1,isOverdue:!0,onLogPayment:e,onShowDetails:i},N.dueDate+N.debtId))})]},T)})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 items-start",children:[v.jsxs("section",{"aria-labelledby":"upcoming-payments-heading",children:[v.jsx("h2",{id:"upcoming-payments-heading",className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Aankomende Betalingen"}),l.length>0?v.jsx("div",{className:"space-y-4 sm:space-y-6",children:m.map(([T,w])=>{const E=new Date(`${T}-02T00:00:00Z`).toLocaleDateString("nl-NL",{month:"long",year:"numeric"}),I=w.reduce((N,D)=>N+D.paymentAmount,0),C=()=>{w.forEach(N=>e(N))};return v.jsxs(Ae,{className:"!p-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[v.jsx(Gi,{className:"text-5xl text-brand-accent flex-shrink-0"}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("h3",{className:"font-bold text-xl text-light-text-primary dark:text-dark-text-primary capitalize truncate",children:E}),v.jsxs("p",{className:"text-base font-medium text-light-text-secondary dark:text-dark-text-secondary",children:["Totaal: ",cn(I)]})]})]}),v.jsxs(Te,{size:"sm",variant:"secondary",className:"flex-shrink-0 ml-2",onClick:C,"aria-label":`Markeer alle betalingen voor ${E} als afbetaald`,children:[v.jsx(Bl,{className:"mr-1.5"}),"Afbetaald"]})]}),v.jsx("div",{className:"mt-3 pt-3 border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20 space-y-3",children:w.sort((N,D)=>new Date(N.dueDate).getTime()-new Date(D.dueDate).getTime()).map(N=>v.jsx(wS,{item:N,isHistory:!1,onLogPayment:e,onShowDetails:i},N.dueDate+N.debtId))})]},T)})}):v.jsxs(Ae,{className:"text-center py-10 sm:py-12",children:[v.jsx(Bl,{className:"text-3xl sm:text-4xl mx-auto text-light-success dark:text-dark-success opacity-80 mb-2"}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm sm:text-base font-light",children:"Geen aankomende betalingen."}),v.jsx("p",{className:"text-xs sm:text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1 font-light",children:"Alle geplande betalingen zijn goedgekeurd!"})]})]}),v.jsxs("section",{"aria-labelledby":"payment-history-heading",children:[v.jsx("h2",{id:"payment-history-heading",className:"text-xl font-bold text-light-text-primary dark:text-dark-text-primary mb-4",children:"Betalingsgeschiedenis"}),c.length>0?v.jsx("div",{className:"space-y-4 sm:space-y-6",children:b.map(([T,w])=>{const E=new Date(`${T}-02T00:00:00Z`).toLocaleDateString("nl-NL",{month:"long",year:"numeric"}),I=w.reduce((C,N)=>C+N.paymentAmount,0);return v.jsxs(Ae,{className:"!p-4",children:[v.jsx("div",{className:"flex justify-between items-center",children:v.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[v.jsx(Gi,{className:"text-5xl text-light-success dark:text-dark-success opacity-80 flex-shrink-0"}),v.jsxs("div",{className:"min-w-0",children:[v.jsx("h3",{className:"font-bold text-xl text-light-text-primary dark:text-dark-text-primary capitalize truncate",children:E}),v.jsxs("p",{className:"text-base font-medium text-light-text-secondary dark:text-dark-text-secondary",children:["Totaal Betaald: ",cn(I)]})]})]})}),v.jsx("div",{className:"mt-3 pt-3 border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20 space-y-3",children:w.sort((C,N)=>new Date(C.dueDate).getTime()-new Date(N.dueDate).getTime()).map(C=>v.jsx(wS,{item:C,isHistory:!0,onLogPayment:()=>{},onShowDetails:i},C.dueDate+C.debtId))})]},T)})}):v.jsxs(Ae,{className:"text-center py-10 sm:py-12",children:[v.jsx(Xl,{className:"text-3xl sm:text-4xl mx-auto text-brand-accent opacity-70 mb-2"}),v.jsx("p",{className:"text-light-text-secondary dark:text-dark-text-secondary text-sm sm:text-base font-light",children:"Geen betalingen in de geschiedenis."}),v.jsx("p",{className:"text-xs sm:text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1 font-light",children:"Keur een betaling goed om deze hier te zien."})]})]})]})]}),v.jsx(Pz,{isOpen:n.isOpen,onClose:()=>r({isOpen:!1,items:[],selectedItem:null}),items:n.items,selectedItem:n.selectedItem,allDebts:t})]})},xAe=[{path:"/dashboard",label:"Dashboard",icon:VN},{path:"/schulden",label:"Schulden",icon:bz},{path:"/betalingen",label:"Betalingen",icon:Ez},{path:"/financien",label:"Financin",icon:Jb},{path:"/ondersteuning",label:"Ondersteuning",icon:Nge},{path:"/account",label:"Account",icon:Vr}],_Ae=[{path:"/schulden",label:"Schulden",icon:bz},{path:"/betalingen",label:"Betalingen",icon:Ez},{path:"/dashboard",label:"Dashboard",icon:VN},{path:"/financien",label:"Financin",icon:Jb},{path:"/ai-assistent",label:"Assistent",icon:Az}],TAe=()=>{const{theme:t,toggleTheme:e}=Vs(),n=gf(),{user:r}=q4(),i=QQ(),a=ZQ(),[o,l]=q.useState(null),[c,f]=q.useState([]),[h,m]=q.useState([]),[b,T]=q.useState([]),[w,S]=q.useState([]),{execute:E,isLoading:I}=eZ();q.useEffect(()=>{if(!r){l(null),f([]),m([]),T([]),S([]);return}const N=[];return N.push(fr.subscribeToUser(r.uid,D=>{l(D),D||console.warn("Gebruikersprofiel niet gevonden")})),N.push(fr.subscribeToDebts(r.uid,f),fr.subscribeToIncomes(r.uid,m),fr.subscribeToExpenses(r.uid,T),fr.subscribeToActivityLog(r.uid,S)),()=>N.forEach(D=>D())},[r]);const C=q.useMemo(()=>r?{addDebt:async N=>{await E(async()=>{await fr.addDebt(r.uid,N)},()=>i("Schuld toegevoegd","De nieuwe schuld is succesvol toegevoegd"),D=>a("Fout bij toevoegen schuld",D))},updateDebt:async N=>{await E(async()=>{await fr.updateDebt(r.uid,N)},()=>i("Schuld bijgewerkt","De schuld is succesvol bijgewerkt"),D=>a("Fout bij bijwerken schuld",D))},deleteDebt:async N=>{await E(async()=>{await fr.deleteDebt(r.uid,N)},()=>i("Schuld verwijderd","De schuld is succesvol verwijderd"),D=>a("Fout bij verwijderen schuld",D))},addIncome:async N=>{await E(async()=>{await fr.addIncome(r.uid,N)},()=>i("Inkomst toegevoegd","De nieuwe inkomst is succesvol toegevoegd"),D=>a("Fout bij toevoegen inkomst",D))},updateIncome:async N=>{await E(async()=>{await fr.updateIncome(r.uid,N)},()=>i("Inkomst bijgewerkt","De inkomst is succesvol bijgewerkt"),D=>a("Fout bij bijwerken inkomst",D))},deleteIncome:async N=>{await E(async()=>{await fr.deleteIncome(r.uid,N)},()=>i("Inkomst verwijderd","De inkomst is succesvol verwijderd"),D=>a("Fout bij verwijderen inkomst",D))},addExpense:async N=>{await E(async()=>{await fr.addExpense(r.uid,N)},()=>i("Uitgave toegevoegd","De nieuwe uitgave is succesvol toegevoegd"),D=>a("Fout bij toevoegen uitgave",D))},updateExpense:async N=>{await E(async()=>{await fr.updateExpense(r.uid,N)},()=>i("Uitgave bijgewerkt","De uitgave is succesvol bijgewerkt"),D=>a("Fout bij bijwerken uitgave",D))},deleteExpense:async N=>{await E(async()=>{await fr.deleteExpense(r.uid,N)},()=>i("Uitgave verwijderd","De uitgave is succesvol verwijderd"),D=>a("Fout bij verwijderen uitgave",D))},logScheduledPayment:async N=>{await E(async()=>{await fr.logScheduledPayment(r.uid,N)},()=>i("Betaling geregistreerd","De betaling is succesvol geregistreerd"),D=>a("Fout bij registreren betaling",D))},updateUserProfile:async N=>{await E(async()=>{await fr.updateUserProfile(r.uid,r,N)},()=>i("Profiel bijgewerkt","Je profiel is succesvol bijgewerkt"),D=>a("Fout bij bijwerken profiel",D))}}:{addDebt:async()=>{},updateDebt:async()=>{},deleteDebt:async()=>{},addIncome:async()=>{},updateIncome:async()=>{},deleteIncome:async()=>{},addExpense:async()=>{},updateExpense:async()=>{},deleteExpense:async()=>{},logScheduledPayment:async()=>{},updateUserProfile:async()=>{}},[r,E,i,a]);return!o&&r?v.jsx("div",{className:"flex justify-center items-center h-screen bg-light-bg dark:bg-dark-bg",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-accent mx-auto mb-4"}),v.jsx("p",{className:"text-light-text-primary dark:text-dark-text-primary",children:"Gebruikersprofiel laden..."})]})}):n.pathname==="/"?v.jsx(gh,{to:"/dashboard",replace:!0}):v.jsx(CG,{children:v.jsxs("div",{className:"min-h-screen text-light-text-primary dark:text-dark-text-primary transition-colors duration-300 font-light",children:[v.jsx("aside",{className:"hidden xl:flex fixed top-4 bottom-4 left-4 z-40 w-48",children:v.jsxs(Ae,{transparencyLevel:"high",className:"w-full h-full flex flex-col items-center p-4",children:[v.jsx("nav",{className:"flex-grow space-y-2 w-full",children:xAe.map(N=>{const D=n.pathname===N.path,R=N.icon;return v.jsxs(Te,{as:hr,to:N.path,variant:D?"secondary":"ghost",fullWidth:!0,className:"justify-start !p-3 text-xs","aria-current":D?"page":void 0,children:[v.jsx("span",{className:`transition-colors duration-200 mr-4 ${D?"text-brand-accent":""}`,role:"img","aria-hidden":"true",children:R?v.jsx(R,{className:"text-2xl"}):null}),v.jsx("span",{className:`font-medium transition-colors duration-200 ${D?"text-light-text-primary dark:text-dark-text-primary":""}`,children:N.label})]},N.path)})}),v.jsxs("div",{className:"mt-auto p-4 w-full",children:[v.jsxs(Te,{onClick:e,className:"w-full text-xs flex flex-row items-center justify-start !p-3",variant:"secondary","aria-label":"Thema wisselen",title:"Thema wisselen",disabled:I,children:[t==="dark"?v.jsx(yz,{className:"text-xl mr-3"}):v.jsx(vz,{className:"text-xl mr-3"}),v.jsx("span",{className:"font-medium",children:t==="dark"?"Licht":"Donker"})]}),v.jsx("div",{className:"pt-4 text-center",children:v.jsxs("p",{className:"text-xs font-light text-light-text-secondary dark:text-dark-text-secondary",children:[" ",new Date().getFullYear()," Schuldhulpje"]})})]})]})}),v.jsx("div",{className:"xl:ml-[14rem] xl:mr-[26rem]",children:v.jsx("main",{className:"w-full min-h-screen p-3 sm:p-4 xl:p-6 pb-20 xl:pb-8",children:v.jsxs(e3,{children:[v.jsx(pr,{path:"/dashboard",element:v.jsx(nye,{currentUser:o,debts:c,incomes:h,expenses:b,activityLog:w})}),v.jsx(pr,{path:"/schulden",element:v.jsx(ySe,{debts:c,addDebt:C.addDebt,updateDebt:C.updateDebt,deleteDebt:C.deleteDebt,currentUser:o,incomes:h,expenses:b})}),v.jsx(pr,{path:"/betalingen",element:v.jsx(bAe,{debts:c,logScheduledPayment:C.logScheduledPayment})}),v.jsx(pr,{path:"/financien",element:v.jsx(bSe,{incomes:h,addIncome:C.addIncome,updateIncome:C.updateIncome,deleteIncome:C.deleteIncome,expenses:b,addExpense:C.addExpense,updateExpense:C.updateExpense,deleteExpense:C.deleteExpense})}),v.jsx(pr,{path:"/ai-assistent",element:v.jsx("div",{className:"xl:hidden fixed inset-0 bottom-16 p-2 sm:p-4",children:v.jsx(qB,{currentUser:o,debts:c,incomes:h,expenses:b,addDebt:C.addDebt,addIncome:C.addIncome,addExpense:C.addExpense})})}),v.jsx(pr,{path:"/account",element:v.jsx(oAe,{currentUser:o,updateUserProfile:C.updateUserProfile})}),v.jsx(pr,{path:"/ondersteuning",element:v.jsx(vAe,{})}),v.jsx(pr,{path:"*",element:v.jsx(gh,{to:"/dashboard",replace:!0})})]})})}),v.jsx("aside",{className:"hidden xl:flex fixed top-4 bottom-4 right-4 z-30 w-[24rem] flex-shrink-0",children:v.jsx(qB,{currentUser:o,debts:c,incomes:h,expenses:b,addDebt:C.addDebt,addIncome:C.addIncome,addExpense:C.addExpense})}),v.jsx("nav",{className:"xl:hidden fixed bottom-0 left-0 right-0 h-16 bg-light-surface/80 dark:bg-dark-surface/80 backdrop-blur-md border-t border-light-shadow-dark/20 dark:border-dark-shadow-light/20 flex items-center justify-around z-50 rounded-t-2xl",children:_Ae.map(N=>{const D=n.pathname===N.path,R=N.icon;return v.jsxs(hr,{to:N.path,className:`flex-1 flex flex-col items-center justify-center h-full p-1 rounded-md transition-colors ${D?"text-brand-accent":"text-light-text-secondary dark:text-dark-text-secondary hover:text-brand-accent/70"} ${I?"pointer-events-none opacity-50":""}`,"aria-label":N.label,children:[R?v.jsx(R,{className:"text-2xl"}):null,v.jsx("span",{className:`text-[0.6rem] leading-tight mt-0.5 ${D?"font-medium":"font-light"}`,children:N.label})]},N.path)})})]})})},wAe=()=>{const{user:t,loading:e}=q4();return e?v.jsx("div",{className:"flex justify-center items-center h-screen bg-light-bg dark:bg-dark-bg",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand-accent mx-auto mb-4"}),v.jsx("p",{className:"text-light-text-primary dark:text-dark-text-primary",children:"Authenticatie controleren..."})]})}):v.jsx(e3,{children:t?v.jsxs(v.Fragment,{children:[v.jsx(pr,{path:"/*",element:v.jsx(TAe,{})}),v.jsx(pr,{path:"/login",element:v.jsx(gh,{to:"/dashboard",replace:!0})}),v.jsx(pr,{path:"/register",element:v.jsx(gh,{to:"/dashboard",replace:!0})})]}):v.jsxs(v.Fragment,{children:[v.jsx(pr,{path:"/",element:v.jsx(uAe,{})}),v.jsx(pr,{path:"/login",element:v.jsx(cAe,{})}),v.jsx(pr,{path:"/register",element:v.jsx(dAe,{})}),v.jsx(pr,{path:"*",element:v.jsx(gh,{to:"/",replace:!0})})]})})},NG=document.getElementById("root");if(!NG)throw new Error("Could not find root element to mount to");const EAe=hH.createRoot(NG);EAe.render(v.jsx(Y.StrictMode,{children:v.jsx(CG,{children:v.jsx(c8,{children:v.jsx(p8,{children:v.jsx(qQ,{children:v.jsx(YQ,{children:v.jsx(wAe,{})})})})})})}));
